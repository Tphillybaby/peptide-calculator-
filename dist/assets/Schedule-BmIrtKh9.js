import{r as o,v as O,g as T,h as w,i as B,s as E,k as L,l as _,j as e,m as g,n as $,o as G,p as H}from"./vendor-DfY1fLBf.js";import{p as P,q as z,P as F,r as J,s as q,c as R}from"./icons-CQ2zrZuo.js";const u="peptide_tracker_schedule",W=()=>{const[l,i]=o.useState([]);return o.useEffect(()=>{const d=localStorage.getItem(u);d&&i(JSON.parse(d))},[]),{schedules:l,addSchedule:d=>{const c={id:O(),completed:!1,...d},n=[...l,c];i(n),localStorage.setItem(u,JSON.stringify(n))},deleteSchedule:d=>{const c=l.filter(n=>n.id!==d);i(c),localStorage.setItem(u,JSON.stringify(c))},toggleComplete:d=>{const c=l.map(n=>n.id===d?{...n,completed:!n.completed}:n);i(c),localStorage.setItem(u,JSON.stringify(c))}}},A="_container_ag7tr_1",U="_calendarCard_ag7tr_9",K="_header_ag7tr_13",Y="_navBtn_ag7tr_26",Q="_grid_ag7tr_44",V="_dayHeader_ag7tr_50",X="_day_ag7tr_50",Z="_selected_ag7tr_75",ee="_dimmed_ag7tr_81",te="_dots_ag7tr_86",se="_dot_ag7tr_86",ae="_completedDot_ag7tr_99",ce="_detailsSection_ag7tr_103",de="_detailsHeader_ag7tr_109",ne="_form_ag7tr_120",le="_inputGroup_ag7tr_140",re="_row_ag7tr_162",ie="_scheduleList_ag7tr_168",oe="_emptyText_ag7tr_174",me="_scheduleItem_ag7tr_180",he="_completedItem_ag7tr_188",ue="_scheduleLeft_ag7tr_192",pe="_checkIcon_ag7tr_200",_e="_circleIcon_ag7tr_204",ge="_scheduleInfo_ag7tr_208",xe="_schedulePeptide_ag7tr_213",je="_scheduleDetails_ag7tr_218",Se="_deleteBtn_ag7tr_223",s={container:A,calendarCard:U,header:K,navBtn:Y,grid:Q,dayHeader:V,day:X,selected:Z,dimmed:ee,dots:te,dot:se,completedDot:ae,detailsSection:ce,detailsHeader:de,form:ne,inputGroup:le,row:re,scheduleList:ie,emptyText:oe,scheduleItem:me,completedItem:he,scheduleLeft:ue,checkIcon:pe,circleIcon:_e,scheduleInfo:ge,schedulePeptide:xe,scheduleDetails:je,deleteBtn:Se},ve=()=>{const{schedules:l,addSchedule:i,deleteSchedule:x,toggleComplete:j}=W(),[r,d]=o.useState(new Date),[c,n]=o.useState(new Date),[S,p]=o.useState(!1),[a,m]=o.useState({peptide:"",dosage:"",unit:"mg",time:"08:00"}),N=T({start:E(L(r)),end:w(B(r))}),y=()=>d(H(r,1)),I=()=>d(G(r)),C=t=>{n(t),p(!1)},D=t=>{t.preventDefault(),!(!a.peptide||!a.dosage)&&(i({date:c.toISOString(),peptide:a.peptide,dosage:parseFloat(a.dosage),unit:a.unit,time:a.time}),m({peptide:"",dosage:"",unit:"mg",time:"08:00"}),p(!1))},v=l.filter(t=>_(new Date(t.date),c));return e.jsxs("div",{className:s.container,children:[e.jsxs("div",{className:`card glass-panel ${s.calendarCard}`,children:[e.jsxs("div",{className:s.header,children:[e.jsx("button",{onClick:I,className:s.navBtn,children:e.jsx(P,{})}),e.jsx("h2",{children:g(r,"MMMM yyyy")}),e.jsx("button",{onClick:y,className:s.navBtn,children:e.jsx(z,{})})]}),e.jsxs("div",{className:s.grid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>e.jsx("div",{className:s.dayHeader,children:t},t)),N.map(t=>{const f=l.filter(h=>_(new Date(h.date),t)),M=f.length>0,b=_(t,c),k=$(t,r);return e.jsxs("div",{className:`${s.day} ${k?"":s.dimmed} ${b?s.selected:""}`,onClick:()=>C(t),children:[e.jsx("span",{children:g(t,"d")}),M&&e.jsx("div",{className:s.dots,children:f.slice(0,3).map(h=>e.jsx("div",{className:`${s.dot} ${h.completed?s.completedDot:""}`},h.id))})]},t.toString())})]})]}),e.jsxs("div",{className:s.detailsSection,children:[e.jsxs("div",{className:s.detailsHeader,children:[e.jsx("h3",{children:g(c,"EEEE, MMMM do")}),e.jsxs("button",{className:"btn-primary",onClick:()=>p(!S),children:[e.jsx(F,{size:18})," Add Schedule"]})]}),S&&e.jsxs("form",{className:`card glass-panel ${s.form}`,onSubmit:D,children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{children:"Peptide"}),e.jsx("input",{type:"text",value:a.peptide,onChange:t=>m({...a,peptide:t.target.value}),placeholder:"e.g. Tirzepatide",required:!0})]}),e.jsxs("div",{className:s.row,children:[e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{children:"Dosage"}),e.jsx("input",{type:"number",step:"0.01",value:a.dosage,onChange:t=>m({...a,dosage:t.target.value}),required:!0})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{children:"Unit"}),e.jsxs("select",{value:a.unit,onChange:t=>m({...a,unit:t.target.value}),children:[e.jsx("option",{value:"mg",children:"mg"}),e.jsx("option",{value:"mcg",children:"mcg"}),e.jsx("option",{value:"iu",children:"IU"})]})]})]}),e.jsxs("div",{className:s.inputGroup,children:[e.jsx("label",{children:"Time"}),e.jsx("input",{type:"time",value:a.time,onChange:t=>m({...a,time:t.target.value})})]}),e.jsx("button",{type:"submit",className:"btn-primary",style:{width:"100%",marginTop:"1rem"},children:"Save Schedule"})]}),e.jsx("div",{className:s.scheduleList,children:v.length===0?e.jsx("p",{className:s.emptyText,children:"No shots scheduled for this day."}):v.map(t=>e.jsxs("div",{className:`card ${s.scheduleItem} ${t.completed?s.completedItem:""}`,children:[e.jsxs("div",{className:s.scheduleLeft,onClick:()=>j(t.id),children:[t.completed?e.jsx(J,{className:s.checkIcon,size:24}):e.jsx(q,{className:s.circleIcon,size:24}),e.jsxs("div",{className:s.scheduleInfo,children:[e.jsx("span",{className:s.schedulePeptide,children:t.peptide}),e.jsxs("span",{className:s.scheduleDetails,children:[t.dosage,t.unit," at ",t.time]})]})]}),e.jsx("button",{className:s.deleteBtn,onClick:()=>x(t.id),children:e.jsx(R,{size:18})})]},t.id))})]})]})},ye=()=>e.jsx("div",{className:"padding-container",style:{padding:"20px"},children:e.jsx(ve,{})});export{ye as default};
