import{r as n,j as e,q as S,N as w,L as z}from"./vendor-DfY1fLBf.js";import{a as B}from"./peptideDatabase-CQvzOIJD.js";import{a as R,g as k,b as C}from"./index-BJkCETti.js";import{n as I,p as g,O as N,j as L,h as D,Q as W,A,m as T,V as E,B as P,o as H}from"./icons-CyaaeJUc.js";const M=({peptideName:a})=>{const{user:t}=R(),[r,i]=n.useState([]),[d,o]=n.useState(!0),[c,x]=n.useState(0),[p,y]=n.useState(""),[h,f]=n.useState(!1),[j,v]=n.useState(0);n.useEffect(()=>{u()},[a]);const u=async()=>{o(!0);const s=await k(a);i(s),o(!1)},b=async s=>{if(s.preventDefault(),!t)return;if(c===0)return alert("Please select a rating");f(!0);const l=await C(a,c,p,t.id);i([l,...r]),x(0),y(""),f(!1)},m=r.length?(r.reduce((s,l)=>s+l.rating,0)/r.length).toFixed(1):0;return e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",marginTop:"2rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem"},children:[e.jsxs("div",{children:[e.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"600",display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx(I,{size:24,color:"var(--accent-primary)"}),"Community Reviews"]}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:["See what others are saying about ",a]})]}),r.length>0&&e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"700",color:"white",lineHeight:1},children:m}),e.jsx("div",{style:{display:"flex",gap:"2px",justifyContent:"flex-end",margin:"0.25rem 0"},children:[1,2,3,4,5].map(s=>e.jsx(g,{size:16,fill:s<=Math.round(m)?"#fbbf24":"none",color:s<=Math.round(m)?"#fbbf24":"#4b5563"},s))}),e.jsxs("div",{style:{fontSize:"0.875rem",color:"var(--text-secondary)"},children:[r.length," ",r.length===1?"rating":"ratings"]})]})]}),t?e.jsxs("form",{onSubmit:b,style:{background:"rgba(15, 23, 42, 0.3)",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem",border:"1px solid var(--glass-border)"},children:[e.jsx("h3",{style:{fontSize:"1rem",marginBottom:"1rem"},children:"Leave a Review"}),e.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem"},children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>x(s),onMouseEnter:()=>v(s),onMouseLeave:()=>v(0),style:{background:"none",border:"none",cursor:"pointer",padding:0,transition:"transform 0.1s"},children:e.jsx(g,{size:24,fill:(j||c)>=s?"#fbbf24":"none",color:(j||c)>=s?"#fbbf24":"#4b5563"})},s))}),e.jsx("textarea",{value:p,onChange:s=>y(s.target.value),placeholder:"Share your experience...",style:{width:"100%",minHeight:"100px",padding:"1rem",background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"white",marginBottom:"1rem",resize:"vertical"}}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:h||c===0,style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[h?"Posting...":"Post Review"," ",e.jsx(N,{size:16})]})]}):e.jsx("div",{style:{padding:"1.5rem",textAlign:"center",background:"rgba(59, 130, 246, 0.1)",borderRadius:"12px",marginBottom:"2rem",border:"1px solid rgba(59, 130, 246, 0.2)"},children:e.jsxs("p",{children:["Please ",e.jsx("a",{href:"/login",style:{color:"var(--accent-primary)",fontWeight:"600"},children:"log in"})," to leave a review."]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:d?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center"},children:"Loading reviews..."}):r.length===0?e.jsx("p",{style:{color:"var(--text-secondary)",textAlign:"center",fontStyle:"italic"},children:"No reviews yet. Be the first to share your experience!"}):r.map(s=>e.jsxs("div",{style:{paddingBottom:"1.5rem",borderBottom:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--glass-surface)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--glass-border)"},children:e.jsx(L,{size:16,color:"var(--text-secondary)"})}),e.jsxs("div",{children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:s.user_name||"Anonymous"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(l=>e.jsx(g,{size:14,fill:l<=s.rating?"#fbbf24":"none",color:l<=s.rating?"#fbbf24":"#4b5563"},l))})]}),e.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.5"},children:s.comment})]},s.id))})]})},U=()=>{const{name:a}=S(),t=n.useMemo(()=>B(decodeURIComponent(a)),[a]);return t?e.jsxs("div",{className:"page-container",children:[e.jsxs(z,{to:"/encyclopedia",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",textDecoration:"none",marginBottom:"2rem"},children:[e.jsx(D,{size:20})," Back to Encyclopedia"]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"2rem"},children:[e.jsx("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",flexWrap:"wrap",gap:"1rem"},children:[e.jsxs("div",{children:[e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.875rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em"},children:t.category}),e.jsx("h1",{style:{fontSize:"2.5rem",margin:"0.5rem 0 1rem 0"},children:t.name}),e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1.125rem",maxWidth:"800px",lineHeight:"1.6"},children:t.description})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(W,{size:16})," Half-Life"]}),e.jsx("div",{style:{fontWeight:"600",color:"white"},children:t.halfLife})]}),e.jsxs("div",{style:{padding:"1rem",background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--text-secondary)",marginBottom:"0.25rem",fontSize:"0.875rem"},children:[e.jsx(A,{size:16})," Common Dosage"]}),e.jsx("div",{style:{fontWeight:"600",color:"white"},children:t.commonDosage})]})]})]})}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(T,{className:"text-accent",size:24})," Benefits"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.benefits.map((r,i)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#10b981",marginTop:"0.25rem"},children:"âœ“"}),r]},i))})]}),e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(E,{className:"text-accent",size:24})," Side Effects & Warnings"]}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.sideEffects.map((r,i)=>e.jsxs("li",{style:{display:"flex",gap:"0.75rem",alignItems:"start",color:"var(--text-secondary)"},children:[e.jsx("span",{style:{color:"#f59e0b",marginTop:"0.25rem"},children:"!"}),r]},i))}),t.warnings&&t.warnings.length>0&&e.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"rgba(239, 68, 68, 0.1)",borderRadius:"var(--radius-md)",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[e.jsx("strong",{style:{color:"#ef4444",display:"block",marginBottom:"0.5rem"},children:"Important Warnings:"}),e.jsx("ul",{style:{paddingLeft:"1.25rem",margin:0,color:"var(--text-secondary)",fontSize:"0.875rem"},children:t.warnings.map((r,i)=>e.jsx("li",{children:r},i))})]})]}),t.protocols&&t.protocols.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1.5rem"},children:[e.jsx(P,{className:"text-accent",size:24})," Dosage Protocols"]}),e.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:t.protocols.map((r,i)=>e.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.5)",borderRadius:"var(--radius-md)",border:"1px solid var(--glass-border)",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1rem 1.5rem",borderBottom:"1px solid var(--glass-border)",background:"rgba(255, 255, 255, 0.02)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.25rem"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.125rem"},children:r.name}),e.jsx("span",{style:{fontSize:"0.75rem",padding:"0.25rem 0.75rem",borderRadius:"999px",background:"var(--accent-primary)",color:"white"},children:r.level})]}),e.jsx("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)"},children:r.description})]}),e.jsxs("div",{style:{padding:"1.5rem"},children:[r.schedule&&e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.875rem"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{borderBottom:"1px solid var(--glass-border)",textAlign:"left"},children:[e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Week"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Dose"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Frequency"}),e.jsx("th",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:"Notes"})]})}),e.jsx("tbody",{children:r.schedule.map((d,o)=>e.jsxs("tr",{style:{borderBottom:o<r.schedule.length-1?"1px solid var(--glass-border)":"none"},children:[e.jsx("td",{style:{padding:"0.75rem",fontWeight:"500"},children:d.week}),e.jsx("td",{style:{padding:"0.75rem"},children:d.dose}),e.jsx("td",{style:{padding:"0.75rem"},children:d.frequency}),e.jsx("td",{style:{padding:"0.75rem",color:"var(--text-secondary)"},children:d.notes})]},o))})]})}),r.notes&&e.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"0.5rem",fontSize:"0.875rem",color:"#93c5fd"},children:[e.jsx("strong",{children:"Note:"})," ",r.notes]})]})]},i))})]}),t.researchLinks&&t.researchLinks.length>0&&e.jsxs("div",{className:"card glass-panel",style:{padding:"2rem",gridColumn:"1 / -1"},children:[e.jsx("h3",{style:{marginBottom:"1rem"},children:"Research & Clinical Studies"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:t.researchLinks.map((r,i)=>e.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--accent-primary)",textDecoration:"none"},children:[e.jsx(H,{size:16}),r]},i))})]}),e.jsx("div",{style:{gridColumn:"1 / -1"},children:e.jsx(M,{peptideName:t.name})})]})]}):e.jsx(w,{to:"/encyclopedia",replace:!0})};export{U as default};
