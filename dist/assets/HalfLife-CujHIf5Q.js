import{r as c,j as e}from"./vendor-B1DCW80S.js";import{L as _,C as b,a as H,b as L,P as E,c as T,p as G,d as I,e as N,i as w}from"./charts-A5VHrP0f.js";import{u as A}from"./index-CKjb_fcz.js";import{A as M}from"./icons-KtW8kbC0.js";const R="_container_12nyl_1",k="_controls_12nyl_9",O="_controlGroup_12nyl_15",B="_chartHeader_12nyl_36",K="_chartContainer_12nyl_43",F="_emptyState_12nyl_49",n={container:R,controls:k,controlGroup:O,chartHeader:B,chartContainer:K,emptyState:F};b.register(H,L,E,T,G,I,N,w);const f={"GLP-1 Agonists & Weight Loss":{Semaglutide:168,Tirzepatide:120,Retatrutide:144,Liraglutide:13,Dulaglutide:120,Exenatide:2.4},"Growth Hormone Secretagogues":{"CJC-1295 (no DAC)":.5,"CJC-1295 (DAC)":168,Ipamorelin:2,"GHRP-2":.5,"GHRP-6":.5,Hexarelin:1.5,"MK-677 (Ibutamoren)":24},"Healing & Recovery":{"BPC-157":4,"TB-500":120,"Thymosin Alpha-1":3,"Thymosin Beta-4":24,"GHK-Cu":1},"Cosmetic & Skin":{"Melanotan I":1,"Melanotan II":1,"PT-141 (Bremelanotide)":3,"GHK-Cu (Copper Peptide)":1},"Performance & Muscle":{"IGF-1 LR3":24,"IGF-1 DES":.5,"Follistatin 344":48,"ACE-031":168,"YK-11":12},"Cognitive & Nootropic":{Semax:1,Selank:.5,Cerebrolysin:2.5,P21:3,Dihexa:2},"Metabolic & Other":{"AOD-9604":.5,"MOTS-c":2,Epithalon:2,Pinealon:2,"SS-31 (Elamipretide)":4}},z=Object.values(f).reduce((o,a)=>({...o,...a}),{Custom:24}),J=()=>{const{injections:o}=A(),[a,y]=c.useState("Semaglutide"),[d,v]=c.useState(24),[u,W]=c.useState(30),m=a==="Custom"?d:z[a],p=c.useMemo(()=>{if(o.length===0)return null;const t=a==="Custom"?o:o.filter(r=>r.peptide.toLowerCase().includes(a.toLowerCase()));if(t.length===0)return null;const l=new Date(Math.min(...t.map(r=>new Date(r.date))));l.setHours(0,0,0,0);const s=new Date;s.setDate(s.getDate()+u);const h=[],g=[];let i=new Date(l);for(;i<=s;){h.push(i.toLocaleDateString(void 0,{month:"short",day:"numeric"}));let r=0;const x=i.getTime();t.forEach(C=>{const j=new Date(C.date).getTime();if(j<=x){const D=(x-j)/36e5,S=C.dosage*Math.pow(.5,D/m);r+=S}}),g.push(r),i.setDate(i.getDate()+1)}return{labels:h,datasets:[{label:"Estimated Active Level (mg)",data:g,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.2)",tension:.4,fill:!0,pointRadius:2}]}},[o,m,u,a]),P={responsive:!0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1}},scales:{y:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#94a3b8"}},x:{grid:{display:!1},ticks:{color:"#94a3b8",maxTicksLimit:8}}},interaction:{mode:"nearest",axis:"x",intersect:!1}};return e.jsxs("div",{className:n.container,children:[e.jsxs("div",{className:n.controls,children:[e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Peptide Profile"}),e.jsxs("select",{value:a,onChange:t=>y(t.target.value),children:[Object.entries(f).map(([t,l])=>e.jsx("optgroup",{label:t,children:Object.keys(l).map(s=>e.jsx("option",{value:s,children:s},s))},t)),e.jsx("option",{value:"Custom",children:"Custom"})]})]}),a==="Custom"&&e.jsxs("div",{className:n.controlGroup,children:[e.jsx("label",{children:"Half-Life (Hours)"}),e.jsx("input",{type:"number",value:d,onChange:t=>v(Number(t.target.value)),onWheel:t=>t.target.blur()})]})]}),e.jsxs("div",{className:"card glass-panel",children:[e.jsxs("div",{className:n.chartHeader,children:[e.jsx(M,{size:20,color:"var(--accent-primary)"}),e.jsx("h3",{children:"Decay Plotter"})]}),e.jsx("div",{className:n.chartContainer,children:p?e.jsx(_,{data:p,options:P}):e.jsxs("div",{className:n.emptyState,children:[e.jsx("p",{children:"No data for selected peptide."}),e.jsxs("small",{children:['Log an injection with the name "',a,'" to see the graph.']})]})})]})]})},V=()=>e.jsx("div",{className:"padding-container",style:{padding:"20px"},children:e.jsx(J,{})});export{V as default};
