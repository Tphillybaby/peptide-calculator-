import{j as e,r as o}from"./vendor-DeVHeJzg.js";import{s as y}from"./index-BEdA13Re.js";import{S as b,I as k}from"./icons-CGAKu2bT.js";const C="_container_azfkq_1",v="_header_azfkq_10",_="_inputGroup_azfkq_24",w="_resultContainer_azfkq_43",N="_resultCard_azfkq_53",G="_resultLabel_azfkq_58",W="_resultValue_azfkq_68",S="_resultUnit_azfkq_80",z="_details_azfkq_86",q="_detailRow_azfkq_94",P="_infoBox_azfkq_111",r={container:C,header:v,inputGroup:_,resultContainer:w,resultCard:N,resultLabel:G,resultValue:W,resultUnit:S,details:z,detailRow:q,infoBox:P},B=({units:d,maxUnits:x=100})=>{const u=Math.min(Math.max(d,0),x),c=200,p=c/x,l=u*p;return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"30px 20px"},children:[e.jsxs("svg",{width:"350",height:"140",viewBox:"0 0 350 140",style:{filter:"drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3))"},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"barrelGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.15)"}),e.jsx("stop",{offset:"50%",stopColor:"rgba(255, 255, 255, 0.05)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0.12)"})]}),e.jsxs("linearGradient",{id:"liquidGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0.8)"}),e.jsx("stop",{offset:"50%",stopColor:"rgba(59, 130, 246, 0.6)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(6, 182, 212, 0.7)"})]}),e.jsxs("linearGradient",{id:"plungerGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"#4b5563"}),e.jsx("stop",{offset:"50%",stopColor:"#374151"}),e.jsx("stop",{offset:"100%",stopColor:"#4b5563"})]}),e.jsxs("linearGradient",{id:"needleGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#9ca3af"}),e.jsx("stop",{offset:"50%",stopColor:"#d1d5db"}),e.jsx("stop",{offset:"100%",stopColor:"#6b7280"})]}),e.jsxs("linearGradient",{id:"reflection",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(255, 255, 255, 0.4)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(255, 255, 255, 0)"})]})]}),e.jsxs("g",{children:[e.jsx("rect",{x:"35",y:"58",width:"20",height:"24",rx:"2",fill:"#e5e7eb",stroke:"#9ca3af",strokeWidth:"1"}),e.jsx("polygon",{points:"10,68 10,72 35,70",fill:"url(#needleGradient)",stroke:"#6b7280",strokeWidth:"0.5"}),e.jsx("polygon",{points:"8,70 10,68 10,72",fill:"#4b5563"}),e.jsx("line",{x1:"12",y1:"69",x2:"33",y2:"69.5",stroke:"rgba(255, 255, 255, 0.6)",strokeWidth:"0.5"})]}),e.jsx("rect",{x:"55",y:"45",width:"220",height:"50",rx:"6",fill:"url(#barrelGradient)",stroke:"rgba(255, 255, 255, 0.3)",strokeWidth:"2"}),e.jsx("rect",{x:"60",y:"52",width:"210",height:"36",rx:"3",fill:"rgba(0, 0, 0, 0.2)",stroke:"rgba(255, 255, 255, 0.1)",strokeWidth:"1"}),Array.from({length:11}).map((f,a)=>{const n=60+a*(c/10),t=a%2===0;return e.jsxs("g",{children:[e.jsx("line",{x1:n,y1:t?45:48,x2:n,y2:"52",stroke:"rgba(255, 255, 255, 0.4)",strokeWidth:t?"1.5":"1"}),t&&e.jsx("text",{x:n,y:"40",fontSize:"11",fontWeight:"600",fill:"var(--text-secondary)",textAnchor:"middle",fontFamily:"Inter, sans-serif",children:a*10})]},a)}),l>0&&e.jsxs("g",{children:[e.jsx("rect",{x:"60",y:"53",width:l,height:"34",rx:"2",fill:"url(#liquidGradient)"}),e.jsx("rect",{x:"60",y:"53",width:l,height:"12",rx:"2",fill:"url(#reflection)",opacity:"0.6"}),e.jsx("ellipse",{cx:60+l,cy:"70",rx:"3",ry:"15",fill:"rgba(59, 130, 246, 0.3)"})]}),e.jsx("rect",{x:"58",y:"48",width:"214",height:"18",rx:"4",fill:"url(#reflection)",opacity:"0.3"}),e.jsxs("g",{transform:`translate(${l}, 0)`,children:[e.jsx("rect",{x:"60",y:"54",width:"6",height:"32",rx:"1",fill:"url(#plungerGradient)"}),e.jsx("rect",{x:"66",y:"67",width:"50",height:"6",rx:"3",fill:"#6b7280",stroke:"#4b5563",strokeWidth:"1"}),e.jsxs("g",{children:[e.jsx("circle",{cx:"116",cy:"70",r:"16",fill:"#374151",stroke:"#4b5563",strokeWidth:"2"}),e.jsx("circle",{cx:"116",cy:"70",r:"12",fill:"#1f2937"}),e.jsx("circle",{cx:"116",cy:"70",r:"8",fill:"none",stroke:"#4b5563",strokeWidth:"1"}),e.jsx("circle",{cx:"116",cy:"70",r:"5",fill:"none",stroke:"#4b5563",strokeWidth:"0.5"})]})]}),e.jsxs("g",{children:[e.jsx("rect",{x:"268",y:"40",width:"4",height:"60",rx:"2",fill:"rgba(255, 255, 255, 0.2)"}),e.jsx("rect",{x:"273",y:"40",width:"4",height:"60",rx:"2",fill:"rgba(255, 255, 255, 0.2)"})]})]}),e.jsxs("div",{style:{marginTop:"20px",fontSize:"1.25rem",fontWeight:"700",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"0.02em"},children:[u.toFixed(1)," Units"]}),e.jsx("div",{style:{fontSize:"0.875rem",color:"var(--text-muted)",marginTop:"4px"},children:"Draw to this mark on your syringe"})]})},F=()=>{const[d,x]=o.useState([]),[u,c]=o.useState(!0),[p,l]=o.useState(null);return o.useEffect(()=>{(async()=>{try{const{data:t,error:h}=await y.from("peptides").select("*").order("name");if(h)throw h;x(t)}catch(t){console.error("Error fetching peptides:",t),l(t.message)}finally{c(!1)}})()},[]),{peptides:d,loading:u,error:p,getPeptideByName:n=>d.find(t=>t.name===n),getPeptidesByCategory:n=>d.filter(t=>t.category===n)}},M=()=>{const{peptides:d}=F(),[x,u]=o.useState(""),[c,p]=o.useState(5),[l,f]=o.useState(1),[a,n]=o.useState(250),[t,h]=o.useState(null);o.useEffect(()=>{g()},[c,l,a]);const g=()=>{if(c>0&&l>0&&a>0){const i=c*1e3/l,j=a/i,m=j*100;h({concentration:i,drawMl:j.toFixed(3),units:m.toFixed(1)})}else h(null)};return e.jsxs("div",{className:r.container,children:[e.jsxs("div",{className:"card glass-panel",children:[e.jsxs("div",{className:r.header,children:[e.jsx(b,{className:r.icon,size:24}),e.jsx("h2",{children:"Peptide Calculator"})]}),e.jsx("div",{className:r.inputGroup,children:e.jsxs("label",{children:["Select Peptide (Optional)",e.jsxs("select",{value:x,onChange:s=>u(s.target.value),className:r.select,children:[e.jsx("option",{value:"",children:"Custom / Other"}),d.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]})}),e.jsx("div",{className:r.inputGroup,children:e.jsxs("label",{children:["Vial Quantity (mg)",e.jsx("input",{type:"number",value:c,onChange:s=>{const i=s.target.value;p(i===""?0:parseFloat(i)||0)},onWheel:s=>s.target.blur(),step:"1"})]})}),e.jsx("div",{className:r.inputGroup,children:e.jsxs("label",{children:["Bacteriostatic Water (ml)",e.jsx("input",{type:"number",value:l,onChange:s=>{const i=s.target.value;f(i===""?0:parseFloat(i)||0)},onWheel:s=>s.target.blur(),step:"0.1"})]})}),e.jsx("div",{className:r.inputGroup,children:e.jsxs("label",{children:["Desired Dose (mcg)",e.jsx("input",{type:"number",value:a,onChange:s=>{const i=s.target.value;n(i===""?0:parseFloat(i)||0)},onWheel:s=>s.target.blur(),step:"50"})]})}),t&&e.jsxs("div",{className:r.resultContainer,children:[e.jsxs("div",{className:r.resultCard,children:[e.jsx("span",{className:r.resultLabel,children:"Draw to Tick Mark"}),e.jsx("span",{className:r.resultValue,children:t.units}),e.jsx("span",{className:r.resultUnit,children:"Units (IU)"})]}),e.jsx(B,{units:parseFloat(t.units)}),e.jsxs("div",{className:r.details,children:[e.jsxs("div",{className:r.detailRow,children:[e.jsx("span",{children:"Volume:"}),e.jsxs("span",{children:[t.drawMl," ml"]})]}),e.jsxs("div",{className:r.detailRow,children:[e.jsx("span",{children:"Concentration:"}),e.jsxs("span",{children:[t.concentration," mcg/ml"]})]})]})]})]}),e.jsxs("div",{className:r.infoBox,children:[e.jsx(k,{size:16}),e.jsx("p",{children:"Calculation based on U-100 Insulin Syringe."})]})]})},V=()=>e.jsx("div",{className:"padding-container",style:{padding:"20px"},children:e.jsx(M,{})});export{V as default};
