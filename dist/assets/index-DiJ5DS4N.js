const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Calculator-BKfZnSxV.js","assets/vendor-CkzOwYxW.js","assets/icons-B-JzIt8G.js","assets/charts-CXyhUZZ_.js","assets/Calculator-BxpSx5Fb.css","assets/HalfLife-BIMrXKgn.js","assets/HalfLife-Bzb4TIfV.css","assets/PriceChecker-CabBmnoY.js","assets/PriceChecker-pY6prw39.css","assets/Encyclopedia-CZHp6oPF.js","assets/PeptideDetail-DfOjlQHJ.js","assets/Guides-DDr0eXE_.js","assets/Safety-C0vX5zn1.js","assets/BeginnerGuide-IcnaEaAh.js","assets/InjectionGuide-BvaW4FWt.js","assets/Forum-C2-cXk2X.js","assets/Forum-BF2Z8NER.css"])))=>i.map(i=>d[i]);
import{i as Ns,a as Is,c as Cs,r,j as e,u as Ge,N as st,b as Xt,_ as se,d as de,O as Qt,s as Ae,f as oe,e as Ds,g as As,L as ne,h as Ls,k as xt,l as Ps,m as Ts,n as Es,o as Tt,p as Et,q as Nt,E as Rs,Q as Ms,t as zs,v as Bs,R as Zt,B as Hs,w as Os,x as Z,y as $s}from"./vendor-CkzOwYxW.js";import{L as Be,S as Gs,X as lt,A as xe,B as wt,T as es,M as ge,a as ts,b as Le,C as Fs,E as Vs,c as St,d as He,e as We,f as It,g as Ie,P as Pe,D as qs,h as Oe,i as Us,j as Ws,k as Js,l as Je,m as Ys,H as Ks,n as Xs,o as we,p as Qs,q as Zs,R as Me,r as ss,s as Rt,t as Ue,u as en,v as Te,w as ue,x as ns,Z as is,y as be,z as tn,F as dt,G as Ct,U as Mt,I as nt,J as it,K as at,N as as,O as Ye,Q as sn,V as ut,W as zt,Y as rt,_ as ot,$ as rs,a0 as Ee,a1 as Bt,a2 as os,a3 as nn,a4 as an,a5 as rn,a6 as on,a7 as cs,a8 as cn,a9 as mt,aa as vt,ab as ln,ac as dn,ad as kt,ae as un,af as mn,ag as ls,ah as ds,ai as us,aj as ms,ak as hn,al as pn}from"./icons-B-JzIt8G.js";import{C as gn,a as fn,L as yn,P as xn,b as vn,B as jn,A as _n,p as bn,c as wn,d as Sn,i as kn,e as Nn,D as In,f as Cn}from"./charts-CXyhUZZ_.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const o of d.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerPolicy&&(d.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?d.credentials="include":a.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(a){if(a.ep)return;a.ep=!0;const d=n(a);fetch(a.href,d)}})();const Dn={translation:{nav:{home:"Home",tracker:"Tracker",calculator:"Calc",library:"Library",schedule:"Schedule",guides:"Guides",profile:"Profile",login:"Login",more:"More"},dashboard:{welcome:"Welcome back",quickActions:"Quick Actions",recentInjections:"Recent Injections",upcomingSchedule:"Upcoming Schedule",noInjections:"No injections logged yet",noSchedule:"No upcoming doses scheduled"},tracker:{title:"Injection Tracker",logInjection:"Log Injection",peptide:"Peptide",dosage:"Dosage",date:"Date",time:"Time",site:"Injection Site",notes:"Notes",save:"Save",delete:"Delete",edit:"Edit"},calculator:{title:"Reconstitution Calculator",peptideAmount:"Peptide Amount",bacWater:"BAC Water",desiredDose:"Desired Dose",result:"Draw",units:"units"},schedule:{title:"Schedule",addDose:"Add Dose",today:"Today",upcoming:"Upcoming",completed:"Completed",markComplete:"Mark Complete"},settings:{title:"Settings",profile:"Profile",preferences:"Preferences",notifications:"Notifications",theme:"Theme",language:"Language",darkMode:"Dark Mode",lightMode:"Light Mode",export:"Export Data",logout:"Log Out"},common:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",back:"Back",next:"Next",mg:"mg",mcg:"mcg",iu:"IU",ml:"mL"},export:{title:"Export Data",format:"Format",csv:"CSV",pdf:"PDF",dateRange:"Date Range",allTime:"All Time",lastMonth:"Last Month",lastWeek:"Last Week",download:"Download"},notifications:{enabled:"Notifications Enabled",disabled:"Notifications Disabled",scheduled:"Scheduled Dose Reminder",lowStock:"Low Stock Alert",permission:"Allow Notifications"}}},An={translation:{nav:{home:"Inicio",tracker:"Registro",calculator:"Calc",library:"Biblioteca",schedule:"Horario",guides:"Guías",profile:"Perfil",login:"Iniciar",more:"Más"},dashboard:{welcome:"Bienvenido de nuevo",quickActions:"Acciones Rápidas",recentInjections:"Inyecciones Recientes",upcomingSchedule:"Próximas Dosis",noInjections:"No hay inyecciones registradas",noSchedule:"No hay dosis programadas"},tracker:{title:"Registro de Inyecciones",logInjection:"Registrar Inyección",peptide:"Péptido",dosage:"Dosis",date:"Fecha",time:"Hora",site:"Sitio de Inyección",notes:"Notas",save:"Guardar",delete:"Eliminar",edit:"Editar"},calculator:{title:"Calculadora de Reconstitución",peptideAmount:"Cantidad de Péptido",bacWater:"Agua BAC",desiredDose:"Dosis Deseada",result:"Extraer",units:"unidades"},schedule:{title:"Horario",addDose:"Agregar Dosis",today:"Hoy",upcoming:"Próximo",completed:"Completado",markComplete:"Marcar Completo"},settings:{title:"Configuración",profile:"Perfil",preferences:"Preferencias",notifications:"Notificaciones",theme:"Tema",language:"Idioma",darkMode:"Modo Oscuro",lightMode:"Modo Claro",export:"Exportar Datos",logout:"Cerrar Sesión"},common:{save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",loading:"Cargando...",error:"Error",success:"Éxito",confirm:"Confirmar",back:"Atrás",next:"Siguiente",mg:"mg",mcg:"mcg",iu:"UI",ml:"mL"},export:{title:"Exportar Datos",format:"Formato",csv:"CSV",pdf:"PDF",dateRange:"Rango de Fechas",allTime:"Todo el Tiempo",lastMonth:"Último Mes",lastWeek:"Última Semana",download:"Descargar"},notifications:{enabled:"Notificaciones Activadas",disabled:"Notificaciones Desactivadas",scheduled:"Recordatorio de Dosis Programada",lowStock:"Alerta de Stock Bajo",permission:"Permitir Notificaciones"}}};Ns.use(Is).init({resources:{en:Dn,es:An},lng:localStorage.getItem("peptide_language")||"en",fallbackLng:"en",interpolation:{escapeValue:!1}});const Ln="https://nhiwjerqyhtpienorzky.supabase.co",Pn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI",S=Cs(Ln,Pn),hs=r.createContext({}),pe=()=>r.useContext(hs),Tn=({children:t})=>{const[s,n]=r.useState(null),[i,a]=r.useState(!0);r.useEffect(()=>{S.auth.getSession().then(({data:{session:x}})=>{n(x?.user??null),a(!1)});const{data:{subscription:w}}=S.auth.onAuthStateChange((x,D)=>{n(D?.user??null),a(!1)});return()=>w.unsubscribe()},[]);const L={user:s,loading:i,signUp:async(w,x,D)=>{const{data:I,error:g}=await S.auth.signUp({email:w,password:x,options:{data:{full_name:D}}});if(g)throw g;return I},signIn:async(w,x)=>{const{data:D,error:I}=await S.auth.signInWithPassword({email:w,password:x});if(I)throw I;return D},signInWithOAuth:async w=>{const{data:x,error:D}=await S.auth.signInWithOAuth({provider:w,options:{redirectTo:`${window.location.origin}/settings`}});if(D)throw D;return x},signOut:async()=>{const{error:w}=await S.auth.signOut();if(w)throw w},resetPassword:async w=>{const{error:x}=await S.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/update-password`});if(x)throw x},updatePassword:async w=>{const{error:x}=await S.auth.updateUser({password:w});if(x)throw x},mockLogin:()=>{n({id:"mock-user-id",email:"demo@example.com",user_metadata:{full_name:"Demo User"}}),a(!1)}};return e.jsx(hs.Provider,{value:L,children:!i&&t})},ps=r.createContext(),gs=()=>{const t=r.useContext(ps);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},En=({children:t})=>{const{user:s}=pe(),[n,i]=r.useState(()=>{const o=localStorage.getItem("peptide_theme");return o||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});r.useEffect(()=>{document.documentElement.setAttribute("data-theme",n),localStorage.setItem("peptide_theme",n)},[n]),r.useEffect(()=>{(async()=>{if(s)try{const{data:u}=await S.from("profiles").select("theme_preference").eq("id",s.id).single();u?.theme_preference&&i(u.theme_preference)}catch{console.log("Theme preference not found, using local")}})()},[s]);const a=async()=>{const o=n==="dark"?"light":"dark";if(i(o),s)try{await S.from("profiles").update({theme_preference:o}).eq("id",s.id)}catch(u){console.error("Error saving theme preference:",u)}},d=async o=>{if(i(o),s)try{await S.from("profiles").update({theme_preference:o}).eq("id",s.id)}catch(u){console.error("Error saving theme preference:",u)}};return e.jsx(ps.Provider,{value:{theme:n,toggleTheme:a,setThemeMode:d},children:t})},Ht=({children:t})=>{const{user:s,loading:n}=pe(),i=Ge();return n?e.jsx("div",{className:"loading-screen",children:"Loading..."}):s?t:e.jsx(st,{to:"/login",state:{from:i},replace:!0})},Rn=({children:t})=>{const{user:s,loading:n}=pe(),[i,a]=r.useState(null),[d,o]=r.useState(!0),u=Ge();return r.useEffect(()=>{n||(async()=>{if(!s){a(!1),o(!1);return}try{const{data:f,error:_}=await S.from("profiles").select("is_admin").eq("id",s.id).single();_?(console.error("Error checking admin status:",_),a(!1)):a(f?.is_admin===!0)}catch(f){console.error("Error checking admin status:",f),a(!1)}finally{o(!1)}})()},[s,n]),n||d?e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1rem"},children:[e.jsx(Be,{className:"animate-spin",size:32}),e.jsx("p",{style:{color:"var(--text-secondary)"},children:"Checking permissions..."})]}):s?i?t:e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",gap:"1.5rem",padding:"2rem",textAlign:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Gs,{size:40,color:"#ef4444"})}),e.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Access Denied"}),e.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"400px"},children:"You don't have permission to access the admin panel. This area is restricted to administrators only."}),e.jsx("a",{href:"/",className:"btn-primary",style:{textDecoration:"none"},children:"Return to Home"})]}):e.jsx(st,{to:"/login",state:{from:u},replace:!0})},me=Xt.isNativePlatform(),$e=Xt.getPlatform(),Mn={async impact(t="medium"){if(me)try{const{Haptics:s,ImpactStyle:n}=await se(async()=>{const{Haptics:a,ImpactStyle:d}=await import("./vendor-CkzOwYxW.js").then(o=>o.A);return{Haptics:a,ImpactStyle:d}},[]),i={light:n.Light,medium:n.Medium,heavy:n.Heavy};await s.impact({style:i[t]||n.Medium})}catch(s){console.log("Haptics not available",s)}},async notification(t="success"){if(me)try{const{Haptics:s,NotificationType:n}=await se(async()=>{const{Haptics:a,NotificationType:d}=await import("./vendor-CkzOwYxW.js").then(o=>o.A);return{Haptics:a,NotificationType:d}},[]),i={success:n.Success,warning:n.Warning,error:n.Error};await s.notification({type:i[t]||n.Success})}catch(s){console.log("Haptics not available",s)}},async vibrate(t=300){if(me)try{const{Haptics:s}=await se(async()=>{const{Haptics:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.A);return{Haptics:n}},[]);await s.vibrate({duration:t})}catch(s){console.log("Haptics not available",s)}}},zn={async requestPermission(){if(!me)return!1;try{const{LocalNotifications:t}=await se(async()=>{const{LocalNotifications:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.D);return{LocalNotifications:n}},[]);return(await t.requestPermissions()).display==="granted"}catch(t){return console.log("Local notifications not available",t),!1}},async schedule(t){if(me)try{const{LocalNotifications:s}=await se(async()=>{const{LocalNotifications:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.D);return{LocalNotifications:n}},[]);await s.schedule({notifications:t})}catch(s){console.log("Failed to schedule notification",s)}},async scheduleInjectionReminder({id:t,title:s,body:n,scheduledAt:i}){return this.schedule([{id:t,title:s||"Peptide Tracker Reminder",body:n,schedule:{at:i},sound:"default",smallIcon:"ic_stat_icon",iconColor:"#8b5cf6",actionTypeId:"INJECTION_REMINDER",extra:{type:"injection_reminder"}}])},async cancel(t){if(me)try{const{LocalNotifications:s}=await se(async()=>{const{LocalNotifications:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.D);return{LocalNotifications:n}},[]);await s.cancel({notifications:t.map(n=>({id:n}))})}catch(s){console.log("Failed to cancel notifications",s)}},async getPending(){if(!me)return[];try{const{LocalNotifications:t}=await se(async()=>{const{LocalNotifications:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.D);return{LocalNotifications:n}},[]);return(await t.getPending()).notifications}catch(t){return console.log("Failed to get pending notifications",t),[]}}},ct={async setStyle(t="dark"){if(me)try{const{StatusBar:s,Style:n}=await se(async()=>{const{StatusBar:i,Style:a}=await import("./vendor-CkzOwYxW.js").then(d=>d.F);return{StatusBar:i,Style:a}},[]);await s.setStyle({style:t==="dark"?n.Dark:n.Light})}catch(s){console.log("Status bar not available",s)}},async setBackgroundColor(t){if(!(!me||$e!=="android"))try{const{StatusBar:s}=await se(async()=>{const{StatusBar:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.F);return{StatusBar:n}},[]);await s.setBackgroundColor({color:t})}catch(s){console.log("Status bar not available",s)}},async hide(){if(me)try{const{StatusBar:t}=await se(async()=>{const{StatusBar:s}=await import("./vendor-CkzOwYxW.js").then(n=>n.F);return{StatusBar:s}},[]);await t.hide()}catch(t){console.log("Status bar not available",t)}},async show(){if(me)try{const{StatusBar:t}=await se(async()=>{const{StatusBar:s}=await import("./vendor-CkzOwYxW.js").then(n=>n.F);return{StatusBar:s}},[]);await t.show()}catch(t){console.log("Status bar not available",t)}}},Bn={async hide(){if(me)try{const{SplashScreen:t}=await se(async()=>{const{SplashScreen:s}=await import("./vendor-CkzOwYxW.js").then(n=>n.G);return{SplashScreen:s}},[]);await t.hide()}catch(t){console.log("Splash screen not available",t)}},async show(t={}){if(me)try{const{SplashScreen:s}=await se(async()=>{const{SplashScreen:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.G);return{SplashScreen:n}},[]);await s.show(t)}catch(s){console.log("Splash screen not available",s)}}},Ot={async addStateListener(t){try{const{App:s}=await se(async()=>{const{App:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.H);return{App:n}},[]);s.addListener("appStateChange",t)}catch{}},async addUrlListener(t){try{const{App:s}=await se(async()=>{const{App:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.H);return{App:n}},[]);s.addListener("appUrlOpen",t)}catch{}},async addBackButtonListener(t){if($e==="android")try{const{App:s}=await se(async()=>{const{App:n}=await import("./vendor-CkzOwYxW.js").then(i=>i.H);return{App:n}},[]);s.addListener("backButton",t)}catch{}},async exitApp(){if($e==="android")try{const{App:t}=await se(async()=>{const{App:s}=await import("./vendor-CkzOwYxW.js").then(n=>n.H);return{App:s}},[]);await t.exitApp()}catch{}}},jt={isNative:me,isAndroid:$e==="android"};async function Hn(){me&&(await ct.setStyle("dark"),$e==="android"&&await ct.setBackgroundColor("#0f172a"),setTimeout(()=>{Bn.hide()},500),await zn.requestPermission(),console.log(`Peptide Tracker running on ${$e}`))}const On="_nav_usdth_2",$n="_navContent_usdth_16",Gn="_desktopOnly_usdth_27",Fn="_mobileOnly_usdth_31",Vn="_navItem_usdth_42",qn="_label_usdth_53",Un="_avatarIcon_usdth_57",Wn="_moreMenu_usdth_117",Jn="_backdrop_usdth_118",Yn="_active_usdth_166",Kn="_moreButton_usdth_195",Xn="_activeDot_usdth_199",Qn="_backdropVisible_usdth_235",Zn="_moreMenuOpen_usdth_262",ei="_moreMenuHeader_usdth_268",ti="_moreMenuTitle_usdth_276",si="_closeButton_usdth_282",ni="_moreMenuGrid_usdth_305",ii="_moreMenuItem_usdth_312",ai="_moreMenuItemActive_usdth_337",ri="_moreMenuIcon_usdth_343",oi="_moreMenuLabel_usdth_364",V={nav:On,navContent:$n,desktopOnly:Gn,mobileOnly:Fn,navItem:Vn,label:qn,avatarIcon:Un,moreMenu:Wn,backdrop:Jn,active:Yn,moreButton:Kn,activeDot:Xn,backdropVisible:Qn,moreMenuOpen:Zn,moreMenuHeader:ei,moreMenuTitle:ti,closeButton:si,moreMenuGrid:ni,moreMenuItem:ii,moreMenuItemActive:ai,moreMenuIcon:ri,moreMenuLabel:oi},ci=()=>{const{user:t}=pe(),[s,n]=r.useState(!1),i=Ge(),a=r.useRef(null);r.useEffect(()=>{n(!1)},[i.pathname]),r.useEffect(()=>{const f=_=>{a.current&&!a.current.contains(_.target)&&n(!1)};return s&&(document.addEventListener("mousedown",f),document.addEventListener("touchstart",f)),()=>{document.removeEventListener("mousedown",f),document.removeEventListener("touchstart",f)}},[s]);const d=()=>{if(!t)return"";const f=t.user_metadata?.full_name||t.email||"";if(t.user_metadata?.full_name){const _=f.split(" ");return _.length>1?`${_[0][0]}${_[1][0]}`.toUpperCase():f[0]?.toUpperCase()||"U"}return f[0]?.toUpperCase()||"U"},o=["/half-life","/guides","/price-checker","/forum"].includes(i.pathname),u=()=>{Mn.impact("light")},p=[{to:"/half-life",icon:xe,label:"Decay Plot",ariaLabel:"Half-Life Plotter"},{to:"/guides",icon:wt,label:"Guides",ariaLabel:"Peptide Guides"},{to:"/price-checker",icon:es,label:"Prices",ariaLabel:"Price Checker"},{to:"/forum",icon:ge,label:"Forum",ariaLabel:"Community Forum"}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${V.backdrop} ${s?V.backdropVisible:""}`,onClick:()=>n(!1)}),e.jsxs("div",{ref:a,className:`${V.moreMenu} ${s?V.moreMenuOpen:""}`,children:[e.jsxs("div",{className:V.moreMenuHeader,children:[e.jsx("span",{className:V.moreMenuTitle,children:"More Options"}),e.jsx("button",{className:V.closeButton,onClick:()=>n(!1),"aria-label":"Close menu",children:e.jsx(lt,{size:20})})]}),e.jsx("div",{className:V.moreMenuGrid,children:p.map(f=>e.jsxs(de,{to:f.to,"aria-label":f.ariaLabel,className:({isActive:_})=>`${V.moreMenuItem} ${_?V.moreMenuItemActive:""}`,onClick:()=>n(!1),children:[e.jsx("div",{className:V.moreMenuIcon,children:e.jsx(f.icon,{size:22})}),e.jsx("span",{className:V.moreMenuLabel,children:f.label})]},f.to))})]}),e.jsx("nav",{className:V.nav,children:e.jsxs("div",{className:V.navContent,children:[e.jsxs(de,{to:"/","aria-label":"Home",onClick:u,className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx(ts,{size:22}),e.jsx("span",{className:V.label,children:"Home"})]}),e.jsxs(de,{to:"/log","aria-label":"Injection Log",onClick:u,className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx(Le,{size:22}),e.jsx("span",{className:V.label,children:"Log"})]}),e.jsxs(de,{to:"/calculator","aria-label":"Reconstitution Calculator",onClick:u,className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx(Fs,{size:22}),e.jsx("span",{className:V.label,children:"Calc"})]}),e.jsxs(de,{to:"/encyclopedia","aria-label":"Peptide Encyclopedia",onClick:u,className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx(wt,{size:22}),e.jsx("span",{className:V.label,children:"Library"})]}),p.map(f=>e.jsxs(de,{to:f.to,"aria-label":f.ariaLabel,className:({isActive:_})=>`${V.navItem} ${V.desktopOnly} ${_?V.active:""}`,children:[e.jsx(f.icon,{size:22}),e.jsx("span",{className:V.label,children:f.label})]},f.to)),e.jsxs("button",{className:`${V.navItem} ${V.moreButton} ${V.mobileOnly} ${o?V.active:""}`,onClick:()=>{u(),n(!s)},"aria-label":"More options","aria-expanded":s,children:[e.jsx(Vs,{size:22}),e.jsx("span",{className:V.label,children:"More"}),o&&e.jsx("span",{className:V.activeDot})]}),t?e.jsxs(de,{to:"/settings","aria-label":"Profile Settings",className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx("div",{className:V.avatarIcon,children:d()}),e.jsx("span",{className:V.label,children:"Profile"})]}):e.jsxs(de,{to:"/login","aria-label":"Login",className:({isActive:f})=>`${V.navItem} ${f?V.active:""}`,children:[e.jsx(St,{size:22}),e.jsx("span",{className:V.label,children:"Login"})]})]})})]})},li=()=>{const t=Ge();return r.useEffect(()=>{if(jt.isNative){const s=document.documentElement.getAttribute("data-theme")!=="light";ct.setStyle(s?"dark":"light"),jt.isAndroid&&ct.setBackgroundColor("#0a0e1a")}},[]),r.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]),r.useEffect(()=>{jt.isAndroid&&Ot.addBackButtonListener(({canGoBack:s})=>{s||t.pathname!=="/"?window.history.back():Ot.exitApp()})},[t.pathname]),r.useEffect(()=>{const s=()=>{const n=window.visualViewport?.height||window.innerHeight,i=window.innerHeight;n<i*.75?document.body.classList.add("keyboard-open"):document.body.classList.remove("keyboard-open")};return window.visualViewport&&window.visualViewport.addEventListener("resize",s),()=>{window.visualViewport&&window.visualViewport.removeEventListener("resize",s)}},[]),e.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",paddingTop:"var(--safe-area-top, 0px)"},children:[e.jsx("main",{style:{flex:1,paddingBottom:"calc(80px + var(--safe-area-bottom, 0px))"},children:e.jsx(Qt,{})}),e.jsx(ci,{})]})},Dt="peptide_tracker_injections",tt=()=>{try{const t=localStorage.getItem(Dt);return t?JSON.parse(t):[]}catch{return[]}},_t=t=>{try{localStorage.setItem(Dt,JSON.stringify(t))}catch(s){console.error("Error saving to localStorage:",s)}},Ke=()=>{const[t,s]=r.useState([]),[n,i]=r.useState(!0),[a,d]=r.useState(null),{user:o}=pe(),u=r.useCallback(async()=>{try{d(null);const{data:x,error:D}=await S.from("injections").select("*").order("injection_date",{ascending:!1});if(D)throw D;const I=(x||[]).map(g=>({id:g.id,peptide:g.peptide_name,dosage:g.dosage_value||g.dosage_mcg/1e3,unit:g.dosage_unit||"mg",date:g.injection_date,notes:g.notes||"",site:g.injection_site||"Abdomen",bodyWeightLbs:g.body_weight_lbs||null}));s(I)}catch(x){console.error("Error fetching injections:",x),d("Failed to load injections")}},[]),p=r.useCallback(()=>{const x=tt();x.sort((D,I)=>new Date(I.date)-new Date(D.date)),s(x)},[]);r.useEffect(()=>{i(!0),o&&o.id!=="mock-user-id"?u().finally(()=>i(!1)):(p(),i(!1))},[o,u,p]);const f=async x=>{const D={...x,id:x.id||crypto.randomUUID(),date:x.date||new Date().toISOString()};if(s(I=>[D,...I]),o&&o.id!=="mock-user-id")try{const{data:I,error:g}=await S.from("injections").insert([{user_id:o.id,peptide_name:x.peptide,dosage_mcg:x.unit==="mg"?x.dosage*1e3:(x.unit==="mcg",x.dosage),dosage_value:x.dosage,dosage_unit:x.unit,injection_date:D.date,injection_site:x.site,body_weight_lbs:x.bodyWeightLbs||null,notes:x.notes||""}]).select().single();if(g)throw g;return s(l=>l.map(c=>c.id===D.id?{...c,id:I.id}:c)),{success:!0,data:I}}catch(I){return console.error("Error adding injection:",I),s(g=>g.filter(l=>l.id!==D.id)),d("Failed to save injection"),{success:!1,error:I}}else{const I=tt();return _t([D,...I]),{success:!0,data:D}}},_=async(x,D)=>{if(s(I=>I.map(g=>g.id===x?{...g,...D}:g)),o&&o.id!=="mock-user-id")try{const{error:I}=await S.from("injections").update({peptide_name:D.peptide,dosage_mcg:D.unit==="mg"?D.dosage*1e3:D.dosage,dosage_value:D.dosage,dosage_unit:D.unit,injection_date:D.date,injection_site:D.site,body_weight_lbs:D.bodyWeightLbs,notes:D.notes}).eq("id",x);if(I)throw I;return{success:!0}}catch(I){return console.error("Error updating injection:",I),u(),{success:!1,error:I}}else{const g=tt().map(l=>l.id===x?{...l,...D}:l);return _t(g),{success:!0}}},A=async x=>{const D=[...t];if(s(I=>I.filter(g=>g.id!==x)),o&&o.id!=="mock-user-id")try{const{error:I}=await S.from("injections").delete().eq("id",x);if(I)throw I;return{success:!0}}catch(I){return console.error("Error deleting injection:",I),s(D),d("Failed to delete injection"),{success:!1,error:I}}else{const g=tt().filter(l=>l.id!==x);return _t(g),{success:!0}}},L=()=>{localStorage.removeItem(Dt)},w=r.useCallback(()=>{if(t.length===0)return null;const x=Date.now(),D=t[0];let I=0;t.forEach(c=>{const j=new Date(c.date).getTime(),b=(x-j)/(1e3*60*60),O=(c.unit==="mcg"?c.dosage/1e3:c.dosage)*Math.pow(.5,b/168);O>.001&&(I+=O)});const g=x-10080*60*1e3,l=t.filter(c=>new Date(c.date).getTime()>g);return{totalInjections:t.length,lastInjection:D,activeLevel:I.toFixed(3),weeklyCount:l.length,weeklyDosage:l.reduce((c,j)=>c+(j.unit==="mcg"?j.dosage/1e3:j.dosage),0).toFixed(2)}},[t]);return{injections:t,loading:n,error:a,addInjection:f,updateInjection:_,deleteInjection:A,clearLocalInjections:L,getStats:w,refresh:o&&o.id!=="mock-user-id"?u:p,isUsingLocalStorage:!o||o.id==="mock-user-id"}},di="_container_1aj82_1",ui="_header_1aj82_5",mi="_title_1aj82_14",hi="_rangeSelector_1aj82_24",pi="_rangeButton_1aj82_28",gi="_dropdown_1aj82_48",fi="_dropdownItem_1aj82_62",yi="_active_1aj82_81",xi="_statsGrid_1aj82_87",vi="_statCard_1aj82_100",ji="_statIcon_1aj82_116",_i="_statContent_1aj82_126",bi="_statValue_1aj82_132",wi="_statLabel_1aj82_141",Si="_chartsGrid_1aj82_148",ki="_chartCard_1aj82_159",Ni="_chartTitle_1aj82_181",Ii="_chartContainer_1aj82_188",Ci="_noData_1aj82_193",W={container:di,header:ui,title:mi,rangeSelector:hi,rangeButton:pi,dropdown:gi,dropdownItem:fi,active:yi,statsGrid:xi,statCard:vi,statIcon:ji,statContent:_i,statValue:bi,statLabel:wi,chartsGrid:Si,chartCard:ki,chartTitle:Ni,chartContainer:Ii,noData:Ci};gn.register(fn,yn,xn,vn,jn,_n,bn,wn,Sn,kn);const Di=()=>{const{injections:t}=Ke(),{theme:s}=gs(),[n,i]=r.useState("30"),[a,d]=r.useState(!1),o=s==="dark",u={primary:"#3b82f6",secondary:"#06b6d4",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",text:o?"#e2e8f0":"#1f2937",textMuted:o?"#94a3b8":"#6b7280",grid:o?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",background:"rgba(59, 130, 246, 0.1)"},p=r.useMemo(()=>{const g=Ae(new Date,parseInt(n));return t.filter(l=>new Date(l.injection_date||l.date)>=g)},[t,n]),f=r.useMemo(()=>{const g=p.length,l=[...new Set(p.map(N=>N.peptide_name||N.peptide))],c=g/(parseInt(n)/7),j={};p.forEach(N=>{const M=N.peptide_name||N.peptide;j[M]=(j[M]||0)+1});const b=Object.entries(j).sort((N,M)=>M[1]-N[1])[0];return{total:g,uniquePeptides:l.length,avgPerWeek:c.toFixed(1),mostUsed:b?b[0]:"N/A"}},[p,n]),_=r.useMemo(()=>{const g=parseInt(n),l=[],c=[];for(let j=g-1;j>=0;j--){const b=Ae(new Date,j),N=oe(b,"yyyy-MM-dd");l.push(oe(b,g>14?"MMM d":"EEE"));const M=p.filter(O=>oe(new Date(O.injection_date||O.date),"yyyy-MM-dd")===N).length;c.push(M)}return{labels:l,datasets:[{label:"Injections",data:c,fill:!0,borderColor:u.primary,backgroundColor:"rgba(59, 130, 246, 0.15)",tension:.4,pointRadius:g>14?0:4,pointHoverRadius:6,pointBackgroundColor:u.primary}]}},[p,n,u]),A=r.useMemo(()=>{const g={};p.forEach(j=>{const b=j.peptide_name||j.peptide;g[b]=(g[b]||0)+1});const l=Object.entries(g).sort((j,b)=>b[1]-j[1]).slice(0,6),c=[u.primary,u.secondary,u.accent,u.success,u.warning,"#ec4899"];return{labels:l.map(([j])=>j),datasets:[{data:l.map(([,j])=>j),backgroundColor:c.slice(0,l.length),borderWidth:0,hoverOffset:8}]}},[p,u]),L=r.useMemo(()=>{const g=[];for(let l=3;l>=0;l--){const c=Ds(Ae(new Date,l*7)),j=As(Ae(new Date,l*7)),b=oe(c,"MMM d"),N=p.filter(M=>{const O=new Date(M.injection_date||M.date);return O>=c&&O<=j}).length;g.push({label:b,count:N})}return{labels:g.map(l=>l.label),datasets:[{label:"Weekly Injections",data:g.map(l=>l.count),backgroundColor:["rgba(59, 130, 246, 0.6)","rgba(59, 130, 246, 0.7)","rgba(59, 130, 246, 0.8)","rgba(59, 130, 246, 1)"],borderRadius:8,borderSkipped:!1}]}},[p]),w={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:o?"#1a1f35":"#fff",titleColor:u.text,bodyColor:u.textMuted,borderColor:u.grid,borderWidth:1,padding:12,cornerRadius:8}},scales:{x:{grid:{display:!1},ticks:{color:u.textMuted,maxTicksLimit:7}},y:{beginAtZero:!0,grid:{color:u.grid},ticks:{color:u.textMuted,stepSize:1}}}},x={responsive:!0,maintainAspectRatio:!1,cutout:"65%",plugins:{legend:{position:"bottom",labels:{color:u.textMuted,padding:16,usePointStyle:!0,pointStyle:"circle"}}}},D={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:u.textMuted}},y:{beginAtZero:!0,grid:{color:u.grid},ticks:{color:u.textMuted,stepSize:1}}}},I=[{value:"7",label:"Last 7 Days"},{value:"14",label:"Last 14 Days"},{value:"30",label:"Last 30 Days"},{value:"90",label:"Last 90 Days"}];return e.jsxs("div",{className:W.container,children:[e.jsxs("div",{className:W.header,children:[e.jsxs("h2",{className:W.title,children:[e.jsx(He,{size:24}),"Progress Analytics"]}),e.jsxs("div",{className:W.rangeSelector,children:[e.jsxs("button",{className:W.rangeButton,onClick:()=>d(!a),children:[I.find(g=>g.value===n)?.label,e.jsx(We,{size:16})]}),a&&e.jsx("div",{className:W.dropdown,children:I.map(g=>e.jsx("button",{className:`${W.dropdownItem} ${n===g.value?W.active:""}`,onClick:()=>{i(g.value),d(!1)},children:g.label},g.value))})]})]}),e.jsxs("div",{className:W.statsGrid,children:[e.jsxs("div",{className:W.statCard,children:[e.jsx("div",{className:W.statIcon,style:{background:"rgba(59, 130, 246, 0.15)",color:u.primary},children:e.jsx(xe,{size:20})}),e.jsxs("div",{className:W.statContent,children:[e.jsx("span",{className:W.statValue,children:f.total}),e.jsx("span",{className:W.statLabel,children:"Total Injections"})]})]}),e.jsxs("div",{className:W.statCard,children:[e.jsx("div",{className:W.statIcon,style:{background:"rgba(6, 182, 212, 0.15)",color:u.secondary},children:e.jsx(It,{size:20})}),e.jsxs("div",{className:W.statContent,children:[e.jsx("span",{className:W.statValue,children:f.uniquePeptides}),e.jsx("span",{className:W.statLabel,children:"Peptides Used"})]})]}),e.jsxs("div",{className:W.statCard,children:[e.jsx("div",{className:W.statIcon,style:{background:"rgba(139, 92, 246, 0.15)",color:u.accent},children:e.jsx(Ie,{size:20})}),e.jsxs("div",{className:W.statContent,children:[e.jsx("span",{className:W.statValue,children:f.avgPerWeek}),e.jsx("span",{className:W.statLabel,children:"Avg/Week"})]})]}),e.jsxs("div",{className:W.statCard,children:[e.jsx("div",{className:W.statIcon,style:{background:"rgba(16, 185, 129, 0.15)",color:u.success},children:e.jsx(He,{size:20})}),e.jsxs("div",{className:W.statContent,children:[e.jsx("span",{className:W.statValue,title:f.mostUsed,children:f.mostUsed.substring(0,12)}),e.jsx("span",{className:W.statLabel,children:"Most Used"})]})]})]}),e.jsxs("div",{className:W.chartsGrid,children:[e.jsxs("div",{className:W.chartCard,children:[e.jsx("h3",{className:W.chartTitle,children:"Injection Trend"}),e.jsx("div",{className:W.chartContainer,children:e.jsx(Nn,{data:_,options:w})})]}),e.jsxs("div",{className:W.chartCard,children:[e.jsx("h3",{className:W.chartTitle,children:"Peptide Distribution"}),e.jsx("div",{className:W.chartContainer,children:A.labels.length>0?e.jsx(In,{data:A,options:x}):e.jsx("div",{className:W.noData,children:"No data available"})})]}),e.jsxs("div",{className:W.chartCard,children:[e.jsx("h3",{className:W.chartTitle,children:"Weekly Comparison"}),e.jsx("div",{className:W.chartContainer,children:e.jsx(Cn,{data:L,options:D})})]})]})]})},Ai="_container_15bzv_1",Li="_header_15bzv_10",Pi="_welcomeSection_15bzv_19",Ti="_userName_15bzv_27",Ei="_subtitle_15bzv_34",Ri="_primaryAction_15bzv_40",Mi="_statsGrid_15bzv_60",zi="_statCard_15bzv_67",Bi="_statPrimary_15bzv_101",Hi="_statIcon_15bzv_106",Oi="_statInfo_15bzv_118",$i="_statValue_15bzv_125",Gi="_statUnit_15bzv_135",Fi="_statLabel_15bzv_141",Vi="_mainGrid_15bzv_151",qi="_section_15bzv_159",Ui="_sectionHeader_15bzv_172",Wi="_showMoreBtn_15bzv_193",Ji="_viewAllBtn_15bzv_194",Yi="_rotated_15bzv_213",Ki="_actionsGrid_15bzv_218",Xi="_actionCard_15bzv_224",Qi="_actionPrimary_15bzv_259",Zi="_actionIcon_15bzv_264",ea="_actionContent_15bzv_279",ta="_actionTitle_15bzv_284",sa="_actionDesc_15bzv_292",na="_actionArrow_15bzv_297",ia="_activityList_15bzv_309",aa="_activityItem_15bzv_316",ra="_activityIcon_15bzv_333",oa="_activityInfo_15bzv_345",ca="_activityTitle_15bzv_352",la="_activityMeta_15bzv_361",da="_emptyState_15bzv_367",ua="_emptyIcon_15bzv_379",ma="_emptyAction_15bzv_389",ha="_analyticsSection_15bzv_401",pa="_mobileStats_15bzv_409",ga="_guestCta_15bzv_414",fa="_ctaContent_15bzv_426",ya="_ctaButton_15bzv_450",xa="_mobileStatItem_15bzv_588",va="_mobileStatValue_15bzv_595",ja="_mobileStatLabel_15bzv_601",_a="_mobileStatDivider_15bzv_608",ba="_actionText_15bzv_614",P={container:Ai,header:Li,welcomeSection:Pi,userName:Ti,subtitle:Ei,primaryAction:Ri,statsGrid:Mi,statCard:zi,statPrimary:Bi,statIcon:Hi,statInfo:Oi,statValue:$i,statUnit:Gi,statLabel:Fi,mainGrid:Vi,section:qi,sectionHeader:Ui,showMoreBtn:Wi,viewAllBtn:Ji,rotated:Yi,actionsGrid:Ki,actionCard:Xi,actionPrimary:Qi,actionIcon:Zi,actionContent:ea,actionTitle:ta,actionDesc:sa,actionArrow:na,activityList:ia,activityItem:aa,activityIcon:ra,activityInfo:oa,activityTitle:ca,activityMeta:la,emptyState:da,emptyIcon:ua,emptyAction:ma,analyticsSection:ha,mobileStats:pa,guestCta:ga,ctaContent:fa,ctaButton:ya,mobileStatItem:xa,mobileStatValue:va,mobileStatLabel:ja,mobileStatDivider:_a,actionText:ba},wa=()=>{const{getStats:t,injections:s}=Ke(),{user:n}=pe(),[i,a]=r.useState(!1),d=r.useMemo(()=>t(),[t]),o=r.useMemo(()=>n?(n.user_metadata?.full_name||n.email||"User").split(" ")[0].split("@")[0]:"Guest",[n]),u=r.useMemo(()=>{if(!s||s.length===0)return{totalInjections:0,thisWeek:0,uniquePeptides:0,streak:0};const w=new Date,x=new Date(w.getTime()-10080*60*1e3),D=s.filter(c=>new Date(c.injection_date)>=x).length,I=new Set(s.map(c=>c.peptide_name)).size;let g=0;const l=[...new Set(s.map(c=>new Date(c.injection_date).toDateString()))].sort((c,j)=>new Date(j)-new Date(c));for(let c=0;c<l.length;c++){const j=new Date(w);if(j.setDate(j.getDate()-c),l.includes(j.toDateString()))g++;else break}return{totalInjections:s.length,thisWeek:D,uniquePeptides:I,streak:g}},[s]),p=r.useMemo(()=>!s||s.length===0?[]:s.slice(0,4).map(w=>({...w,timeAgo:f(new Date(w.injection_date))})),[s]);function f(w){const x=Math.floor((new Date-w)/1e3);return x<60?"Just now":x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:x<604800?`${Math.floor(x/86400)}d ago`:w.toLocaleDateString()}const _=r.useMemo(()=>{const w=new Date().getHours();return w<12?"Good morning":w<18?"Good afternoon":"Good evening"},[]),A=[{to:"/tracker",icon:Le,title:"Log Injection",desc:"Record a new dose",color:"#10b981",primary:!0},{to:"/calculator",icon:xe,title:"Calculator",desc:"Reconstitute peptides",color:"#3b82f6"},{to:"/schedule",icon:Ie,title:"Schedule",desc:"Plan your doses",color:"#8b5cf6"},{to:"/price-checker",icon:es,title:"Price Checker",desc:"Compare prices",color:"#06b6d4"},{to:"/encyclopedia",icon:wt,title:"Encyclopedia",desc:"Learn about peptides",color:"#f59e0b"},{to:"/inventory",icon:Js,title:"Inventory",desc:"Manage your stock",color:"#ec4899"}],L=i?A:A.slice(0,4);return e.jsxs("div",{className:P.container,children:[e.jsxs("header",{className:P.header,children:[e.jsxs("div",{className:P.welcomeSection,children:[e.jsxs("h1",{children:[_,", ",e.jsx("span",{className:P.userName,children:o})]}),e.jsx("p",{className:P.subtitle,children:"Here's your peptide journey at a glance"})]}),n&&e.jsxs(ne,{to:"/tracker",className:P.primaryAction,children:[e.jsx(Pe,{size:20}),e.jsx("span",{className:P.actionText,children:"Log Injection"})]})]}),e.jsxs("div",{className:P.statsGrid,children:[e.jsxs("div",{className:`${P.statCard} ${P.statPrimary}`,children:[e.jsx("div",{className:P.statIcon,children:e.jsx(qs,{size:24})}),e.jsxs("div",{className:P.statInfo,children:[e.jsxs("span",{className:P.statValue,children:[d?d.activeLevel:"0.00",e.jsx("span",{className:P.statUnit,children:"mg"})]}),e.jsx("span",{className:P.statLabel,children:"Est. Active Level"})]})]}),e.jsxs("div",{className:P.statCard,children:[e.jsx("div",{className:P.statIcon,style:{background:"rgba(236, 72, 153, 0.15)",color:"#ec4899"},children:e.jsx(Oe,{size:24})}),e.jsxs("div",{className:P.statInfo,children:[e.jsx("span",{className:P.statValue,children:d?.lastInjection?new Date(d.lastInjection.date).toLocaleDateString(void 0,{month:"short",day:"numeric"}):"--"}),e.jsx("span",{className:P.statLabel,children:d?.lastInjection?.peptide||"Last Injection"})]})]}),e.jsxs("div",{className:P.statCard,children:[e.jsx("div",{className:P.statIcon,style:{background:"rgba(16, 185, 129, 0.15)",color:"#10b981"},children:e.jsx(Us,{size:24})}),e.jsxs("div",{className:P.statInfo,children:[e.jsx("span",{className:P.statValue,children:u.thisWeek}),e.jsx("span",{className:P.statLabel,children:"This Week"})]})]}),e.jsxs("div",{className:P.statCard,children:[e.jsx("div",{className:P.statIcon,style:{background:"rgba(245, 158, 11, 0.15)",color:"#f59e0b"},children:e.jsx(It,{size:24})}),e.jsxs("div",{className:P.statInfo,children:[e.jsxs("span",{className:P.statValue,children:[u.streak,e.jsx("span",{className:P.statUnit,children:"days"})]}),e.jsx("span",{className:P.statLabel,children:"Current Streak"})]})]})]}),e.jsxs("div",{className:P.mainGrid,children:[e.jsxs("section",{className:P.section,children:[e.jsxs("div",{className:P.sectionHeader,children:[e.jsxs("h2",{children:[e.jsx(Ws,{size:20})," Quick Actions"]}),A.length>4&&e.jsxs("button",{className:P.showMoreBtn,onClick:()=>a(!i),children:[i?"Show Less":"Show All",e.jsx(Je,{size:16,className:i?P.rotated:""})]})]}),e.jsx("div",{className:P.actionsGrid,children:L.map((w,x)=>e.jsxs(ne,{to:w.to,className:`${P.actionCard} ${w.primary?P.actionPrimary:""}`,style:{"--action-color":w.color},children:[e.jsx("div",{className:P.actionIcon,style:{background:`${w.color}15`,color:w.color},children:e.jsx(w.icon,{size:24})}),e.jsxs("div",{className:P.actionContent,children:[e.jsx("span",{className:P.actionTitle,children:w.title}),e.jsx("span",{className:P.actionDesc,children:w.desc})]}),e.jsx(Ys,{size:18,className:P.actionArrow})]},w.to))})]}),e.jsxs("section",{className:P.section,children:[e.jsxs("div",{className:P.sectionHeader,children:[e.jsxs("h2",{children:[e.jsx(Ks,{size:20})," Recent Activity"]}),p.length>0&&e.jsxs(ne,{to:"/tracker",className:P.viewAllBtn,children:["View All ",e.jsx(Je,{size:16})]})]}),p.length>0?e.jsx("div",{className:P.activityList,children:p.map((w,x)=>e.jsxs("div",{className:P.activityItem,children:[e.jsx("div",{className:P.activityIcon,children:e.jsx(Xs,{size:16})}),e.jsxs("div",{className:P.activityInfo,children:[e.jsx("span",{className:P.activityTitle,children:w.peptide_name}),e.jsxs("span",{className:P.activityMeta,children:[w.dosage_mcg,"mcg • ",w.timeAgo]})]})]},w.id||x))}):e.jsxs("div",{className:P.emptyState,children:[e.jsx(Le,{size:32,className:P.emptyIcon}),e.jsx("p",{children:"No injections logged yet"}),e.jsx(ne,{to:"/tracker",className:P.emptyAction,children:"Log your first injection"})]})]})]}),n&&e.jsx("section",{className:P.analyticsSection,children:e.jsx(Di,{})}),e.jsxs("div",{className:P.mobileStats,children:[e.jsxs("div",{className:P.mobileStatItem,children:[e.jsx("span",{className:P.mobileStatValue,children:u.totalInjections}),e.jsx("span",{className:P.mobileStatLabel,children:"Total"})]}),e.jsx("div",{className:P.mobileStatDivider}),e.jsxs("div",{className:P.mobileStatItem,children:[e.jsx("span",{className:P.mobileStatValue,children:u.uniquePeptides}),e.jsx("span",{className:P.mobileStatLabel,children:"Peptides"})]}),e.jsx("div",{className:P.mobileStatDivider}),e.jsxs("div",{className:P.mobileStatItem,children:[e.jsx("span",{className:P.mobileStatValue,children:u.thisWeek}),e.jsx("span",{className:P.mobileStatLabel,children:"This Week"})]})]}),!n&&e.jsxs("div",{className:P.guestCta,children:[e.jsxs("div",{className:P.ctaContent,children:[e.jsx(we,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"Track Your Progress"}),e.jsx("p",{children:"Sign in to save your injections and access all features"})]})]}),e.jsx(ne,{to:"/login",className:P.ctaButton,children:"Sign In"})]})]})},$t="peptide_tracker_schedule",bt="peptide_tracker_templates",Sa=()=>{const[t,s]=r.useState([]),[n,i]=r.useState([]),[a,d]=r.useState(!0),{user:o}=pe();r.useEffect(()=>{o?(f(),_()):u()},[o]);const u=()=>{try{const c=localStorage.getItem($t),j=localStorage.getItem(bt);c&&s(JSON.parse(c)),j&&i(JSON.parse(j))}catch(c){console.error("Error loading from localStorage:",c)}d(!1)},p=(c,j=$t)=>{try{localStorage.setItem(j,JSON.stringify(c))}catch(b){console.error("Error saving to localStorage:",b)}},f=async()=>{try{d(!0);const{data:c,error:j}=await S.from("schedules").select("*").order("scheduled_date",{ascending:!0});if(j)throw j;const b=c.map(N=>({id:N.id,date:new Date(`${N.scheduled_date}T${N.scheduled_time}`).toISOString(),peptide:N.peptide_name,dosage:N.dosage,unit:N.unit,time:N.scheduled_time?.slice(0,5)||"08:00",completed:N.completed,notes:N.notes,isRecurring:N.is_recurring||!1,parentTemplateId:N.parent_schedule_id}));s(b)}catch(c){console.error("Error fetching schedules:",c),u()}finally{d(!1)}},_=async()=>{try{const{data:c,error:j}=await S.from("schedule_templates").select("*").eq("is_active",!0).order("created_at",{ascending:!1});if(j)throw j;const b=c.map(N=>({id:N.id,name:N.name,peptide:N.peptide_name,dosage:N.dosage,unit:N.unit,time:N.time?.slice(0,5)||"08:00",recurrenceDays:N.recurrence_days||[],isActive:N.is_active,notes:N.notes}));i(b)}catch(c){console.error("Error fetching templates:",c)}},A=async c=>{const j={id:"temp-"+Date.now(),completed:!1,...c},b=[...t,j];if(s(b),o)try{const N=new Date(c.date),{data:M,error:O}=await S.from("schedules").insert([{user_id:o.id,peptide_name:c.peptide,dosage:c.dosage,unit:c.unit,scheduled_date:N.toISOString().split("T")[0],scheduled_time:c.time+":00",completed:!1,notes:c.notes||null,is_recurring:!1}]).select().single();if(O)throw O;s(k=>k.map(y=>y.id===j.id?{...y,id:M.id}:y))}catch(N){console.error("Error adding schedule:",N),f()}else p(b)},L=async(c,j,b)=>{const{peptide:N,dosage:M,unit:O,time:k,recurrenceDays:y,notes:$,name:F}=c,z=Tt({start:j,end:b}).filter(q=>y.includes(Et(q))).map(q=>{const Y=new Date(q.getFullYear(),q.getMonth(),q.getDate(),12,0,0);return{id:"temp-"+Date.now()+"-"+q.getTime(),date:Y.toISOString(),peptide:N,dosage:M,unit:O,time:k,completed:!1,notes:$,isRecurring:!0}});if(s(q=>[...q,...z]),o)try{const{data:q,error:Y}=await S.from("schedule_templates").insert([{user_id:o.id,name:F||`${N} Protocol`,peptide_name:N,dosage:M,unit:O,time:k+":00",recurrence_days:y,is_active:!0,notes:$}]).select().single();if(Y)throw Y;const ve=z.map(ee=>({user_id:o.id,peptide_name:ee.peptide,dosage:ee.dosage,unit:ee.unit,scheduled_date:new Date(ee.date).toISOString().split("T")[0],scheduled_time:ee.time+":00",completed:!1,notes:ee.notes,is_recurring:!0,parent_schedule_id:q.id})),{error:B}=await S.from("schedules").insert(ve);if(B)throw B;return await f(),await _(),q}catch(q){return console.error("Error creating recurring schedule:",q),f(),null}else{p([...t,...z]);const q={id:"local-"+Date.now(),name:F||`${N} Protocol`,peptide:N,dosage:M,unit:O,time:k,recurrenceDays:y,isActive:!0,notes:$},Y=[...n,q];return i(Y),p(Y,bt),q}},w=async(c,j=!1)=>{if(o)try{j&&await S.from("schedules").delete().eq("parent_schedule_id",c);const{error:b}=await S.from("schedule_templates").delete().eq("id",c);if(b)throw b;await _(),j&&await f()}catch(b){console.error("Error deleting template:",b)}else{const b=n.filter(N=>N.id!==c);if(i(b),p(b,bt),j){const N=t.filter(M=>M.parentTemplateId!==c);s(N),p(N)}}},x=async(c,j=28)=>{const b=n.find(F=>F.id===c);if(!b)return;const M=t.filter(F=>F.parentTemplateId===c).reduce((F,v)=>{const z=new Date(v.date);return z>F?z:F},new Date),O=xt(M,1),k=xt(O,j),$=Tt({start:O,end:k}).filter(F=>b.recurrenceDays.includes(Et(F))).map(F=>{const v=new Date(F.getFullYear(),F.getMonth(),F.getDate(),12,0,0);return{id:"temp-"+Date.now()+"-"+F.getTime(),date:v.toISOString(),peptide:b.peptide,dosage:b.dosage,unit:b.unit,time:b.time,completed:!1,notes:b.notes,isRecurring:!0,parentTemplateId:c}});if(s(F=>[...F,...$]),o)try{const F=$.map(v=>({user_id:o.id,peptide_name:v.peptide,dosage:v.dosage,unit:v.unit,scheduled_date:new Date(v.date).toISOString().split("T")[0],scheduled_time:v.time+":00",completed:!1,notes:v.notes,is_recurring:!0,parent_schedule_id:c}));await S.from("schedules").insert(F),await f()}catch(F){console.error("Error extending schedule:",F),f()}else p([...t,...$])},D=async c=>{const j=t.filter(b=>b.id!==c);if(s(j),o)try{const{error:b}=await S.from("schedules").delete().eq("id",c);if(b)throw b}catch(b){console.error("Error deleting schedule:",b),f()}else p(j)},I=async c=>{const j=t.find(M=>M.id===c);if(!j)return;const b=!j.completed,N=t.map(M=>M.id===c?{...M,completed:b}:M);if(s(N),o)try{const{error:M}=await S.from("schedules").update({completed:b}).eq("id",c);if(M)throw M}catch(M){console.error("Error toggling schedule:",M),f()}else p(N)},g=r.useCallback((c=7)=>{const j=Ls(new Date),b=xt(j,c);return t.filter(N=>{const M=new Date(N.date);return(Ps(M,j)||Ts(M,j))&&Es(M,b)}).sort((N,M)=>new Date(N.date)-new Date(M.date))},[t]),l=r.useCallback(()=>{const c={};return t.forEach(j=>{c[j.peptide]||(c[j.peptide]=[]),c[j.peptide].push(j)}),c},[t]);return{schedules:t,templates:n,loading:a,addSchedule:A,createRecurringSchedule:L,deleteTemplate:w,extendRecurringSchedule:x,deleteSchedule:D,toggleComplete:I,getUpcomingSchedules:g,getSchedulesByPeptide:l,refreshSchedules:f,refreshTemplates:_}},At={Semaglutide:{name:"Semaglutide",category:"GLP-1 Agonist",status:"FDA-approved for T2D/weight loss",halfLife:"168 hours (7 days)",commonDosage:"0.25mg - 2.4mg weekly",description:"A GLP-1 receptor agonist primarily used for weight loss and blood sugar management.",benefits:["Significant weight loss (10-15% body weight)","Improved blood sugar control","Reduced appetite and food cravings","Cardiovascular benefits","Improved insulin sensitivity","Potential neuroprotective effects"],sideEffects:["Nausea (especially when starting)","Vomiting","Diarrhea or constipation","Abdominal pain","Fatigue","Headache","Dizziness"],cons:["Slow dose titration required","Injectable only; not oral","Can be expensive without insurance","GI discomfort common during escalation","Weight regain risk if stopped abruptly"],warnings:["Risk of thyroid C-cell tumors (animal studies)","Pancreatitis risk","Gallbladder problems","Kidney problems in rare cases","Not for type 1 diabetes","Contraindicated with personal/family history of medullary thyroid carcinoma"],contraindications:["Personal/family history of MTC","MEN2","History of pancreatitis without clearance","Pregnancy or breastfeeding"],protocols:[{name:"Standard Weight Loss Protocol",level:"Beginner to Advanced",description:"FDA-approved escalation schedule for weight management",schedule:[{week:"1-4",dose:"0.25mg",frequency:"Once weekly",notes:"Titration phase - minimize side effects"},{week:"5-8",dose:"0.5mg",frequency:"Once weekly",notes:"Continue if tolerating well"},{week:"9-12",dose:"1mg",frequency:"Once weekly",notes:"Therapeutic dose for many users"},{week:"13-16",dose:"1.7mg",frequency:"Once weekly",notes:"Optional escalation"},{week:"17+",dose:"2.4mg",frequency:"Once weekly",notes:"Maximum dose"}],duration:"16-20 weeks minimum",notes:"Stay at each dose for at least 4 weeks. Only increase if weight loss plateaus and side effects are minimal."},{name:"Maintenance Protocol",level:"Maintenance",description:"After reaching goal weight",schedule:[{week:"Ongoing",dose:"0.5-1mg",frequency:"Once weekly",notes:"Lowest effective dose"}],duration:"Long-term",notes:"Find minimum dose that maintains weight loss. Some users cycle off for 4-8 weeks periodically."}],administration:"Subcutaneous injection once weekly",storage:"Refrigerate before reconstitution. After reconstitution, use within 56 days.",researchLinks:["https://www.nejm.org/doi/full/10.1056/NEJMoa2032183","https://pubmed.ncbi.nlm.nih.gov/33567185/"]},Tirzepatide:{name:"Tirzepatide",category:"Dual GIP/GLP-1 Agonist",status:"FDA-approved for T2D; weight loss pending regions",halfLife:"120 hours (5 days)",commonDosage:"2.5mg - 15mg weekly",description:"A dual GIP and GLP-1 receptor agonist showing superior weight loss compared to semaglutide.",benefits:["Superior weight loss (15-22% body weight)","Excellent blood sugar control","Improved lipid profiles","Reduced cardiovascular risk","Better appetite suppression than GLP-1 alone","Improved insulin sensitivity"],sideEffects:["Nausea and vomiting","Diarrhea","Decreased appetite","Constipation","Indigestion","Fatigue"],cons:["Significant GI side effects during titration","Higher cost than most GLP-1s","Injectable only","Limited long-term cardiovascular data","Potential hypoglycemia when combined with insulin"],warnings:["Similar thyroid tumor risk as semaglutide","Pancreatitis risk","Hypoglycemia when combined with insulin","Gallbladder disease","Acute kidney injury in dehydrated patients"],contraindications:["Personal/family history of MTC or MEN2","History of pancreatitis without clearance","Pregnancy or breastfeeding"],protocols:[{name:"Escalation Protocol",level:"Beginner",description:"Standard FDA titration",schedule:[{week:"1-4",dose:"2.5mg",frequency:"Once weekly",notes:"Starter dose"},{week:"5-8",dose:"5mg",frequency:"Once weekly"},{week:"9-12",dose:"7.5-10mg",frequency:"Once weekly",notes:"Advance if tolerated"},{week:"13+",dose:"12.5-15mg",frequency:"Once weekly",notes:"Max dose"}],duration:"Ongoing",notes:"Hold dose increases if GI effects persist."}],administration:"Subcutaneous injection once weekly",storage:"Refrigerate. Protect from light.",researchLinks:["https://www.nejm.org/doi/full/10.1056/NEJMoa2107519"]},Liraglutide:{name:"Liraglutide",category:"GLP-1 Agonist",status:"FDA-approved for T2D/weight loss",halfLife:"13 hours",commonDosage:"0.6mg - 3.0mg daily",description:"Daily GLP-1 analog used for diabetes and chronic weight management.",benefits:["Weight loss and appetite control","Improved glycemic control","Cardiovascular risk reduction","Daily dosing allows quick titration changes"],sideEffects:["Nausea","Vomiting","Diarrhea or constipation","Injection site pain"],cons:["Requires daily injections","GI side effects common early","Less weight loss than weekly GLP-1s","Costs can be high without coverage"],warnings:["Thyroid C-cell tumor warning","Pancreatitis risk","Gallbladder disease"],contraindications:["Personal/family history of MTC or MEN2","History of pancreatitis without clearance","Pregnancy or breastfeeding"],protocols:[{name:"Weight Management Titration",level:"Beginner",description:"Standard Saxenda titration",schedule:[{week:"1",dose:"0.6mg",frequency:"Daily"},{week:"2",dose:"1.2mg",frequency:"Daily"},{week:"3",dose:"1.8mg",frequency:"Daily"},{week:"4",dose:"2.4mg",frequency:"Daily"},{week:"5+",dose:"3.0mg",frequency:"Daily",notes:"Maintenance/max"}],duration:"Ongoing",notes:"Hold or reduce dose if GI side effects persist."}],administration:"Subcutaneous injection once daily",storage:"Refrigerate unopened. After first use, may keep at room temp for 30 days.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/20573918/"]},Dulaglutide:{name:"Dulaglutide",category:"GLP-1 Agonist",status:"FDA-approved for T2D",halfLife:"120 hours (5 days)",commonDosage:"0.75mg - 4.5mg weekly",description:"Once-weekly GLP-1 analog used for glycemic control with modest weight loss.",benefits:["Improved glycemic control","Cardiovascular risk reduction data","Convenient weekly dosing"],sideEffects:["Nausea","Diarrhea","Vomiting","Abdominal pain"],cons:["Less weight loss than newer GLP-1s","GI side effects during titration","Not indicated for obesity alone in some regions"],warnings:["Thyroid C-cell tumor warning","Pancreatitis risk","Gallbladder disease"],contraindications:["Personal/family history of MTC or MEN2","History of pancreatitis without clearance","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection once weekly",storage:"Refrigerate. Do not freeze.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/24550040/"]},Retatrutide:{name:"Retatrutide",category:"Triple Agonist (GLP-1/GIP/Glucagon)",status:"Investigational",halfLife:"Approx. 5-7 days (investigational)",commonDosage:"1-12mg weekly (trial ranges)",description:"Triple incretin/agonist in trials showing substantial weight loss.",benefits:["Very high weight loss in trials","Multi-pathway metabolic effects","Weekly dosing"],sideEffects:["GI effects similar to GLP-1s","Potential heart rate increase","Injection site reactions"],cons:["Investigational; limited safety data","Potential glucagon-related side effects","Dosing not standardized","Access limited to trials"],warnings:["Pancreatitis risk theoretical","May affect heart rate","Thyroid C-cell tumor warning anticipated"],contraindications:["Outside clinical trials","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection once weekly (trial protocol)",storage:"Refrigerate; follow trial protocol.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/37397207/"]},"BPC-157":{name:"BPC-157",category:"Healing Peptide",status:"Research chemical",halfLife:"4 hours",commonDosage:"250-500mcg daily",description:"A synthetic peptide derived from a protective protein found in stomach acid, known for healing properties.",benefits:["Accelerated wound healing","Tendon and ligament repair","Muscle healing","Gut healing (leaky gut, IBS)","Reduced inflammation","Joint pain relief","Neuroprotective effects","Improved blood flow"],sideEffects:["Generally well-tolerated","Occasional fatigue","Dizziness (rare)","Nausea (rare)","Headache (rare)"],cons:["Human clinical data is limited","Quality/purity varies by vendor","Requires frequent injections","Regulatory status is unclear in many regions"],warnings:["Limited human clinical trials","Long-term safety unknown","May affect blood pressure","Consult doctor if on blood thinners"],contraindications:["Pregnancy or breastfeeding","Uncontrolled hypertension"],protocols:[],administration:"Subcutaneous or intramuscular injection, 1-2 times daily",storage:"Refrigerate after reconstitution. Use within 30 days.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/31633635/","https://pubmed.ncbi.nlm.nih.gov/32568251/"]},"TB-500 (Thymosin Beta-4)":{name:"TB-500 (Thymosin Beta-4)",category:"Healing Peptide",status:"Research chemical; WADA banned",halfLife:"120 hours (5 days)",commonDosage:"2-5mg twice weekly",description:"A synthetic version of Thymosin Beta-4, promoting healing and recovery.",benefits:["Enhanced tissue repair","Reduced inflammation","Improved flexibility","Faster injury recovery","Hair growth promotion","Cardiovascular protection","Neuroprotection"],sideEffects:["Minimal side effects reported","Possible headache","Lethargy","Temporary flushing"],cons:["Banned by many sports organizations","Relatively expensive for full cycles","Often paired with other peptides to see results","Limited long-term human research"],warnings:["Banned by WADA for athletes","Limited long-term human studies","May promote cancer cell migration (theoretical)","Avoid if pregnant or breastfeeding"],contraindications:["Competitive athletes subject to testing","Pregnancy or breastfeeding","Active malignancy"],protocols:[],administration:"Subcutaneous or intramuscular injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/20709819/"]},Ipamorelin:{name:"Ipamorelin",category:"Growth Hormone Secretagogue",status:"Research chemical",halfLife:"2 hours",commonDosage:"200-300mcg 2-3 times daily",description:"A selective growth hormone secretagogue that stimulates GH release without affecting cortisol.",benefits:["Increased growth hormone production","Improved muscle mass","Enhanced fat loss","Better sleep quality","Improved skin elasticity","Faster recovery","Increased bone density","Anti-aging effects"],sideEffects:["Water retention (mild)","Increased hunger","Tingling or numbness","Headache","Flushing"],cons:["Multiple daily injections required","Water retention and hunger can be bothersome","Cost adds up over long cycles","Timing around meals/workouts matters for consistency"],warnings:["May affect blood sugar levels","Not for use with active cancer","Consult doctor if diabetic","May interact with thyroid medications"],contraindications:["Active malignancy","Uncontrolled diabetes","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection, typically before bed or post-workout",storage:"Refrigerate after reconstitution. Use within 30 days.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/9849822/"]},"CJC-1295 (no DAC)":{name:"CJC-1295 (no DAC)",category:"Growth Hormone Releasing Hormone",status:"Research chemical",halfLife:"0.5 hours (30 minutes)",commonDosage:"100-200mcg 2-3 times daily",description:"A GHRH analog that increases growth hormone and IGF-1 levels with short half-life.",benefits:["Increased GH and IGF-1 levels","Muscle growth","Fat loss","Improved recovery","Better sleep","Enhanced immune function","Increased bone density"],sideEffects:["Water retention","Joint pain","Carpal tunnel symptoms","Increased hunger","Numbness or tingling"],cons:["Very short half-life demands multiple daily injections","May raise blood sugar temporarily","Less convenient compared to DAC version","Often needs stacking (e.g., Ipamorelin) for best effect"],warnings:["May worsen existing tumors","Affects blood sugar","Not for pregnant/nursing women","Regular blood work recommended"],contraindications:["Active malignancy","Uncontrolled diabetes","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection, often combined with Ipamorelin",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16352683/"]},"CJC-1295 (DAC)":{name:"CJC-1295 (DAC)",category:"Growth Hormone Releasing Hormone",status:"Research chemical",halfLife:"168 hours (7 days)",commonDosage:"1-2mg once weekly",description:"Long-acting GHRH analog with drug affinity complex (DAC) for extended half-life.",benefits:["Sustained GH and IGF-1 elevation","Reduced injection frequency","Supports muscle gain and fat loss","Improved sleep quality","Potential immune support"],sideEffects:["Water retention","Flu-like symptoms (rare)","Joint stiffness","Injection site irritation"],cons:["More expensive than no-DAC version","Long half-life makes dose adjustments slower","Potential for prolonged side effects","Still off-label with limited human data"],warnings:["May worsen existing tumors","Monitor blood glucose and IGF-1","Not recommended during pregnancy","Use medical supervision for long protocols"],contraindications:["Active malignancy","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection once weekly",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16352683/"]},"MK-677 (Ibutamoren)":{name:"MK-677 (Ibutamoren)",category:"Growth Hormone Secretagogue",status:"Research chemical",halfLife:"24 hours",commonDosage:"10-25mg orally daily",description:"An oral ghrelin mimetic that increases GH and IGF-1 without injections.",benefits:["Oral dosing convenience","Increased GH/IGF-1 levels","Improved sleep depth","Appetite stimulation","Potential muscle gain and fat loss support"],sideEffects:["Water retention","Increased appetite","Numbness/tingling","Transient insulin resistance","Lethargy in some users"],cons:["Can raise fasting glucose and insulin","Not ideal for those managing appetite/weight loss","Edema and carpal tunnel-like symptoms possible","Long half-life makes side effects linger"],warnings:["Monitor glucose and lipids","Avoid in active cancer","Not for pregnancy or nursing","Use caution with diabetes or insulin resistance"],contraindications:["Active malignancy","Uncontrolled diabetes","Pregnancy or breastfeeding"],protocols:[],administration:"Oral capsule or liquid, once daily",storage:"Store in a cool, dry place away from light.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/9430604/"]},"Melanotan II":{name:"Melanotan II",category:"Melanocortin Agonist",status:"Research chemical",halfLife:"1 hour",commonDosage:"0.25-1mg daily",description:"A synthetic analog of alpha-melanocyte stimulating hormone, used for tanning and libido enhancement.",benefits:["Skin tanning without UV exposure","Increased libido","Potential appetite suppression","Erectile function improvement","Reduced sun damage risk"],sideEffects:["Nausea (common initially)","Flushing","Increased libido (can be unwanted)","Darkening of moles and freckles","Yawning and stretching","Spontaneous erections"],cons:["Nausea and flushing can be intense early on","Can permanently darken moles/freckles","Not FDA approved; quality varies","Cosmetic focus with limited safety data"],warnings:["Not FDA approved","May increase melanoma risk (theoretical)","Can darken existing moles","Permanent skin darkening possible","Cardiovascular effects possible"],contraindications:["Personal or family melanoma history","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection, typically in evening",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16448591/"]},"PT-141 (Bremelanotide)":{name:"PT-141 (Bremelanotide)",category:"Melanocortin Agonist",status:"FDA-approved nasal for HSDD; injectable research use",halfLife:"2.5 hours",commonDosage:"1.25-1.75mg as needed",description:"A melanocortin receptor agonist for sexual dysfunction in men and women.",benefits:["Improves libido in both sexes","Works independent of nitric oxide pathways","Rapid onset (within 30-60 minutes)","FDA-approved nasal form for female HSDD"],sideEffects:["Nausea","Flushing","Headache","Transient blood pressure changes","Injection site irritation"],cons:["Effects are short-lived","Can cause pronounced nausea","May temporarily raise blood pressure","Cost can be high per dose"],warnings:["Avoid with uncontrolled hypertension","Not for pregnancy","Use caution with cardiovascular disease","Nasal formulation has specific dosing limits"],contraindications:["Uncontrolled hypertension","Cardiovascular disease without clearance","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection 30-60 minutes before activity",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16034475/"]},"GHK-Cu (Copper Peptide)":{name:"GHK-Cu (Copper Peptide)",category:"Healing & Anti-Aging",status:"Cosmeceutical/research",halfLife:"1 hour",commonDosage:"1-3mg 2-3 times weekly",description:"A naturally occurring copper complex with powerful healing and anti-aging properties.",benefits:["Wound healing acceleration","Collagen and elastin production","Skin rejuvenation","Hair growth stimulation","Anti-inflammatory effects","Antioxidant properties","Improved skin firmness","Reduced fine lines and wrinkles"],sideEffects:["Minimal side effects","Possible skin irritation (topical)","Mild headache (rare)","Temporary redness at injection site"],cons:["Short stability once reconstituted","Topical use can stain fabrics","Limited systemic human data","Costs increase for cosmetic use over time"],warnings:["Avoid if allergic to copper","May interact with copper supplements","Limited long-term studies","Consult doctor if on blood thinners"],contraindications:["Copper allergy","Pregnancy or breastfeeding (systemic use)"],protocols:[],administration:"Subcutaneous injection or topical application",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/25607907/","https://pubmed.ncbi.nlm.nih.gov/28294172/"]},"AOD-9604":{name:"AOD-9604",category:"Metabolic & Fat Loss",status:"Research chemical",halfLife:"2-3 hours",commonDosage:"250-500mcg daily",description:"A modified fragment of human growth hormone designed to promote fat loss without GH-related effects.",benefits:["May enhance fat oxidation","Minimal impact on blood sugar","No significant effect on IGF-1","Generally mild side effect profile"],sideEffects:["Headache (rare)","Mild nausea","Injection site redness"],cons:["Human data is limited and mixed","Fat loss effects can be modest","Requires daily injections","Not FDA approved for obesity"],warnings:["Limited clinical validation","Avoid during pregnancy or nursing","Monitor for unexpected glucose changes"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection once daily",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/21869961/"]},"MOTS-c":{name:"MOTS-c",category:"Metabolic & Mitochondrial",status:"Research chemical",halfLife:"2-4 hours",commonDosage:"10-20mg weekly (split doses)",description:"A mitochondrial-derived peptide studied for metabolic regulation and exercise performance.",benefits:["Improves insulin sensitivity (animal data)","Supports mitochondrial function","May enhance exercise performance","Potential anti-inflammatory effects"],sideEffects:["Limited human data; side effects largely unknown","Mild fatigue reported anecdotally","Injection site irritation"],cons:["Very limited human research","Dosing protocols are not standardized","Expensive due to production complexity","Unclear long-term safety"],warnings:["Use caution with metabolic disorders until more data emerges","Avoid during pregnancy","Monitor glucose if combining with other metabolic agents"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection 2-3 times per week",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/25622254/"]},Selank:{name:"Selank",category:"Cognitive & Anxiolytic",status:"Research; approved regionally (Russia)",halfLife:"0.5-1 hour",commonDosage:"250-750mcg 1-3 times daily (nasal or subcutaneous)",description:"An anxiolytic peptide derived from tuftsin, studied for calming and cognitive effects.",benefits:["Reduces anxiety without sedation (anecdotal)","May improve focus and memory","Supports immune modulation","Low risk of dependence"],sideEffects:["Mild nasal irritation (if intranasal)","Headache","Fatigue in some users"],cons:["Short half-life requires frequent dosing","Evidence primarily from small studies","Effects can be subtle or subjective","Not FDA approved"],warnings:["Limited long-term human data","Avoid use in pregnancy","Monitor for mood changes when combined with other nootropics"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Intranasal spray or subcutaneous injection multiple times daily",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/15862908/"]},Semax:{name:"Semax",category:"Cognitive & Nootropic",status:"Research; approved regionally (Russia)",halfLife:"0.5-1 hour",commonDosage:"200-600mcg 1-3 times daily (nasal)",description:"A synthetic ACTH(4-10) analog used in Russia for cognitive support and neuroprotection.",benefits:["May enhance focus and memory","Neuroprotective properties (animal data)","Potential mood stabilization","Low systemic side effect burden"],sideEffects:["Nasal irritation","Headache","Transient blood pressure increase (rare)"],cons:["Requires multiple daily doses","Clinical data is region-specific and limited","Subjective effects vary widely","Not approved in most countries"],warnings:["Avoid during pregnancy","Use caution with uncontrolled hypertension","Limited long-term safety data"],contraindications:["Pregnancy or breastfeeding","Uncontrolled hypertension"],protocols:[],administration:"Intranasal spray divided through the day",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/9855565/"]},"Thymosin Alpha-1":{name:"Thymosin Alpha-1",category:"Immune Modulator",status:"Investigational/adjunctive",halfLife:"2 hours",commonDosage:"1.6mg 2-3 times weekly",description:"Synthetic thymic peptide explored for immune modulation and antiviral support.",benefits:["Supports immune response","Adjunct in some infections (regional use)","May aid vaccine response"],sideEffects:["Injection site redness","Fatigue","Mild headache"],cons:["Access varies by region","Limited robust RCTs in many indications","Cost for long courses"],warnings:["Use under medical supervision","Potential autoimmune considerations"],contraindications:["Pregnancy or breastfeeding","Autoimmune disease without clearance"],protocols:[],administration:"Subcutaneous injection several times per week",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/31445021/"]},Epithalon:{name:"Epithalon",category:"Longevity & Telomerase",status:"Research chemical",halfLife:"20 minutes (plasma)",commonDosage:"5-10mg daily (short courses)",description:"Tetrapeptide researched for potential telomerase activation and longevity effects.",benefits:["Potential telomerase activation (animal data)","Sleep quality improvements (anecdotal)","Antioxidant activity"],sideEffects:["Limited human data; generally mild","Injection site irritation","Occasional vivid dreams"],cons:["Human evidence limited","Short half-life requires daily dosing","Regulatory status unclear"],warnings:["Long-term safety unknown","Use caution with hormone-sensitive conditions"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection daily for 10-20 days (cycles)",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/15123323/"]},"SS-31 (Elamipretide)":{name:"SS-31 (Elamipretide)",category:"Mitochondrial Peptide",status:"Investigational",halfLife:"1-2 hours",commonDosage:"5-10mg daily (trial-dependent)",description:"A mitochondria-targeted peptide being studied for cardiomyopathy and mitochondrial disorders.",benefits:["May improve mitochondrial function","Potential cardiac protective effects","Explored in ophthalmic formulations"],sideEffects:["Injection site reactions","Headache","Nausea"],cons:["Investigational; limited access","Costly outside trials","Long-term safety unknown"],warnings:["Use only under research/clinical supervision"],contraindications:["Use outside approved trials"],protocols:[],administration:"Subcutaneous injection daily (per protocol)",storage:"Refrigerate; protect from light.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/21465260/"]},Cerebrolysin:{name:"Cerebrolysin",category:"Neuropeptide Blend",status:"Approved in some countries; research elsewhere",halfLife:"Variable (peptide mixture)",commonDosage:"5-10ml IV/IM daily (cycles)",description:"A porcine brain-derived peptide mixture used in some regions for cognitive and stroke recovery support.",benefits:["Neuroprotective properties","Potential cognitive support","May aid stroke recovery"],sideEffects:["Injection site pain","Dizziness","Headache"],cons:["IV/IM administration required","Variable evidence across indications","Access and regulatory status differ by country"],warnings:["Avoid in seizure disorders without clearance","Use medical supervision for IV/IM"],contraindications:["History of epilepsy without clearance","Pregnancy or breastfeeding"],protocols:[],administration:"Intramuscular or intravenous injection in cycles (e.g., 10-20 days)",storage:"Store at controlled room temperature; avoid freezing.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/25644553/"]},P21:{name:"P21",category:"Nootropic Peptide",status:"Research chemical",halfLife:"Not well established",commonDosage:"5-10mg weekly (anecdotal)",description:"A synthetic peptide derived from CNTF fragments, explored for neurotrophic effects.",benefits:["Potential neurotrophic support (preclinical)","May aid cognitive function (anecdotal)"],sideEffects:["Limited data; unknown long-term safety","Injection site irritation"],cons:["Very limited research","Dosing is anecdotal","Quality control concerns in market"],warnings:["Research-only; insufficient human safety data"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection (research use)",storage:"Refrigerate after reconstitution.",researchLinks:[]},"Follistatin 344":{name:"Follistatin 344",category:"Performance & Muscle",status:"Research chemical; WADA banned",halfLife:"6-12 hours",commonDosage:"100-300mcg daily (short bursts)",description:"A myostatin-binding protein fragment explored for muscle growth and recovery.",benefits:["Potential increase in muscle mass","Supports recovery","May enhance strength gains","Synergistic with resistance training"],sideEffects:["Injection site irritation","Possible GI discomfort","Unknown endocrine effects"],cons:["Human data is sparse and mostly experimental","Expensive and often under-dosed commercially","Short cycles make consistency hard","Potential for disproportionate muscle-tendon adaptation"],warnings:["Not approved for human use","Potential impact on fertility and hormones unknown","Avoid if pregnant or breastfeeding"],contraindications:["Competitive athletes (banned substance)","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection daily for short cycles (2-4 weeks)",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/15345781/"]},"YK-11":{name:"YK-11",category:"Performance & Muscle",status:"Research chemical; SARM-like",halfLife:"6-10 hours (est.)",commonDosage:"5-15mg orally daily",description:"A myostatin-inhibiting SARM-like compound promoted for muscle growth.",benefits:["Potential rapid strength gains","May inhibit myostatin pathways","Oral dosing convenience"],sideEffects:["Joint pain","Liver strain potential","Hair shedding (androgenic)","Aggression or mood changes"],cons:["Very limited human safety data","Potential liver toxicity; requires labs","Often mislabeled or impure in market","Not a true peptide; regulatory risk is high"],warnings:["Hepatotoxicity risk—monitor liver enzymes","Not for women who are pregnant or breastfeeding","Prohormone/PCT considerations not well-studied"],contraindications:["Liver disease","Pregnancy or breastfeeding"],protocols:[],administration:"Oral capsules or liquid, once daily",storage:"Store in a cool, dry place away from light.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/23118235/"]},Sermorelin:{name:"Sermorelin",category:"Growth Hormone Secretagogue",status:"FDA-approved (discontinued brand, available generic)",halfLife:"10-20 minutes",commonDosage:"200-500mcg daily",description:"A GHRH analogue used to diagnose and treat poor growth in children, and for anti-aging in adults.",benefits:["Increases natural GH production","Improved sleep quality","Increased lean muscle mass","Reduced body fat","Faster recovery from exercise"],sideEffects:["Injection site reactions","Flushing","Headache","Dizziness","Hyperactivity"],cons:["Short half-life requiring daily injections","Results can be subtle compared to HGH","Requires consistent long-term use"],warnings:["Avoid in active cancer","Monitor for potential insulin resistance","Not for pregnancy"],contraindications:["Active malignancy","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection, typically before bed",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18607233/"]},Tesamorelin:{name:"Tesamorelin",category:"Growth Hormone Releasing Hormone",status:"FDA-approved for HIV-associated lipodystrophy",halfLife:"26-38 minutes",commonDosage:"1-2mg daily",description:"A potent GHRH analogue specifically approved to reduce excess abdominal fat in HIV patients.",benefits:["Significant reduction in visceral fat","Increases IGF-1 levels","Improves lipid profile","Cognitive benefits in some studies"],sideEffects:["Joint pain","Injection site redness","Fluid retention","Muscle aches"],cons:["Expensive compared to other GHRH peptides","Daily injections required","Potential for glucose intolerance"],warnings:["May increase blood sugar","Monitor IGF-1 levels","Avoid in active cancer"],contraindications:["Active malignancy","Pregnancy","Hypersensitivity to tesamorelin"],protocols:[],administration:"Subcutaneous injection once daily",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/20554796/"]},Epitalon:{name:"Epitalon",category:"Anti-Aging & Longevity",status:"Research chemical",halfLife:"Unknown (short)",commonDosage:"5-10mg daily (cycled)",description:"A synthetic pineal peptide known for its potential to lengthen telomeres and regulate circadian rhythms.",benefits:["Telomere elongation (anti-aging)","Circadian rhythm regulation","Antioxidant effects","Improved sleep","Potential life extension (animal studies)"],sideEffects:["None significantly reported","Possible mild fatigue"],cons:["Human data on life extension is limited","Optimal dosing protocols are debated","Can be expensive for high-dose cycles"],warnings:["Limited long-term safety data","Not for children or pregnancy"],contraindications:["Pregnancy or breastfeeding"],protocols:[{name:"Standard Anti-Aging Cycle",level:"Intermediate",description:"Khavinson Protocol",schedule:[{week:"1-2",dose:"5-10mg",frequency:"Daily",notes:"10-20 day course"}],duration:"Repeat every 6-12 months",notes:"Short, high-dose courses are standard for this peptide."}],administration:"Subcutaneous or intramuscular injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/12937682/"]},Thymalin:{name:"Thymalin",category:"Immune System",status:"Research chemical (used in Russia)",halfLife:"Short",commonDosage:"10mg daily for 10 days",description:"A thymus-derived peptide bioregulator that supports immune function and T-cell differentiation.",benefits:["Immune system restoration","Enhanced T-cell function","Potential anti-tumor effects (adjunct)","Reduced inflammation"],sideEffects:["None significantly reported","Injection site irritation"],cons:["Sourcing authentic product can be difficult","Limited Western clinical data","Requires high doses (10mg)"],warnings:["Consult doctor if you have autoimmune conditions","Not for pregnancy"],contraindications:["Pregnancy or breastfeeding","Organ transplant recipients (immune boosting)"],protocols:[],administration:"Intramuscular injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/12577695/"]},"DSIP (Delta Sleep-Inducing Peptide)":{name:"DSIP (Delta Sleep-Inducing Peptide)",category:"Neurological & Sleep",status:"Research chemical",halfLife:"15 minutes (rapid breakdown)",commonDosage:"100mcg before bed",description:"A neuropeptide that promotes deep (delta) wave sleep and stress reduction.",benefits:["Induces deep, restorative sleep","Reduces stress and cortisol","Potential pain relief","Normalization of blood pressure"],sideEffects:["Grogginess upon waking (if dose too high)","Headache","Nausea (rare)"],cons:["Effects can be inconsistent between users","Very short half-life","Optimal timing is critical"],warnings:["Do not drive after administration","Start with low dose to assess tolerance"],contraindications:["Pregnancy or breastfeeding","Narcolepsy"],protocols:[],administration:"Subcutaneous injection 1-2 hours before bed",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/6548967/"]},"Foxo4-DRI":{name:"Foxo4-DRI",category:"Anti-Aging (Senolytic)",status:"Experimental Research Chemical",halfLife:"Unknown",commonDosage:"Research protocols vary (e.g., 1-3mg every other day)",description:'A senolytic peptide designed to target and eliminate senescent ("zombie") cells.',benefits:["Removal of senescent cells","Tissue rejuvenation","Improved kidney function (animal studies)","Coat/hair restoration (animal studies)"],sideEffects:["Fatigue (common during clearing phase)","Flu-like symptoms","Muscle aches"],cons:["Very expensive","Highly experimental; human safety unproven","Mechanism involves cell death (apoptosis)"],warnings:["Strictly experimental","Potential for off-target effects","Do not use without medical guidance"],contraindications:["Pregnancy or breastfeeding","Any active medical condition"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/28340339/"]},"ARA-290 (Cibinetide)":{name:"ARA-290 (Cibinetide)",category:"Healing & Neuropathy",status:"Research chemical",halfLife:"Short",commonDosage:"4mg daily",description:"A non-hematopoietic EPO derivative designed to repair small nerve fibers and reduce neuropathic pain.",benefits:["Small fiber neuropathy repair","Pain reduction","Anti-inflammatory","Improved HbA1c (some studies)"],sideEffects:["Generally mild","Injection site reactions"],cons:["Very expensive due to high daily dose (4mg)","Daily injections required","Hard to source"],warnings:["Monitor blood pressure","Limited long-term safety data"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection daily",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/25613020/"]},"5-Amino-1MQ":{name:"5-Amino-1MQ",category:"Metabolic & Fat Loss",status:"Research chemical",halfLife:"Unknown",commonDosage:"50-150mg daily (oral)",description:"A small molecule NNMT inhibitor that increases cellular NAD+ and metabolic rate.",benefits:["Increased metabolic rate","Fat loss without muscle loss","Muscle satellite cell activation","Increased NAD+ levels"],sideEffects:["Insomnia (if taken late)","Headache","GI upset"],cons:["Oral bioavailability issues (requires special caps)","Expensive","Not a peptide (small molecule)"],warnings:["Monitor liver function","Avoid if prone to insomnia"],contraindications:["Pregnancy or breastfeeding","Liver disease"],protocols:[],administration:"Oral capsules daily with food",storage:"Store in cool, dry place.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/31339666/"]},"NAD+ (Nicotinamide Adenine Dinucleotide)":{name:"NAD+ (Nicotinamide Adenine Dinucleotide)",category:"Cellular Energy & Anti-Aging",status:"Supplement/Therapy",halfLife:"Short (rapidly metabolized)",commonDosage:"100-500mg (IV/IM/SubQ)",description:"A critical coenzyme found in every cell, essential for energy production (ATP) and DNA repair.",benefits:["Increased energy and stamina","Improved mental clarity and focus","DNA repair support (PARP activation)","Anti-aging (sirtuin activation)","Addiction recovery support"],sideEffects:["Nausea (common with rapid IV)","Flushing/Chest pressure (IV)","Headache","Fatigue initially"],cons:["IV infusions are expensive and time-consuming","SubQ injections can be painful (burns)","Oral bioavailability is poor (precursors preferred)"],warnings:["Start low to assess tolerance","May interact with certain chemotherapy drugs"],contraindications:["Active cancer (theoretical risk)","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection (often burns), IM, or IV drip",storage:"Refrigerate. Protect from light.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/29514064/"]},Glutathione:{name:"Glutathione",category:"Antioxidant & Detox",status:"Supplement/Therapy",halfLife:"10-90 minutes",commonDosage:"200-600mg daily or weekly",description:`The body's "master antioxidant," crucial for detoxification, immune function, and reducing oxidative stress.`,benefits:["Powerful antioxidant support","Liver detoxification","Skin brightening/lightening","Immune system boost","Reduced inflammation"],sideEffects:["Rare allergic reactions","Lower zinc levels (long term)","Asthma exacerbation (inhaled form)"],cons:["Poor oral bioavailability","Oxidizes quickly in solution","Frequent dosing needed for sustained levels"],warnings:["Avoid if sulfite sensitive","Consult doctor if asthmatic"],contraindications:["Sulfite allergy","Pregnancy (consult doctor)"],protocols:[],administration:"Intramuscular, IV, or nebulized",storage:"Refrigerate. Do not use if cloudy.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/21908948/"]},Oxytocin:{name:"Oxytocin",category:"Hormone & Mood",status:"Prescription Drug",halfLife:"1-6 minutes",commonDosage:"10-50 IU (Nasal) or 10-20 IU (SubQ)",description:'The "love hormone" involved in social bonding, trust, and stress reduction.',benefits:["Enhanced social bonding and trust","Reduced anxiety and stress","Improved libido and orgasm","Potential autism support","Pain relief"],sideEffects:["Headache","Nausea","Dizziness","Uterine contractions (women)"],cons:["Very short half-life","Effects can be subtle or context-dependent","Nasal spray absorption varies"],warnings:["Do not use if pregnant (induces labor)","Monitor blood pressure"],contraindications:["Pregnancy (unless for labor)","Severe cardiovascular disease"],protocols:[],administration:"Nasal spray or subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/20548365/"]},KPV:{name:"KPV",category:"Anti-Inflammatory & Gut",status:"Research chemical",halfLife:"Short",commonDosage:"200-500mcg daily",description:"A tripeptide (Lysine-Proline-Valine) derived from alpha-MSH, known for potent anti-inflammatory effects.",benefits:["Potent anti-inflammatory","Gut health (IBD/IBS support)","Antimicrobial (Candida/Mold)","Skin health (Psoriasis/Eczema)","Non-hormonal (no tanning/libido effects)"],sideEffects:["None significantly reported","Injection site irritation"],cons:["Limited human clinical trials","Oral forms require special coating","Hard to source high quality"],warnings:["Consult doctor for autoimmune conditions"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection or oral capsule",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/10504176/"]},"LL-37 (Cathelicidin)":{name:"LL-37 (Cathelicidin)",category:"Antimicrobial & Immune",status:"Research chemical",halfLife:"Short",commonDosage:"100mcg daily (cycled)",description:"A powerful antimicrobial peptide produced by the body to fight bacteria, viruses, and fungi.",benefits:["Broad-spectrum antimicrobial","Biofilm disruptor","Wound healing","Immune modulation","Gut health support"],sideEffects:["Herxheimer reaction (die-off)","Injection site pain/redness","Inflammation (if dose too high)"],cons:["Can trigger autoimmune flares in some",'"Die-off" symptoms can be severe',"Expensive"],warnings:["Start very low to avoid Herx reaction","Avoid in autoimmune diseases (Lupus/RA) unless supervised"],contraindications:["Autoimmune diseases (relative)","Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/17007963/"]},Dihexa:{name:"Dihexa",category:"Nootropic & Cognitive",status:"Research chemical",halfLife:"Long (days)",commonDosage:"10-20mg weekly (oral/transdermal)",description:"A potent angiotensin IV analog that stimulates new neural connections (synaptogenesis).",benefits:["Powerful cognitive enhancement","Improved memory and learning","Neuroprotection","Potential Alzheimer's/Parkinson's support","Repair of brain damage"],sideEffects:["Headache","Irritability","Insomnia","Potential tumor growth promotion (theoretical)"],cons:["Potency requires careful dosing","Long-term safety unknown","Theoretical cancer risk (angiogenesis)"],warnings:["Avoid in active cancer","Do not combine with other potent stimulants"],contraindications:["Active malignancy","Pregnancy or breastfeeding"],protocols:[],administration:"Oral or transdermal cream",storage:"Store in cool, dry place.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/23168565/"]},"IGF-1 LR3":{name:"IGF-1 LR3",category:"Growth & Muscle",status:"Research chemical",halfLife:"20-30 hours",commonDosage:"20-50mcg daily (cycled)",description:"A long-acting analog of Insulin-like Growth Factor 1, potent for muscle growth and recovery.",benefits:["Significant muscle hyperplasia","Enhanced recovery","Nutrient shuttling","Fat loss","Improved pumps"],sideEffects:["Hypoglycemia (low blood sugar)",'Gut distension ("GH gut") at high doses',"Headache","Nausea"],cons:["Risk of hypoglycemia is real","Receptor downregulation if not cycled","Can promote tumor growth"],warnings:["Consume carbs post-injection","Avoid in active cancer","Do not use for long periods"],contraindications:["Active malignancy","Hypoglycemia prone","Pregnancy"],protocols:[],administration:"Subcutaneous or intramuscular injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18607233/"]},"HGH Frag 176-191":{name:"HGH Frag 176-191",category:"Fat Loss",status:"Research chemical",halfLife:"Short",commonDosage:"250-500mcg twice daily",description:"A fragment of the HGH molecule specifically isolated for its fat-burning properties without glycemic effects.",benefits:["Targeted fat loss","No effect on blood sugar","No water retention","No effect on IGF-1 levels"],sideEffects:["Injection site redness","Mild headache"],cons:["Must be taken on empty stomach","Timing is critical for results","Fragile peptide"],warnings:["Ensure fasted state for efficacy"],contraindications:["Pregnancy or breastfeeding"],protocols:[],administration:"Subcutaneous injection (fasted)",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/11713213/"]},"Kisspeptin-10":{name:"Kisspeptin-10",category:"Hormone & Fertility",status:"Research chemical",halfLife:"Short",commonDosage:"100mcg daily",description:"A peptide that stimulates GnRH release, boosting testosterone and fertility without shutting down natural production.",benefits:["Increased testosterone","Improved fertility/sperm quality","Libido enhancement","Alternative to HCG"],sideEffects:["Flushing","Headache","Injection site pain"],cons:["Short half-life requiring frequent dosing","Less potent than TRT","Limited long-term data"],warnings:["Monitor hormone levels"],contraindications:["Hormone-sensitive cancers","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate after reconstitution.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16260654/"]},"VIP (Vasoactive Intestinal Peptide)":{name:"VIP (Vasoactive Intestinal Peptide)",category:"Immune & CIRS",status:"Prescription/Compound",halfLife:"Short",commonDosage:"50mcg 4x daily (Nasal)",description:"A neuropeptide used primarily in the Shoemaker Protocol for mold toxicity and CIRS.",benefits:["Reduces inflammation (CIRS)","Improves hormonal regulation","Supports brain health","Pulmonary hypertension support"],sideEffects:["Low blood pressure","Palpitations","Headache","Flushing"],cons:["Frequent dosing required (4x daily)","Must pass VCS test before starting (CIRS)","Expensive"],warnings:["Monitor lipase levels","Monitor blood pressure"],contraindications:["Failed VCS test (CIRS protocol)","Pregnancy"],protocols:[],administration:"Nasal spray",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/23566056/"]},"Melanotan 1 (Afamelanotide)":{name:"Melanotan 1 (Afamelanotide)",category:"Melanocortin Agonist",status:"FDA-approved (Implants)",halfLife:"Short (minutes) / Implants (months)",commonDosage:"1-2mg daily (Injection)",description:"A synthetic analog of alpha-MSH that induces tanning with fewer side effects than Melanotan II.",benefits:["Increased melanin production (tanning)","Photoprotection from UV damage","Less nausea/flushing than Melanotan II","Used for Erythropoietic Protoporphyria (EPP)"],sideEffects:["Nausea (mild)","Flushing","Injection site reactions"],cons:["Requires daily dosing (injectable)","Less libido effect than MT2 (pro/con)","Suppliers less common than MT2"],warnings:["Monitor moles/freckles for changes","Not FDA approved as injectable"],contraindications:["Melanoma history","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/15056820/"]},"HGH Fragment 176-191":{name:"HGH Fragment 176-191",category:"Fat Loss",status:"Research chemical",halfLife:"< 1 hour",commonDosage:"250-500mcg twice daily",description:"A stabilized fragment of the GH molecule (C-terminus) that specifically targets fat loss (lipolysis) without affecting insulin or IGF-1.",benefits:["Potent fat loss aid","No effect on blood glucose","No water retention","Does not impact IGF-1 levels"],sideEffects:["Injection site redness","Rare feeling of flushing"],cons:["Very fragile peptide","Must be taken on empty stomach (fasted)","Short duration of action"],warnings:["Ensure purity (often faked)","Avoid eating 2 hours before/after"],contraindications:["Pregnancy"],protocols:[],administration:"Subcutaneous injection (AM fasted / Pre-bed fasted)",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/11713213/"]},"GHRP-6":{name:"GHRP-6",category:"Growth Hormone Secretagogue",status:"Research chemical",halfLife:"2-3 hours",commonDosage:"100-200mcg 3x daily",description:"A powerful GH secretagogue known for stimulating significant appetite and growth hormone release.",benefits:["Increases Growth Hormone","Stimulates appetite (bulking)","Improved recovery","Anti-inflammatory"],sideEffects:["Intense hunger","Water retention","Prolactin increase (dose dependent)","Cortisol increase (mild)"],cons:["Hunger can be uncontrollable","Requires multiple daily injections","Water weight gain"],warnings:["Monitor prolactin","Monitor blood glucose"],contraindications:["History of prolactinoma","Active cancer"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/8492102/"]},"GHRP-2 (Pralmorelin)":{name:"GHRP-2 (Pralmorelin)",category:"Growth Hormone Secretagogue",status:"Research chemical",halfLife:"2-3 hours",commonDosage:"100mcg 3x daily",description:"A potent GH secretagogue, releasing more GH than GHRP-6 with less appetite stimulation.",benefits:["Strong GH release","Moderate appetite increase (less than GHRP-6)","Muscle preservation","Fat loss support"],sideEffects:["Cortisol elevation","Prolactin elevation","Water retention","Lethargy"],cons:["Higher cortisol/prolactin risk than Ipamorelin","Desensitization possible without breaks"],warnings:["Monitor cortisol and prolactin","Cycle use"],contraindications:["Prolactinoma / Pituitary issues","Active malignancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/8883203/"]},Hexarelin:{name:"Hexarelin",category:"Growth Hormone Secretagogue",status:"Research chemical",halfLife:"70 minutes",commonDosage:"100-200mcg daily",description:"The strongest of the GHRPs for GH release, but prone to rapid desensitization.",benefits:["Massive GH pulse","Potential cardioprotective effects","Muscle strength gains","Fat loss"],sideEffects:["High prolactin spike","Cortisol spike","Water retention","Carpal tunnel symptoms"],cons:["Rapid receptor downregulation (max 2-4 weeks use)","Harsh side effect profile","Requires breaks"],warnings:["Short cycle only","Monitor heart health (beneficial but potent)"],contraindications:["Prolactin sensitive individuals","Daily long-term use"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/9583277/"]},"PEG-MGF":{name:"PEG-MGF",category:"Growth & Muscle",status:"Research chemical",halfLife:"48-72 hours",commonDosage:"200-400mcg post-workout",description:"Pegylated Mechano Growth Factor, a variant of IGF-1 that promotes satellite cell activation and muscle repair.",benefits:["Localized muscle growth (site enhancement)","Satellite cell activation","Systemic recovery","Neuroprotection"],sideEffects:["Hypoglycemia (mild risk)","Injection site pain","Itchiness"],cons:["Best used post-workout only","Long half-life means systemic effect dominates site effect","Limited human data"],warnings:["Do not use pre-workout","Potential for hypoglycemia"],contraindications:["Active cancer","Hypoglycemia prone"],protocols:[],administration:"Subcutaneous or Intramuscular (into trained muscle)",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/22020228/"]},"Foxo4-DRI":{name:"Foxo4-DRI",category:"Senolytic (Anti-Aging)",status:"Research chemical (Experimental)",halfLife:"Unknown (Short)",commonDosage:"Experimental protocols (e.g. 3-10mg/cycle)",description:'A peptide designed to target and eliminate senescent ("zombie") cells to rejuvenate tissues.',benefits:["Eliminates senescent cells","Improves tissue function","Coat condition improvement (mice)","Kidney function restoration (mice)"],sideEffects:["Fatigue (during clearance)","Flu-like symptoms","Muscle aches"],cons:["Extremely expensive","Very limited human data","Hard to synthesize correctly"],warnings:["Highly experimental","Clearance of too many cells at once can be stressful"],contraindications:["Unknown","Caution advised"],protocols:[],administration:"Subcutaneous injection",storage:"Freeze or Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/28340339/"]},"5-Amino-1MQ":{name:"5-Amino-1MQ",category:"Metabolic & Fat Loss",status:"Research chemical (small molecule)",halfLife:"Oral bioavailability",commonDosage:"50-150mg daily (Oral)",description:"Small molecule NNMT inhibitor that increases cellular NAD+ and metabolic rate.",benefits:["Increased metabolic rate","Fat loss without CNS stimulation","Increases NAD+ levels","Muscle preservation"],sideEffects:["Insomnia (if taken late)","Mild GI upset"],cons:["Expensive","Oral bioavailability issues if not formulated well","New compound"],warnings:["Don't take before bed"],contraindications:["Pregnancy","Severe liver disease"],protocols:[],administration:"Oral capsule",storage:"Cool, dry place.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/29969636/"]},Dihexa:{name:"Dihexa",category:"Nootropic & Cognitive",status:"Research chemical",halfLife:"Long (days)",commonDosage:"10-20mg Ora/Transdermal",description:"A potent angiotensin IV analog derived peptide promoting synaptogenesis (brain connection growth).",benefits:["Powerful neurogenesis","Cognitive enhancement","Memory repair","Stroke/TBI recovery potential"],sideEffects:["Autism-like overstimulation (rare)","Irritability","Headache"],cons:["Concern about cancer growth (angiogenesis)","Very potent; easy to overdose","Limited long-term safety"],warnings:["Monitor for cancerous growths (theoretical risk due to growth factors)","Do not combine with other potent growth agents"],contraindications:["History of cancer","Pregnancy"],protocols:[],administration:"Oral or Transdermal (DMSO)",storage:"Room temperature.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/23168565/"]},Oxytocin:{name:"Oxytocin",category:"Hormone & Wellness",status:"Prescription/Compound",halfLife:"3-5 minutes",commonDosage:"10-20IU (Nasal) or 5-10IU (SubQ)",description:'The "love hormone" involved in bonding, stress reduction, and sexual arousal.',benefits:["Improved social bonding","Stress/Cortisol reduction","Enhanced orgasm/libido","Mood elevation"],sideEffects:["Headache","Nausea","Uterine contractions (females)"],cons:["Very short duration","Nasal absorption varies","Can induce labor in pregnancy"],warnings:["Do not use if pregnant (induces labor)","Monitor blood pressure"],contraindications:["Pregnancy"],protocols:[],administration:"Nasal spray or Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/1601267/"]},Cagrilintide:{name:"Cagrilintide",category:"Weight Loss (Amylin)",status:"Investigational (Phase 3)",halfLife:"Approx. 7 days",commonDosage:"0.3mg - 2.4mg weekly",description:"A long-acting amylin analog that suppresses appetite via a different pathway than GLP-1s. Often combined with Semaglutide (CagriSema).",benefits:["Potent satiety signaling","Significant weight loss","Synergistic effect with GLP-1s","Slower gastric emptying"],sideEffects:["Nausea (common)","Vomiting","Reduced appetite"],cons:["Expensive","GI effects can be compounding with GLP-1s","Not yet fully approved independent of trials"],warnings:["Monitor caloric intake","Stay hydrated"],contraindications:["Gastroparesis","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/36024982/"]},Mazdutide:{name:"Mazdutide",category:"Dual GLP-1/Glucagon Agonist",status:"Investigational",halfLife:"Weekly dosing",commonDosage:"3mg - 9mg weekly (Trial)",description:"A dual agonist of GLP-1 and Glucagon receptors, designed to promote weight loss and energy expenditure.",benefits:["High weight loss potential","Increases energy expenditure","Reduces liver fat"],sideEffects:["Increased heart rate","Nausea","Arrhythmia risk (theoretical)"],cons:["Glucagon component may raise blood sugar in some (though offset by GLP-1)","Heart rate increase is common","Early development stage"],warnings:["Monitor heart rate closely","Monitor blood glucose"],contraindications:["Cardiovascular disease","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/35504283/"]},Humanin:{name:"Humanin",category:"Mitochondrial",status:"Research chemical",halfLife:"Short (hours)",commonDosage:"2-5mg daily (Short cycles)",description:"A mitochondrial-derived peptide with potent cytoprotective, metabolic, and neuroprotective effects.",benefits:["Mitochondrial biogenesis","Protects against oxidative stress","Improves insulin sensitivity","Neuroprotection (Alzheimer's research)"],sideEffects:["Little known side effects","Injection site pain"],cons:["Very expensive","Requires high doses","Limited human data"],warnings:["May inhibit apoptosis (theoretical cancer risk in existing tumors)","Short term use recommended"],contraindications:["Active malignancy","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/11373683/"]},"B7-33":{name:"B7-33",category:"Healing & Fibrosis",status:"Research chemical",halfLife:"Short",commonDosage:"1-2mg daily (split doses)",description:"A functionally selective relaxin analog designed to reduce fibrosis (scar tissue) without the side effects of native relaxin.",benefits:["Reduces fibrosis / scar tissue","Does not dilate blood vessels (unlike Relaxin)","Heart failure research","Anti-inflammatory"],sideEffects:["Mild irritation"],cons:["Short half-life requiring frequent dosing","Hard to source high purity","Niche application"],warnings:["Effects on connective tissue integrity"],contraindications:["Pregnancy","Ehlers-Danlos Syndrome (theoretical)"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/27018318/"]},Pinealon:{name:"Pinealon",category:"Bioregulator (Brain)",status:"Supplement (Russia)",halfLife:"Short",commonDosage:"5-10mg daily (Oral/SubQ) for 10-20 days",description:"A synthetic tripeptide bioregulator for the brain, noted for correction of brain function and jet lag.",benefits:["Improves cognitive function","Regulates circadian rhythm","Neuroprotection","Reduces oxidative stress in brain"],sideEffects:["None reported typically"],cons:["Effects are subtle/long-term","Course-based dosing"],warnings:["None specific"],contraindications:["Pregnancy"],protocols:[],administration:"Oral or Subcutaneous injection",storage:"Cool dry place (if capsule) / Refrigerator (if peptide).",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/17552093/"]},Vilon:{name:"Vilon",category:"Bioregulator (Immune)",status:"Research/Supplement",halfLife:"Short",commonDosage:"10mg daily course",description:"A synthetic dipeptide bioregulator of the thymus, stimulating immune function and regeneration.",benefits:["Immune modulation","Thymus regeneration","Reduced inflammation","Anti-aging"],sideEffects:["None reported typically"],cons:["Hard to find data in English"],warnings:["Immune stimulation caution (autoimmune)"],contraindications:["Active autoimmune flare (caution)","Pregnancy"],protocols:[],administration:"Subcutaneous injection or Oral",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/12577695/"]},Vesugen:{name:"Vesugen",category:"Bioregulator (Vascular)",status:"Supplement",halfLife:"Short",commonDosage:"10mg daily course",description:"A tripeptide bioregulator for the vascular system, promoting blood vessel health.",benefits:["Improves circulation","Strengthens vessel walls","Atherosclerosis prevention","Blood pressure normalization support"],sideEffects:["None reported"],cons:["Subtle effects"],warnings:["Check blood pressure"],contraindications:["Pregnancy"],protocols:[],administration:"Oral or Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18314644/"]},"Snap-8":{name:"Snap-8",category:"Cosmetic Peptide",status:"Cosmetic Ingredient",halfLife:"N/A (Topical)",commonDosage:"3-10% topical concentration",description:"An octapeptide that reduces the depth of wrinkles caused by facial muscle contractions (Botox-like effect).",benefits:["Reduces expression lines","Non-invasive","Safe alternative to Botox"],sideEffects:["Skin irritation (rare)"],cons:["Must be used daily topical","Effects revert if stopped","Less potent than injectable neurotoxins"],warnings:["For external use only"],contraindications:["Skin sensitivity"],protocols:[],administration:"Topical cream/serum",storage:"Room temp (formulated).",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/19056056/"]},Argireline:{name:"Argireline",category:"Cosmetic Peptide",status:"Cosmetic Ingredient",halfLife:"N/A (Topical)",commonDosage:"5-10% topical concentration",description:'Acetyle Hexapeptide-3/8, known as "Botox in a jar", inhibits neurotransmitter release to relax facial muscles.',benefits:["Reduces forehead lines/crow's feet","Moisturizing properties","Non-toxic"],sideEffects:["Skin irritation","Redness"],cons:["Penetration is limited","Subtle results vs injectables"],warnings:["Topical use only"],contraindications:["Hypersensitivity"],protocols:[],administration:"Topical application",storage:"Room temp.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18498523/"]},Gonadorelin:{name:"Gonadorelin",category:"Hormone Support",status:"Prescription/Research",halfLife:"10-40 minutes",commonDosage:"100mcg pulsatile (specific protocols)",description:"Synthetic GnRH used to stimulate the pituitary to release LH and FSH, restoring testosterone production.",benefits:["Restores HPTA axis function","Increases testosterone","Preserves testicular size","Fertility support"],sideEffects:["Hot flashes","Headache","Desensitization if dosed continuously (castration effect)"],cons:["Very short half-life requires pulsed dosing for best effect","Continuous use shuts down HPTA (paradoxical effect)"],warnings:["Dosing timing is critical","Overuse leads to shutdown"],contraindications:["Prostate cancer","Pregnancy"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/458359/"]},"Orexin A":{name:"Orexin A",category:"Nootropic & Wakefulness",status:"Research chemical",halfLife:"Short",commonDosage:"Intranasal (variable)",description:"A neuropeptide that regulates arousal, wakefulness, and appetite. Used for narcolepsy and fatigue.",benefits:["Promotes wakefulness","Improves cognitive performance","Combats sleep deprivation effects"],sideEffects:["Anxiety","Insomnia","Increased appetite"],cons:["Hard to cross blood-brain barrier (needs nasal/special delivery)","Expensive"],warnings:["Do not use if prone to anxiety","Will disrupt sleep"],contraindications:["Insomnia","Anxiety disorders"],protocols:[],administration:"Intranasal spray",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/9491897/"]},"Larazotide (AT-1001)":{name:"Larazotide (AT-1001)",category:"Gut Health",status:"Investigational (Celiac)",halfLife:"Local gut action",commonDosage:"0.5mg - 2mg Oral",description:"A tight junction regulator peptide that reduces intestinal permeability (leaky gut).",benefits:["Reduces gut permeability","Helps with Celiac symptoms","Systemic inflammation reduction"],sideEffects:["Mild GI upset","Headache"],cons:["Must be timed with meals","Limited availability outside trials"],warnings:["Not a cure for Celiac (still need gluten free diet)"],contraindications:["Pregnancy"],protocols:[],administration:"Oral capsule",storage:"Cool dry place.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/22902773/"]},Adipotide:{name:"Adipotide",category:"Fat Loss (Experimental)",status:"Research chemical",halfLife:"Unknown",commonDosage:"Highly experimental",description:"A pro-apoptotic peptide that targets blood supply of white fat cells, causing them to die.",benefits:["Rapid, massive fat loss (in animals)"],sideEffects:["Kidney toxicity (Major risk)","Dehydration","Lesions"],cons:["High risk of renal failure if dosed wrong","Painful mechanism","Not safe for general use"],warnings:["Known to cause kidney lesions in monkeys","EXTREME CAUTION required"],contraindications:["Kidney issues","Human use generally discouraged"],protocols:[],administration:"Subcutaneous injection",storage:"Freeze.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/22020228/"]},Tesofensine:{name:"Tesofensine",category:"Metabolic Agent (Research)",status:"Research Chemical",halfLife:"9 days (~220 hours)",commonDosage:"0.25mg - 0.5mg daily (Oral)",description:"A serotonin-noradrenaline-dopamine reuptake inhibitor originally for Parkinson's/Alzheimer's, now produced for weight loss.",benefits:["Powerful appetite suppression","Increased metabolic rate","Mood enhancement"],sideEffects:["Insomnia","Dry mouth","Elevated heart rate","Anxiety","Constipation"],cons:["Long half-life means side effects last a long time","Stimulant-like effects","Sleep disruption common"],warnings:["Monitor blood pressure and heart rate","Taper off slowly"],contraindications:["Uncontrolled hypertension","Glaucoma","MAOI use"],protocols:[],administration:"Oral capsule",storage:"Room temperature.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18974309/"]},"Cardarine (GW-501516)":{name:"Cardarine (GW-501516)",category:"Performance / PPAR",status:"Research Chemical",halfLife:"12-24 hours",commonDosage:"10-20mg daily",description:"A PPAR-delta agonist that switches energy preference from glucose to lipids, enhancing endurance and fat loss.",benefits:["Massive endurance boost","Fat burning","Improved lipid profile (raises HDL, lowers LDL)"],sideEffects:["None acute usually","Cancer risk (black box - controversial animal studies)"],cons:["Development abandoned by Pharma due to cancer development in mice (at high constant doses)","Not hormonal but affects metabolism"],warnings:["Potential carcinogen in long term/high dose use","Use at own risk"],contraindications:["Active cancer","Health anxiety"],protocols:[],administration:"Oral liquid/capsule",storage:"Room temperature.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/15138255/"]},"Stenabolic (SR-9009)":{name:"Stenabolic (SR-9009)",category:"Performance / Rev-ErbA",status:"Research Chemical",halfLife:"4 hours",commonDosage:"10-30mg daily (dosed 3-4x)",description:'A Rev-ErbA agonist that affects circadian rhythm and metabolism, often called "exercise in a bottle".',benefits:["Endurance increase","Metabolic boost","Reduced cholesterol","Decreased anxiety"],sideEffects:["Insomnia","Wakefulness"],cons:["Very poor oral bioavailability (best injected or sublingual)","Short half-life requires frequent dosing"],warnings:["Timing matters (can disrupt sleep)"],contraindications:["Sleep disorders"],protocols:[],administration:"Sublingual, Oral, or Injection",storage:"Room temperature.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/22460951/"]},Enclomiphene:{name:"Enclomiphene",category:"Hormone Support (SERM)",status:"Prescription/Research",halfLife:"10 hours",commonDosage:"6.25mg - 25mg daily",description:"The preferred isomer of Clomid, antagonizing estrogen at the pituitary to stimulate natural testosterone production without estrogenic side effects of zuclomiphene.",benefits:["Raises natural testosterone","Maintains fertility","Fewer emotional side effects than Clomid"],sideEffects:["Reduced IGF-1 levels","Vision changes (floaters) - rare but serious","Libido variance"],cons:["Lowers IGF-1 which counters some muscle building benefits","Vision side effects require immediate cessation"],warnings:["Stop if vision changes occur","Monitor Estradiol"],contraindications:["History of eye disorders","Pituitary tumor"],protocols:[],administration:"Oral capsule",storage:"Room temperature.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/24369076/"]},"NA-Semax Amidate":{name:"NA-Semax Amidate",category:"Nootropic (Advanced)",status:"Research Chemical",halfLife:"Medium",commonDosage:"200-600mcg daily (Nasal)",description:"Acetylated and amidated version of Semax for improved stability, blood-brain barrier penetration, and potency.",benefits:["Stronger focus than regular Semax","Longer duration","Neuroprotection","Mental clarity"],sideEffects:["Overstimulation","Headache","Irritability"],cons:["Expensive","Fragile peptide (heat sensitive)"],warnings:["Start low dose","Keep refrigerated"],contraindications:["History of seizures","Anxiety"],protocols:[],administration:"Nasal spray",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/16996699/"]},"NA-Selank Amidate":{name:"NA-Selank Amidate",category:"Anxiolytic (Advanced)",status:"Research Chemical",halfLife:"Medium",commonDosage:"200-600mcg daily (Nasal)",description:"Acetylated and amidated Selank, offering enhanced potency and duration for anxiety relief.",benefits:["Potent anxiety reduction","No sedation","Mood elevation","Immune modulation"],sideEffects:["Lethargy (at high doses)","Brain fog"],cons:["Expensive","Effects vary by individual"],warnings:["Keep refrigerated"],contraindications:["Pregnancy"],protocols:[],administration:"Nasal spray",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/18577961/"]},"ACE-031":{name:"ACE-031",category:"Muscle Growth (Myostatin)",status:"Research Chemical (Discontinued Pharma)",halfLife:"10-15 days",commonDosage:"1mg/kg (Experimental)",description:"A soluble fusion protein that binds to myostatin and other negative muscle regulators, preventing them from acting.",benefits:["Explosive muscle growth","Fat loss"],sideEffects:["Nose bleeds (common in trials)","Gum bleeding","Telangiectasia (dilated blood vessels)"],cons:["Human trials stopped due to bleeding issues","Very expensive","Joint dryness"],warnings:["Do not use; known safety issues in trials","Monitor mucosal bleeding"],contraindications:["Bleeding disorders","Hypertension"],protocols:[],administration:"Subcutaneous injection",storage:"Refrigerate.",researchLinks:["https://pubmed.ncbi.nlm.nih.gov/23168536/"]}},op=t=>At[t]||null,cp=()=>Object.values(At),ka="_container_ow5v7_1",Na="_loadingState_ow5v7_23",Ia="_spinner_ow5v7_33",Ca="_pageHeader_ow5v7_48",Da="_headerLeft_ow5v7_55",Aa="_headerIcon_ow5v7_61",La="_headerRight_ow5v7_81",Pa="_guestBadge_ow5v7_87",Ta="_statsGrid_ow5v7_101",Ea="_statCard_ow5v7_114",Ra="_statIcon_ow5v7_124",Ma="_statContent_ow5v7_134",za="_statValue_ow5v7_139",Ba="_statLabel_ow5v7_146",Ha="_viewTabs_ow5v7_154",Oa="_viewTab_ow5v7_154",$a="_activeTab_ow5v7_184",Ga="_badge_ow5v7_189",Fa="_errorBanner_ow5v7_198",Va="_calendarCard_ow5v7_211",qa="_calendarHeader_ow5v7_215",Ua="_monthDisplay_ow5v7_222",Wa="_todayBtn_ow5v7_236",Ja="_navBtn_ow5v7_252",Ya="_grid_ow5v7_272",Ka="_dayHeader_ow5v7_278",Xa="_day_ow5v7_278",Qa="_selected_ow5v7_308",Za="_today_ow5v7_236",er="_dayNumber_ow5v7_314",tr="_dimmed_ow5v7_325",sr="_dots_ow5v7_334",nr="_dot_ow5v7_334",ir="_injectionDot_ow5v7_349",ar="_scheduleDot_ow5v7_353",rr="_completedDot_ow5v7_357",or="_moreCount_ow5v7_362",cr="_detailsSection_ow5v7_369",lr="_detailsHeader_ow5v7_373",dr="_todayLabel_ow5v7_391",ur="_actionButtons_ow5v7_402",mr="_addBtn_ow5v7_407",hr="_addBtnPrimary_ow5v7_421",pr="_addBtnSecondary_ow5v7_431",gr="_addBtnTertiary_ow5v7_441",fr="_form_ow5v7_452",yr="_formHeader_ow5v7_475",xr="_closeBtn_ow5v7_488",vr="_inputGroup_ow5v7_504",jr="_formRow_ow5v7_533",_r="_autocompleteWrapper_ow5v7_550",br="_chevron_ow5v7_554",wr="_chevronUp_ow5v7_564",Sr="_autocomplete_ow5v7_550",kr="_autocompleteItem_ow5v7_582",Nr="_siteButtons_ow5v7_603",Ir="_siteButton_ow5v7_603",Cr="_siteActive_ow5v7_624",Dr="_formSection_ow5v7_631",Ar="_quickProtocols_ow5v7_644",Lr="_quickProtocolBtn_ow5v7_656",Pr="_quickProtocolActive_ow5v7_677",Tr="_protocolEmoji_ow5v7_683",Er="_daysSelector_ow5v7_688",Rr="_dayBtn_ow5v7_694",Mr="_dayBtnActive_ow5v7_714",zr="_dayShort_ow5v7_720",Br="_dayLabel_ow5v7_725",Hr="_submitBtn_ow5v7_733",Or="_dayItems_ow5v7_757",$r="_itemSection_ow5v7_763",Gr="_sectionLabel_ow5v7_769",Fr="_scheduleItem_ow5v7_782",Vr="_completedSchedule_ow5v7_797",qr="_completeBtn_ow5v7_803",Ur="_injectionItem_ow5v7_819",Wr="_completedIcon_ow5v7_834",Jr="_itemInfo_ow5v7_839",Yr="_itemPeptide_ow5v7_847",Kr="_itemDetails_ow5v7_852",Xr="_recurringIcon_ow5v7_860",Qr="_itemNotes_ow5v7_864",Zr="_itemActions_ow5v7_870",eo="_editBtn_ow5v7_888",to="_deleteBtn_ow5v7_889",so="_confirmDelete_ow5v7_913",no="_emptyState_ow5v7_919",io="_emptyIcon_ow5v7_929",ao="_upcomingSection_ow5v7_947",ro="_upcomingHeader_ow5v7_951",oo="_upcomingList_ow5v7_970",co="_upcomingItem_ow5v7_976",lo="_todayItem_ow5v7_991",uo="_completedItem_ow5v7_996",mo="_upcomingDate_ow5v7_1000",ho="_upcomingDay_ow5v7_1010",po="_upcomingMonth_ow5v7_1017",go="_upcomingInfo_ow5v7_1023",fo="_upcomingPeptide_ow5v7_1030",yo="_upcomingDetails_ow5v7_1035",xo="_quickCompleteBtn_ow5v7_1043",vo="_completedBadge_ow5v7_1063",jo="_templatesSection_ow5v7_1076",_o="_templatesList_ow5v7_1092",bo="_templateItem_ow5v7_1098",wo="_templateInfo_ow5v7_1108",So="_templateName_ow5v7_1115",ko="_templateDetails_ow5v7_1120",h={container:ka,loadingState:Na,spinner:Ia,pageHeader:Ca,headerLeft:Da,headerIcon:Aa,headerRight:La,guestBadge:Pa,statsGrid:Ta,statCard:Ea,statIcon:Ra,statContent:Ma,statValue:za,statLabel:Ba,viewTabs:Ha,viewTab:Oa,activeTab:$a,badge:Ga,errorBanner:Fa,calendarCard:Va,calendarHeader:qa,monthDisplay:Ua,todayBtn:Wa,navBtn:Ja,grid:Ya,dayHeader:Ka,day:Xa,selected:Qa,today:Za,dayNumber:er,dimmed:tr,dots:sr,dot:nr,injectionDot:ir,scheduleDot:ar,completedDot:rr,moreCount:or,detailsSection:cr,detailsHeader:lr,todayLabel:dr,actionButtons:ur,addBtn:mr,addBtnPrimary:hr,addBtnSecondary:pr,addBtnTertiary:gr,form:fr,formHeader:yr,closeBtn:xr,inputGroup:vr,formRow:jr,autocompleteWrapper:_r,chevron:br,chevronUp:wr,autocomplete:Sr,autocompleteItem:kr,siteButtons:Nr,siteButton:Ir,siteActive:Cr,formSection:Dr,quickProtocols:Ar,quickProtocolBtn:Lr,quickProtocolActive:Pr,protocolEmoji:Tr,daysSelector:Er,dayBtn:Rr,dayBtnActive:Mr,dayShort:zr,dayLabel:Br,submitBtn:Hr,dayItems:Or,itemSection:$r,sectionLabel:Gr,scheduleItem:Fr,completedSchedule:Vr,completeBtn:qr,injectionItem:Ur,completedIcon:Wr,itemInfo:Jr,itemPeptide:Yr,itemDetails:Kr,recurringIcon:Xr,itemNotes:Qr,itemActions:Zr,editBtn:eo,deleteBtn:to,confirmDelete:so,emptyState:no,emptyIcon:io,upcomingSection:ao,upcomingHeader:ro,upcomingList:oo,upcomingItem:co,todayItem:lo,completedItem:uo,upcomingDate:mo,upcomingDay:ho,upcomingMonth:po,upcomingInfo:go,upcomingPeptide:fo,upcomingDetails:yo,quickCompleteBtn:xo,completedBadge:vo,templatesSection:jo,templatesList:_o,templateItem:bo,templateInfo:wo,templateName:So,templateDetails:ko},Gt=Object.keys(At),Ft=[{value:0,label:"Sun",short:"S"},{value:1,label:"Mon",short:"M"},{value:2,label:"Tue",short:"T"},{value:3,label:"Wed",short:"W"},{value:4,label:"Thu",short:"T"},{value:5,label:"Fri",short:"F"},{value:6,label:"Sat",short:"S"}],No=[{id:"daily",label:"Every Day",days:[0,1,2,3,4,5,6],icon:"📅"},{id:"eod",label:"Every Other Day",days:[1,3,5],icon:"🔄"},{id:"mwf",label:"Mon/Wed/Fri",days:[1,3,5],icon:"💪"},{id:"weekdays",label:"Weekdays",days:[1,2,3,4,5],icon:"📆"},{id:"weekends",label:"Weekends",days:[0,6],icon:"🌴"},{id:"once",label:"Once Weekly",days:[],icon:"1️⃣"}],Io=()=>{const{injections:t,loading:s,error:n,addInjection:i,updateInjection:a,deleteInjection:d,getStats:o,isUsingLocalStorage:u}=Ke(),{schedules:p,templates:f,loading:_,addSchedule:A,createRecurringSchedule:L,deleteSchedule:w,toggleComplete:x,deleteTemplate:D,getUpcomingSchedules:I}=Sa(),[g,l]=r.useState(new Date),[c,j]=r.useState(new Date),[b,N]=r.useState("calendar"),[M,O]=r.useState(!1),[k,y]=r.useState("log"),[$,F]=r.useState(null),[v,z]=r.useState(!1),[q,Y]=r.useState(null),ve=r.useRef(null),[B,ee]=r.useState({peptide:"",dosage:"",unit:"mg",site:"Abdomen",time:"08:00",notes:"",date:new Date().toISOString().slice(0,16),recurrenceDays:[],duration:28}),fe=s||_,je=r.useMemo(()=>o(),[o]),ae=g.getFullYear(),ye=g.getMonth(),ht=r.useMemo(()=>{const m=new Date(ae,ye,1),U=new Date(ae,ye+1,0),te=[];for(let ce=0;ce<m.getDay();ce++){const qe=new Date(ae,ye,-ce);te.unshift({date:qe,dimmed:!0})}for(let ce=1;ce<=U.getDate();ce++)te.push({date:new Date(ae,ye,ce),dimmed:!1});const Ve=42-te.length;for(let ce=1;ce<=Ve;ce++)te.push({date:new Date(ae,ye+1,ce),dimmed:!0});return te},[ae,ye]),Re=r.useCallback(m=>{const U=m.toDateString(),te=t.filter(ce=>new Date(ce.date).toDateString()===U),Ve=p.filter(ce=>new Date(ce.date).toDateString()===U);return{injections:te,schedules:Ve}},[t,p]),Xe=r.useMemo(()=>{if(!B.peptide)return Gt.slice(0,8);const m=B.peptide.toLowerCase();return Gt.filter(U=>U.toLowerCase().includes(m)).slice(0,8)},[B.peptide]);r.useEffect(()=>{const m=U=>{ve.current&&!ve.current.contains(U.target)&&z(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const pt=()=>l(new Date(ae,ye+1,1)),gt=()=>l(new Date(ae,ye-1,1)),ft=()=>{l(new Date),j(new Date)},yt=m=>{j(m.date)},R=m=>{const U=new Date;return m.toDateString()===U.toDateString()},re=m=>m.toDateString()===c.toDateString(),Fe=m=>{const U=new Date;return U.setHours(0,0,0,0),m<U},Qe=()=>{ee({peptide:"",dosage:"",unit:"mg",site:"Abdomen",time:"08:00",notes:"",date:c.toISOString().slice(0,16),recurrenceDays:[],duration:28}),F(null),y("log")},fs=(m=null)=>{Qe(),ee(m?U=>({...U,peptide:m.peptide,dosage:m.dosage?.toString()||"",unit:m.unit||"mg",date:new Date().toISOString().slice(0,16)}):U=>({...U,date:c.toISOString().slice(0,16)})),y("log"),O(!0)},ys=()=>{Qe(),y("schedule"),O(!0)},Lt=()=>{Qe(),y("recurring"),O(!0),N("calendar")},xs=m=>{ee(U=>({...U,recurrenceDays:U.recurrenceDays.includes(m)?U.recurrenceDays.filter(te=>te!==m):[...U.recurrenceDays,m].sort()}))},vs=m=>{ee(U=>({...U,recurrenceDays:m.days}))},js=m=>{ee(U=>({...U,peptide:m})),z(!1)},_s=async m=>{if(m.preventDefault(),!(!B.peptide||!B.dosage)){if(k==="log"){const U={peptide:B.peptide,dosage:parseFloat(B.dosage),unit:B.unit,site:B.site,notes:B.notes||"",date:new Date(B.date).toISOString()};$?await a($,U):await i(U)}else if(k==="schedule")await A({date:c.toISOString(),peptide:B.peptide,dosage:parseFloat(B.dosage),unit:B.unit,time:B.time,notes:B.notes});else if(k==="recurring"){if(B.recurrenceDays.length===0)return;const U=new Date;U.setHours(0,0,0,0);const te=new Date;te.setDate(te.getDate()+B.duration),te.setHours(23,59,59,999),await L({peptide:B.peptide,dosage:parseFloat(B.dosage),unit:B.unit,time:B.time,recurrenceDays:B.recurrenceDays,notes:B.notes},U,te)}Qe(),O(!1)}},Pt=async m=>{await x(m.id),await i({peptide:m.peptide,dosage:m.dosage,unit:m.unit,site:"Abdomen",notes:"Completed from schedule",date:new Date().toISOString()})},bs=m=>{ee({peptide:m.peptide,dosage:m.dosage.toString(),unit:m.unit,site:m.site||"Abdomen",time:"08:00",notes:m.notes||"",date:new Date(m.date).toISOString().slice(0,16),recurrenceDays:[],duration:28}),F(m.id),y("log"),O(!0)},ws=async m=>{q===m?(await d(m),Y(null)):(Y(m),setTimeout(()=>Y(null),3e3))},Ss=m=>new Date(m).toLocaleTimeString(void 0,{hour:"numeric",minute:"2-digit"}),Se=r.useMemo(()=>Re(c),[c,Re]),Ze=r.useMemo(()=>I(7),[I]);return fe?e.jsxs("div",{className:h.loadingState,children:[e.jsx(Qs,{size:32,className:h.spinner}),e.jsx("p",{children:"Loading your injection log..."})]}):e.jsxs("div",{className:h.container,children:[e.jsxs("div",{className:h.pageHeader,children:[e.jsxs("div",{className:h.headerLeft,children:[e.jsx(Le,{size:28,className:h.headerIcon}),e.jsxs("div",{children:[e.jsx("h1",{children:"Injection Log"}),e.jsx("p",{children:"Track & schedule your peptide protocol"})]})]}),e.jsx("div",{className:h.headerRight,children:u&&e.jsxs("span",{className:h.guestBadge,children:[e.jsx(Zs,{size:14}),"Guest Mode"]})})]}),je&&e.jsxs("div",{className:h.statsGrid,children:[e.jsxs("div",{className:h.statCard,children:[e.jsx("div",{className:h.statIcon,style:{background:"rgba(16, 185, 129, 0.15)"},children:e.jsx(xe,{size:18,color:"#10b981"})}),e.jsxs("div",{className:h.statContent,children:[e.jsx("span",{className:h.statValue,children:je.activeLevel}),e.jsx("span",{className:h.statLabel,children:"mg active"})]})]}),e.jsxs("div",{className:h.statCard,children:[e.jsx("div",{className:h.statIcon,style:{background:"rgba(59, 130, 246, 0.15)"},children:e.jsx(He,{size:18,color:"#3b82f6"})}),e.jsxs("div",{className:h.statContent,children:[e.jsx("span",{className:h.statValue,children:je.weeklyCount}),e.jsx("span",{className:h.statLabel,children:"this week"})]})]}),e.jsxs("div",{className:h.statCard,children:[e.jsx("div",{className:h.statIcon,style:{background:"rgba(139, 92, 246, 0.15)"},children:e.jsx(Le,{size:18,color:"#8b5cf6"})}),e.jsxs("div",{className:h.statContent,children:[e.jsx("span",{className:h.statValue,children:je.totalInjections}),e.jsx("span",{className:h.statLabel,children:"total"})]})]})]}),e.jsxs("div",{className:h.viewTabs,children:[e.jsxs("button",{className:`${h.viewTab} ${b==="calendar"?h.activeTab:""}`,onClick:()=>N("calendar"),children:[e.jsx(Ie,{size:18}),"Calendar"]}),e.jsxs("button",{className:`${h.viewTab} ${b==="schedule"?h.activeTab:""}`,onClick:()=>N("schedule"),children:[e.jsx(Me,{size:18}),"Upcoming",Ze.length>0&&e.jsx("span",{className:h.badge,children:Ze.length})]})]}),n&&e.jsxs("div",{className:h.errorBanner,children:[e.jsx(we,{size:16}),n]}),b==="calendar"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`card glass-panel ${h.calendarCard}`,children:[e.jsxs("div",{className:h.calendarHeader,children:[e.jsx("button",{className:h.navBtn,onClick:gt,children:e.jsx(ss,{size:20})}),e.jsxs("div",{className:h.monthDisplay,children:[e.jsx("h2",{children:g.toLocaleDateString(void 0,{month:"long",year:"numeric"})}),e.jsx("button",{className:h.todayBtn,onClick:ft,children:"Today"})]}),e.jsx("button",{className:h.navBtn,onClick:pt,children:e.jsx(Je,{size:20})})]}),e.jsxs("div",{className:h.grid,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(m=>e.jsx("div",{className:h.dayHeader,children:m},m)),ht.map((m,U)=>{const te=Re(m.date),Ve=te.injections.length>0;te.schedules.length>0;const ce=te.schedules.filter(et=>et.completed).length,qe=te.schedules.filter(et=>!et.completed).length;return e.jsxs("button",{className:`${h.day} ${m.dimmed?h.dimmed:""} ${R(m.date)?h.today:""} ${re(m.date)?h.selected:""}`,onClick:()=>yt(m),children:[e.jsx("span",{className:h.dayNumber,children:m.date.getDate()}),e.jsxs("div",{className:h.dots,children:[Ve&&te.injections.slice(0,2).map((et,ks)=>e.jsx("span",{className:`${h.dot} ${h.injectionDot}`},`inj-${ks}`)),qe>0&&e.jsx("span",{className:`${h.dot} ${h.scheduleDot}`}),ce>0&&e.jsx("span",{className:`${h.dot} ${h.completedDot}`}),te.injections.length+te.schedules.length>3&&e.jsxs("span",{className:h.moreCount,children:["+",te.injections.length+te.schedules.length-3]})]})]},U)})]})]}),e.jsxs("div",{className:`card glass-panel ${h.detailsSection}`,children:[e.jsxs("div",{className:h.detailsHeader,children:[e.jsxs("div",{children:[e.jsx("h3",{children:c.toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric"})}),R(c)&&e.jsx("span",{className:h.todayLabel,children:"Today"})]}),e.jsxs("div",{className:h.actionButtons,children:[e.jsxs("button",{className:`${h.addBtn} ${h.addBtnPrimary}`,onClick:()=>fs(),children:[e.jsx(Pe,{size:18}),"Log Shot"]}),!Fe(c)&&e.jsx("button",{className:`${h.addBtn} ${h.addBtnSecondary}`,onClick:ys,children:e.jsx(Rt,{size:18})}),e.jsx("button",{className:`${h.addBtn} ${h.addBtnTertiary}`,onClick:Lt,children:e.jsx(Me,{size:18})})]})]}),M&&e.jsxs("form",{className:h.form,onSubmit:_s,children:[e.jsxs("div",{className:h.formHeader,children:[e.jsxs("h4",{children:[k==="log"&&($?"Edit Injection":"Log Injection"),k==="schedule"&&"Schedule Injection",k==="recurring"&&"Create Recurring Schedule"]}),e.jsx("button",{type:"button",className:h.closeBtn,onClick:()=>O(!1),children:e.jsx(lt,{size:20})})]}),e.jsxs("div",{className:h.inputGroup,ref:ve,children:[e.jsx("label",{children:"Peptide Name *"}),e.jsxs("div",{className:h.autocompleteWrapper,children:[e.jsx("input",{type:"text",placeholder:"Type or search peptide...",value:B.peptide,onChange:m=>ee({...B,peptide:m.target.value}),onFocus:()=>z(!0),required:!0,autoComplete:"off"}),e.jsx(We,{size:18,className:`${h.chevron} ${v?h.chevronUp:""}`}),v&&Xe.length>0&&e.jsx("div",{className:h.autocomplete,children:Xe.map(m=>e.jsx("button",{type:"button",className:h.autocompleteItem,onClick:()=>js(m),children:m},m))})]})]}),e.jsxs("div",{className:h.formRow,children:[e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Dosage *"}),e.jsx("input",{type:"number",step:"0.001",min:"0",placeholder:"0.25",value:B.dosage,onChange:m=>ee({...B,dosage:m.target.value}),required:!0})]}),e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Unit"}),e.jsxs("select",{value:B.unit,onChange:m=>ee({...B,unit:m.target.value}),children:[e.jsx("option",{value:"mg",children:"mg"}),e.jsx("option",{value:"mcg",children:"mcg"}),e.jsx("option",{value:"iu",children:"IU"})]})]}),(k==="schedule"||k==="recurring")&&e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Time"}),e.jsx("input",{type:"time",value:B.time,onChange:m=>ee({...B,time:m.target.value})})]})]}),k==="log"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:h.inputGroup,children:[e.jsxs("label",{children:[e.jsx(Ie,{size:14,style:{marginRight:6,verticalAlign:"middle"}}),"Date & Time"]}),e.jsx("input",{type:"datetime-local",value:B.date,onChange:m=>ee({...B,date:m.target.value}),max:new Date().toISOString().slice(0,16)})]}),e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Injection Site"}),e.jsx("div",{className:h.siteButtons,children:["Abdomen","Thigh","Arm","Glute"].map(m=>e.jsx("button",{type:"button",className:`${h.siteButton} ${B.site===m?h.siteActive:""}`,onClick:()=>ee({...B,site:m}),children:m},m))})]})]}),k==="recurring"&&e.jsxs("div",{className:h.formSection,children:[e.jsx("label",{children:"Quick Protocols"}),e.jsx("div",{className:h.quickProtocols,children:No.map(m=>e.jsxs("button",{type:"button",className:`${h.quickProtocolBtn} ${JSON.stringify(B.recurrenceDays)===JSON.stringify(m.days)?h.quickProtocolActive:""}`,onClick:()=>vs(m),children:[e.jsx("span",{className:h.protocolEmoji,children:m.icon}),m.label]},m.id))}),e.jsx("label",{style:{marginTop:"1rem"},children:"Or select specific days"}),e.jsx("div",{className:h.daysSelector,children:Ft.map(m=>e.jsxs("button",{type:"button",className:`${h.dayBtn} ${B.recurrenceDays.includes(m.value)?h.dayBtnActive:""}`,onClick:()=>xs(m.value),children:[e.jsx("span",{className:h.dayShort,children:m.short}),e.jsx("span",{className:h.dayLabel,children:m.label})]},m.value))}),e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Duration (days)"}),e.jsxs("select",{value:B.duration,onChange:m=>ee({...B,duration:parseInt(m.target.value)}),children:[e.jsx("option",{value:7,children:"1 Week"}),e.jsx("option",{value:14,children:"2 Weeks"}),e.jsx("option",{value:28,children:"4 Weeks"}),e.jsx("option",{value:56,children:"8 Weeks"}),e.jsx("option",{value:84,children:"12 Weeks"})]})]})]}),e.jsxs("div",{className:h.inputGroup,children:[e.jsx("label",{children:"Notes (optional)"}),e.jsx("input",{type:"text",placeholder:"Optional notes...",value:B.notes,onChange:m=>ee({...B,notes:m.target.value})})]}),e.jsxs("button",{type:"submit",className:h.submitBtn,children:[k==="log"&&($?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:18})," Update"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:18})," Log Injection"]})),k==="schedule"&&e.jsxs(e.Fragment,{children:[e.jsx(Rt,{size:18})," Add to Schedule"]}),k==="recurring"&&e.jsxs(e.Fragment,{children:[e.jsx(Me,{size:18})," Create Protocol"]})]})]}),e.jsxs("div",{className:h.dayItems,children:[Se.schedules.filter(m=>!m.completed).length>0&&e.jsxs("div",{className:h.itemSection,children:[e.jsxs("h5",{className:h.sectionLabel,children:[e.jsx(Oe,{size:14}),"Scheduled"]}),Se.schedules.filter(m=>!m.completed).map(m=>e.jsxs("div",{className:h.scheduleItem,children:[e.jsx("button",{className:h.completeBtn,onClick:()=>Pt(m),title:"Mark as complete (will log injection)",children:e.jsx(en,{size:22})}),e.jsxs("div",{className:h.itemInfo,children:[e.jsx("span",{className:h.itemPeptide,children:m.peptide}),e.jsxs("span",{className:h.itemDetails,children:[m.dosage,m.unit," · ",m.time,m.isRecurring&&e.jsx(Me,{size:12,className:h.recurringIcon})]})]}),e.jsx("button",{className:h.deleteBtn,onClick:()=>w(m.id),children:e.jsx(Te,{size:16})})]},m.id))]}),Se.injections.length>0&&e.jsxs("div",{className:h.itemSection,children:[e.jsxs("h5",{className:h.sectionLabel,children:[e.jsx(ue,{size:14}),"Logged"]}),Se.injections.map(m=>e.jsxs("div",{className:h.injectionItem,children:[e.jsx("div",{className:h.completedIcon,children:e.jsx(ue,{size:22})}),e.jsxs("div",{className:h.itemInfo,children:[e.jsx("span",{className:h.itemPeptide,children:m.peptide}),e.jsxs("span",{className:h.itemDetails,children:[m.dosage,m.unit," · ",m.site," · ",Ss(m.date)]}),m.notes&&e.jsx("span",{className:h.itemNotes,children:m.notes})]}),e.jsxs("div",{className:h.itemActions,children:[e.jsx("button",{className:h.editBtn,onClick:()=>bs(m),children:e.jsx(ns,{size:16})}),e.jsx("button",{className:`${h.deleteBtn} ${q===m.id?h.confirmDelete:""}`,onClick:()=>ws(m.id),children:q===m.id?e.jsx(Ue,{size:16}):e.jsx(Te,{size:16})})]})]},m.id))]}),Se.schedules.filter(m=>m.completed).length>0&&e.jsxs("div",{className:h.itemSection,children:[e.jsxs("h5",{className:h.sectionLabel,style:{opacity:.6},children:[e.jsx(Ue,{size:14}),"Completed Schedule"]}),Se.schedules.filter(m=>m.completed).map(m=>e.jsxs("div",{className:`${h.scheduleItem} ${h.completedSchedule}`,children:[e.jsx("div",{className:h.completedIcon,children:e.jsx(ue,{size:22})}),e.jsxs("div",{className:h.itemInfo,children:[e.jsx("span",{className:h.itemPeptide,children:m.peptide}),e.jsxs("span",{className:h.itemDetails,children:[m.dosage,m.unit," · ",m.time]})]})]},m.id))]}),Se.injections.length===0&&Se.schedules.length===0&&e.jsxs("div",{className:h.emptyState,children:[e.jsx(Le,{size:40,className:h.emptyIcon}),e.jsx("p",{children:"No injections for this day"}),e.jsx("span",{children:'Tap "Log Shot" to add one'})]})]})]})]}):e.jsxs("div",{className:`card glass-panel ${h.upcomingSection}`,children:[e.jsxs("div",{className:h.upcomingHeader,children:[e.jsxs("h3",{children:[e.jsx(Me,{size:20}),"Upcoming Schedule"]}),e.jsxs("button",{className:h.addBtn,onClick:Lt,children:[e.jsx(Pe,{size:18}),"New Protocol"]})]}),Ze.length===0?e.jsxs("div",{className:h.emptyState,children:[e.jsx(Ie,{size:40,className:h.emptyIcon}),e.jsx("p",{children:"No upcoming schedules"}),e.jsx("span",{children:"Create a recurring protocol to get started"})]}):e.jsx("div",{className:h.upcomingList,children:Ze.map(m=>{const U=new Date(m.date),te=R(U);return e.jsxs("div",{className:`${h.upcomingItem} ${m.completed?h.completedItem:""} ${te?h.todayItem:""}`,children:[e.jsxs("div",{className:h.upcomingDate,children:[e.jsx("span",{className:h.upcomingDay,children:U.getDate()}),e.jsx("span",{className:h.upcomingMonth,children:U.toLocaleDateString(void 0,{weekday:"short"})})]}),e.jsxs("div",{className:h.upcomingInfo,children:[e.jsx("span",{className:h.upcomingPeptide,children:m.peptide}),e.jsxs("span",{className:h.upcomingDetails,children:[m.dosage,m.unit," · ",m.time,m.isRecurring&&e.jsx(Me,{size:12,className:h.recurringIcon})]})]}),!m.completed&&te&&e.jsxs("button",{className:h.quickCompleteBtn,onClick:()=>Pt(m),children:[e.jsx(Ue,{size:18}),"Log Now"]}),m.completed&&e.jsxs("span",{className:h.completedBadge,children:[e.jsx(ue,{size:16}),"Done"]})]},m.id)})}),f.length>0&&e.jsxs("div",{className:h.templatesSection,children:[e.jsxs("h4",{children:[e.jsx(is,{size:16}),"Active Protocols"]}),e.jsx("div",{className:h.templatesList,children:f.map(m=>e.jsxs("div",{className:h.templateItem,children:[e.jsxs("div",{className:h.templateInfo,children:[e.jsx("span",{className:h.templateName,children:m.name||m.peptide}),e.jsxs("span",{className:h.templateDetails,children:[m.dosage,m.unit," · ",m.recurrenceDays?.map(U=>Ft[U]?.short).join(", ")]})]}),e.jsx("button",{className:h.deleteBtn,onClick:()=>D(m.id,!0),title:"Delete protocol and all scheduled items",children:e.jsx(Te,{size:16})})]},m.id))})]})]})]})},Co=()=>e.jsx("div",{className:"padding-container",style:{padding:"20px"},children:e.jsx(Io,{})}),Do=()=>{const[t,s]=r.useState(""),[n,i]=r.useState(""),[a,d]=r.useState(!1),[o,u]=r.useState(!1),[p,f]=r.useState(!1),[_,A]=r.useState(null),[L,w]=r.useState(!1),[x,D]=r.useState(""),[I,g]=r.useState(null),{signIn:l,signInWithOAuth:c,user:j}=useAuth(),b=Nt(),M=Ge().state?.from?.pathname||"/settings";r.useEffect(()=>{(async()=>{if(j){if(L)return;const{data:z}=await S.auth.mfa.getAuthenticatorAssuranceLevel();if(z&&z.nextLevel==="aal2"&&z.currentLevel==="aal1"){w(!0);const{data:q}=await S.auth.mfa.listFactors(),Y=q?.all?.find(ve=>ve.factor_type==="totp");Y?g(Y.id):A("2FA required but no factor found. Please contact support.")}else b(M,{replace:!0})}})()},[j,L,b,M]);const O=async v=>{v.preventDefault(),u(!0),A(null);try{await l(t,n)}catch(z){z.message.includes("Invalid login credentials")?A("Invalid email or password. Please try again."):z.message.includes("Email not confirmed")?A("Please check your email and confirm your account before logging in."):A(z.message)}finally{u(!1)}},k=async v=>{v.preventDefault(),u(!0),A(null);try{if(!I)throw new Error("2FA factor ID not found");const z=await S.auth.mfa.challenge({factorId:I});if(z.error)throw z.error;const q=await S.auth.mfa.verify({factorId:I,challengeId:z.data.id,code:x});if(q.error)throw q.error;b(M,{replace:!0})}catch(z){A(z.message)}finally{u(!1)}},y=async()=>{f(!0),A(null);try{await c("google")}catch{A("Failed to sign in with Google. Please try again."),f(!1)}},$={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",width:"100%",boxSizing:"border-box"},F={display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",width:"100%",padding:"0.75rem 1rem",background:"rgba(255, 255, 255, 0.05)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",color:"var(--text-primary)",fontSize:"0.95rem",fontWeight:"500",cursor:p?"not-allowed":"pointer",opacity:p?.7:1,transition:"all 0.2s"};return e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:L?e.jsx(be,{size:32,color:"var(--accent-primary)"}):e.jsx(St,{size:32,color:"var(--accent-primary)"})}),e.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:L?"Two-Factor Authentication":"Welcome Back"}),e.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:L?"Enter the code from your authenticator app":"Sign in to your account"})]}),_&&e.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[e.jsx(we,{size:16}),e.jsx("span",{children:_})]}),L?e.jsxs("form",{onSubmit:k,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Verification Code"}),e.jsx("input",{type:"text",value:x,onChange:v=>D(v.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"Enter 6-digit code",style:{...$,textAlign:"center",letterSpacing:"0.25rem",fontSize:"1.25rem"},required:!0,autoFocus:!0,maxLength:6})]}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:o||x.length!==6,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:o||x.length!==6?.7:1,cursor:o||x.length!==6?"not-allowed":"pointer"},children:[e.jsx("span",{children:o?"Verifying...":"Verify Code"}),!o&&e.jsx(be,{size:18})]}),e.jsx("button",{type:"button",onClick:()=>w(!1),style:{background:"transparent",border:"none",color:"var(--text-tertiary)",cursor:"pointer",fontSize:"0.875rem",textDecoration:"underline"},children:"Cancel and go back"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{marginBottom:"1.5rem"},children:e.jsxs("button",{onClick:y,disabled:p,style:F,onMouseEnter:v=>{p||(v.target.style.background="rgba(255, 255, 255, 0.1)")},onMouseLeave:v=>{v.target.style.background="rgba(255, 255, 255, 0.05)"},children:[e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p?"Connecting...":"Continue with Google"]})}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}}),e.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem",textTransform:"uppercase"},children:"or"}),e.jsx("div",{style:{flex:1,height:"1px",background:"var(--glass-border)"}})]}),e.jsxs("form",{onSubmit:O,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email"}),e.jsx("input",{type:"email",value:t,onChange:v=>s(v.target.value),placeholder:"Enter your email",style:$,required:!0,autoComplete:"email"})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Password"}),e.jsx(ne,{to:"/forgot-password",style:{fontSize:"0.75rem",color:"var(--accent-primary)",textDecoration:"none"},children:"Forgot password?"})]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:a?"text":"password",value:n,onChange:v=>i(v.target.value),placeholder:"Enter your password",style:{...$,paddingRight:"3rem"},required:!0,autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>d(!a),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-tertiary)"},tabIndex:-1,children:a?e.jsx(tn,{size:18}):e.jsx(dt,{size:18})})]})]}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:o,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:o?.7:1,cursor:o?"not-allowed":"pointer"},children:[e.jsx("span",{children:o?"Signing in...":"Sign In"}),!o&&e.jsx(St,{size:18})]})]})]}),e.jsx("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--glass-border)",textAlign:"center"},children:e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["Don't have an account?"," ",e.jsx(ne,{to:"/signup",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:"500"},children:"Create one"})]})})]})})},Ao=()=>{const[t,s]=r.useState(""),[n,i]=r.useState(""),[a,d]=r.useState(""),[o,u]=r.useState(""),[p,f]=r.useState(!1),[_,A]=r.useState(null),[L,w]=r.useState(!1),{signUp:x}=pe();Nt();const D=async g=>{if(g.preventDefault(),f(!0),A(null),a!==o){A("Passwords don't match"),f(!1);return}if(a.length<6){A("Password must be at least 6 characters"),f(!1);return}try{await x(n,a,t),w(!0)}catch(l){A(l.message)}finally{f(!1)}},I={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s",width:"100%",boxSizing:"border-box"};return L?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem",textAlign:"center"},children:[e.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"50%",marginBottom:"1.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ct,{size:40,color:"#10b981"})}),e.jsx("h2",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600"},children:"Check Your Email"}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",lineHeight:"1.6"},children:["We've sent a confirmation link to ",e.jsx("strong",{style:{color:"var(--text-primary)"},children:n}),". Please click the link to verify your account."]}),e.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem",marginBottom:"1.5rem"},children:"Didn't receive the email? Check your spam folder."}),e.jsx(ne,{to:"/login",className:"btn-primary",style:{display:"inline-block",textDecoration:"none"},children:"Go to Login"})]})}):e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Mt,{size:32,color:"var(--accent-primary)"})}),e.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:"Create Account"}),e.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Join Peptide Tracker today"})]}),_&&e.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[e.jsx(we,{size:16}),e.jsx("span",{children:_})]}),e.jsxs("form",{onSubmit:D,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Full Name"}),e.jsx("input",{type:"text",value:t,onChange:g=>s(g.target.value),placeholder:"Enter your full name",style:I,required:!0})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email"}),e.jsx("input",{type:"email",value:n,onChange:g=>i(g.target.value),placeholder:"Enter your email",style:I,required:!0})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Password"}),e.jsx("input",{type:"password",value:a,onChange:g=>d(g.target.value),placeholder:"Create a password (min. 6 characters)",style:I,required:!0,minLength:6})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Confirm Password"}),e.jsx("input",{type:"password",value:o,onChange:g=>u(g.target.value),placeholder:"Confirm your password",style:I,required:!0})]}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,style:{marginTop:"0.5rem",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:p?.7:1,cursor:p?"not-allowed":"pointer"},children:[e.jsx("span",{children:p?"Creating account...":"Create Account"}),!p&&e.jsx(Mt,{size:18})]})]}),e.jsx("div",{style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px solid var(--glass-border)",textAlign:"center"},children:e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:["Already have an account?"," ",e.jsx(ne,{to:"/login",style:{color:"var(--accent-primary)",textDecoration:"none",fontWeight:"500"},children:"Sign in"})]})}),e.jsxs("p",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem",textAlign:"center",marginTop:"1rem",lineHeight:"1.5"},children:["By creating an account, you agree to our"," ",e.jsx(ne,{to:"/terms",style:{color:"var(--text-secondary)"},children:"Terms of Service"})," ","and"," ",e.jsx(ne,{to:"/privacy",style:{color:"var(--text-secondary)"},children:"Privacy Policy"})]})]})})},Lo=()=>{const[t,s]=r.useState(""),[n,i]=r.useState(!1),[a,d]=r.useState(null),[o,u]=r.useState(!1),{resetPassword:p}=pe(),f=async A=>{A.preventDefault(),i(!0),d(null);try{await p(t),u(!0)}catch(L){d(L.message)}finally{i(!1)}},_={background:"rgba(15, 23, 42, 0.5)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"0.75rem 1rem",color:"var(--text-primary)",fontSize:"1rem",outline:"none",transition:"border-color 0.2s",width:"100%",boxSizing:"border-box"};return o?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem",textAlign:"center"},children:[e.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"1rem",borderRadius:"50%",marginBottom:"1.5rem",display:"inline-flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ue,{size:40,color:"#10b981"})}),e.jsx("h2",{style:{margin:"0 0 1rem 0",fontSize:"1.5rem",fontWeight:"600"},children:"Check Your Email"}),e.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"1.5rem",lineHeight:"1.6"},children:["We've sent password reset instructions to ",e.jsx("strong",{style:{color:"var(--text-primary)"},children:t})]}),e.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem",marginBottom:"1.5rem"},children:"Didn't receive the email? Check your spam folder or try again."}),e.jsxs(ne,{to:"/login",className:"btn-primary",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[e.jsx(nt,{size:18}),"Back to Login"]})]})}):e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},children:e.jsxs("div",{className:"card glass-panel",style:{width:"100%",maxWidth:"400px",padding:"2rem"},children:[e.jsxs(ne,{to:"/login",style:{display:"inline-flex",alignItems:"center",gap:"0.25rem",color:"var(--text-secondary)",textDecoration:"none",fontSize:"0.875rem",marginBottom:"1.5rem"},children:[e.jsx(nt,{size:16}),"Back to login"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"2rem"},children:[e.jsx("div",{style:{background:"var(--accent-glow)",padding:"1rem",borderRadius:"50%",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ct,{size:32,color:"var(--accent-primary)"})}),e.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"},children:"Reset Password"}),e.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem",textAlign:"center"},children:"Enter your email and we'll send you a link to reset your password"})]}),a&&e.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",color:"#ef4444",padding:"0.75rem",borderRadius:"var(--radius-md)",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[e.jsx(we,{size:16}),e.jsx("span",{children:a})]}),e.jsxs("form",{onSubmit:f,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx("label",{style:{fontSize:"0.875rem",fontWeight:"500",color:"var(--text-secondary)"},children:"Email Address"}),e.jsx("input",{type:"email",value:t,onChange:A=>s(A.target.value),placeholder:"Enter your email",style:_,required:!0,autoComplete:"email"})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:n,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"0.5rem",opacity:n?.7:1,cursor:n?"not-allowed":"pointer"},children:e.jsx("span",{children:n?"Sending...":"Send Reset Link"})})]})]})})};class Po{constructor(){this.scheduledNotifications=new Map}isSupported(){return"Notification"in window}async requestPermission(){return this.isSupported()?await Notification.requestPermission()==="granted":(console.log("This browser does not support desktop notification"),!1)}getPermission(){return this.isSupported()?Notification.permission:"unsupported"}sendNotification(s,n={}){if(Notification.permission==="granted"){const i=new Notification(s,{icon:"/pwa-192x192.png",badge:"/pwa-192x192.png",vibrate:[100,50,100],...n});return i.onclick=function(){window.focus(),i.close(),n.onClick&&n.onClick()},i}return null}scheduleNotification(s,n,i,a={}){this.cancelNotification(s);const d=new Date,u=new Date(n).getTime()-d.getTime();if(u<=0)return!1;const p=setTimeout(()=>{this.sendNotification(i,a),this.scheduledNotifications.delete(s)},u);return this.scheduledNotifications.set(s,p),!0}scheduleNotificationDelay(s,n,i){setTimeout(()=>{this.sendNotification(s,n)},i)}cancelNotification(s){return this.scheduledNotifications.has(s)?(clearTimeout(this.scheduledNotifications.get(s)),this.scheduledNotifications.delete(s),!0):!1}cancelAllNotifications(){this.scheduledNotifications.forEach(s=>{clearTimeout(s)}),this.scheduledNotifications.clear()}scheduleReminders(s,n=30){this.cancelAllNotifications();const i=new Date;let a=0;return s.forEach(d=>{if(d.completed)return;let o;if(d.scheduled_date&&d.scheduled_time)o=new Date(`${d.scheduled_date}T${d.scheduled_time}`);else if(d.date)o=new Date(d.date);else return;const u=new Date(o.getTime()-n*60*1e3);if(u>i){const p=d.peptide_name||d.peptide||"your peptide",f=d.dosage||"",_=d.unit||"mg";this.scheduleNotification(`reminder-${d.id}`,u,"⏰ Dose Reminder",{body:`Time to take ${p} (${f}${_}) in ${n} minutes`,tag:`dose-reminder-${d.id}`}),a++}if(o>i){const p=d.peptide_name||d.peptide||"your peptide",f=d.dosage||"",_=d.unit||"mg";this.scheduleNotification(`dose-${d.id}`,o,"💉 Time for your dose!",{body:`Take ${p} - ${f}${_}`,tag:`dose-${d.id}`,requireInteraction:!0}),a++}}),a}sendLowStockAlert(s,n,i="mg"){return this.sendNotification("⚠️ Low Stock Alert",{body:`${s} is running low (${n}${i} remaining)`,tag:`low-stock-${s}`,requireInteraction:!0})}}const ke=new Po,Vt={requestPermission:()=>ke.requestPermission(),sendNotification:(t,s)=>ke.sendNotification(t,s),scheduleNotification:(t,s,n)=>ke.scheduleNotificationDelay(t,s,n),scheduleReminders:(t,s)=>ke.scheduleReminders(t,s),cancelAllNotifications:()=>ke.cancelAllNotifications(),sendLowStockAlert:(t,s,n)=>ke.sendLowStockAlert(t,s,n),getPermission:()=>ke.getPermission(),isSupported:()=>ke.isSupported()},To={async requestPasswordReset(t){try{const{error:s}=await S.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});if(s)throw s;return{success:!0}}catch(s){return console.error("[Email Service] Password reset failed:",s),{success:!1,error:s.message}}},async sendMagicLink(t){try{const{error:s}=await S.auth.signInWithOtp({email:t,options:{emailRedirectTo:`${window.location.origin}/`}});if(s)throw s;return{success:!0}}catch(s){return console.error("[Email Service] Magic link failed:",s),{success:!1,error:s.message}}},async resendConfirmation(t){try{const{error:s}=await S.auth.resend({type:"signup",email:t,options:{emailRedirectTo:`${window.location.origin}/`}});if(s)throw s;return{success:!0}}catch(s){return console.error("[Email Service] Resend confirmation failed:",s),{success:!1,error:s.message}}},async sendCustomEmail(t,s,n={}){try{const{data:i,error:a}=await S.functions.invoke("send-email",{body:{type:t,email:s,data:n}});if(a)throw a;return{success:!0,data:i}}catch(i){return console.warn(`[Email Service] Custom email (${t}) failed:`,i.message),i.message?.includes("not found")||i.status===404?(console.log(`[Email Service] Edge Function not deployed. Email type: ${t}, To: ${s}`),{success:!0,simulated:!0}):{success:!1,error:i.message}}},async sendWelcomeEmail(t,s){return this.sendCustomEmail("welcome",t,{name:s})},async sendInjectionReminder(t,s,n){return this.sendCustomEmail("injection_reminder",t,{peptideName:s,scheduledTime:n})},async sendTicketUpdate(t,s,n){return this.sendCustomEmail("ticket_update",t,{ticketSubject:s,status:n})},async updateNotificationPreferences(t,s){try{const{error:n}=await S.from("profiles").update({email_notifications:s.email??!0,push_notifications:s.push??!0,reminder_time:s.reminderTime??null}).eq("id",t);if(n)throw n;return{success:!0}}catch(n){return console.error("[Email Service] Update preferences failed:",n),{success:!1,error:n.message}}},async getNotificationPreferences(t){try{const{data:s,error:n}=await S.from("profiles").select("email_notifications, push_notifications, reminder_time").eq("id",t).single();if(n)throw n;return{success:!0,preferences:{email:s.email_notifications??!0,push:s.push_notifications??!0,reminderTime:s.reminder_time}}}catch(s){return console.error("[Email Service] Get preferences failed:",s),{success:!1,error:s.message}}}},qt={toCSV:(t,s="injection_history")=>{if(!t||t.length===0)throw new Error("No data to export");const n=["Date","Time","Peptide","Dosage","Unit","Injection Site","Notes"],i=t.map(p=>{const f=new Date(p.injection_date||p.date);return[oe(f,"yyyy-MM-dd"),oe(f,"HH:mm"),p.peptide_name||p.peptide||"",p.dosage_value||p.dosage_mcg||p.dosage||"",p.dosage_unit||p.unit||"mcg",p.injection_site||p.site||"",(p.notes||"").replace(/"/g,'""')]}),a=[n.join(","),...i.map(p=>p.map(f=>`"${f}"`).join(","))].join(`
`),d=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(d),u=document.createElement("a");return u.href=o,u.download=`${s}_${oe(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(o),!0},toPDF:(t,s={})=>{if(!t||t.length===0)throw new Error("No data to export");const{filename:n="injection_history",title:i="Injection History Report"}=s,a=new Rs;a.setFontSize(20),a.setTextColor(59,130,246),a.text("Peptide Tracker",14,20),a.setFontSize(14),a.setTextColor(31,41,55),a.text(i,14,30),a.setFontSize(10),a.setTextColor(107,114,128),a.text(`Generated on ${oe(new Date,"MMMM d, yyyy")}`,14,38),a.text(`Total Records: ${t.length}`,14,44);const d=t.map(_=>{const A=new Date(_.injection_date||_.date);return[oe(A,"MMM d, yyyy"),oe(A,"h:mm a"),_.peptide_name||_.peptide||"",`${_.dosage_value||_.dosage_mcg||_.dosage||""} ${_.dosage_unit||_.unit||"mcg"}`,_.injection_site||_.site||"",(_.notes||"").substring(0,30)+(_.notes?.length>30?"...":"")]});a.autoTable({startY:52,head:[["Date","Time","Peptide","Dosage","Site","Notes"]],body:d,theme:"striped",headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[249,250,251]},styles:{fontSize:9,cellPadding:4},columnStyles:{0:{cellWidth:25},1:{cellWidth:20},2:{cellWidth:35},3:{cellWidth:25},4:{cellWidth:25},5:{cellWidth:"auto"}}});const o=a.lastAutoTable.finalY+15,u={};t.forEach(_=>{const A=_.peptide_name||_.peptide;u[A]=(u[A]||0)+1});const p=Object.entries(u).sort((_,A)=>A[1]-_[1]).slice(0,5);o<250&&(a.setFontSize(12),a.setTextColor(31,41,55),a.text("Summary by Peptide",14,o),a.autoTable({startY:o+5,head:[["Peptide","Count","Percentage"]],body:p.map(([_,A])=>[_,A,`${(A/t.length*100).toFixed(1)}%`]),theme:"plain",headStyles:{fillColor:[243,244,246],textColor:[55,65,81],fontStyle:"bold"},styles:{fontSize:9}}));const f=a.internal.getNumberOfPages();for(let _=1;_<=f;_++)a.setPage(_),a.setFontSize(8),a.setTextColor(156,163,175),a.text(`Page ${_} of ${f} | Peptide Tracker`,a.internal.pageSize.width/2,a.internal.pageSize.height-10,{align:"center"});return a.save(`${n}_${oe(new Date,"yyyy-MM-dd")}.pdf`),!0},schedulesToCSV:(t,s="schedule_export")=>{if(!t||t.length===0)throw new Error("No schedules to export");const n=["Date","Time","Peptide","Dosage","Unit","Completed","Notes"],i=t.map(p=>[p.scheduled_date||oe(new Date(p.date),"yyyy-MM-dd"),p.scheduled_time||p.time||"",p.peptide_name||p.peptide||"",p.dosage||"",p.unit||"mg",p.completed?"Yes":"No",(p.notes||"").replace(/"/g,'""')]),a=[n.join(","),...i.map(p=>p.map(f=>`"${f}"`).join(","))].join(`
`),d=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(d),u=document.createElement("a");return u.href=o,u.download=`${s}_${oe(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(o),!0}},lp=async t=>{try{let{data:s,error:n}=await S.from("reviews_with_profiles").select("*").eq("peptide_name",t).order("created_at",{ascending:!1});if(n&&n.code==="PGRST200"){const i=await S.from("reviews").select("*").eq("peptide_name",t).order("created_at",{ascending:!1});s=i.data,n=i.error}if(n)throw n;return(s||[]).map(i=>({...i,user_name:i.full_name||"Anonymous"}))}catch(s){return console.warn("Error fetching reviews:",s),[]}},Eo=async t=>{try{const{data:s,error:n}=await S.from("reviews").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.warn("Error fetching user reviews:",s),[]}},Ro=async t=>{try{const{error:s}=await S.from("reviews").delete().eq("id",t);if(s)throw s;return!0}catch(s){return console.warn("Error deleting review:",s),!1}},dp=async(t,s,n,i)=>{try{const{data:a,error:d}=await S.from("reviews").insert([{peptide_name:t,rating:s,comment:n,user_id:i}]).select();if(d)throw d;return a[0]}catch(a){throw console.warn("Error submitting review:",a),a}},Mo=()=>{const[t,s]=r.useState(!1),[n,i]=r.useState(!1),[a,d]=r.useState(""),[o,u]=r.useState(""),[p,f]=r.useState(null),[_,A]=r.useState(null),[L,w]=r.useState(!0);r.useEffect(()=>{x()},[]);const x=async()=>{try{w(!0);const{data:c,error:j}=await S.auth.mfa.listFactors();if(j)throw j;const b=c.all.find(N=>N.factor_type==="totp"&&N.status==="verified");b?(s(!0),f(b.id)):(s(!1),f(null))}catch(c){console.error("Error checking 2FA status:",c),A(c.message)}finally{w(!1)}};return{isEnabled:t,isEnrolling:n,isLoading:L,qrCodeUrl:a,secret:o,error:_,startEnrollment:async()=>{try{A(null);const{data:c,error:j}=await S.auth.mfa.enroll({factorType:"totp"});if(j)throw j;f(c.id),u(c.totp.secret);const b=await Ms.toDataURL(c.totp.uri);d(b),i(!0)}catch(c){console.error("Error starting enrollment:",c),A(c.message)}},verifyAndEnable:async c=>{try{A(null);const j=await S.auth.mfa.challenge({factorId:p});if(j.error)throw j.error;const b=await S.auth.mfa.verify({factorId:p,challengeId:j.data.id,code:c});if(b.error)throw b.error;return s(!0),i(!1),d(""),u(""),!0}catch(j){return console.error("Error verifying code:",j),A(j.message),!1}},disableTwoFactor:async()=>{try{if(A(null),p){const{error:c}=await S.auth.mfa.unenroll({factorId:p});if(c)throw c}else{const{data:c}=await S.auth.mfa.listFactors(),j=c.all.find(N=>N.factor_type==="totp");if(!j)throw new Error("No active 2FA found");const{error:b}=await S.auth.mfa.unenroll({factorId:j.id});if(b)throw b}return s(!1),f(null),!0}catch(c){return console.error("Error disabling 2FA:",c),A(c.message),!1}},cancelEnrollment:async()=>{p&&n&&await S.auth.mfa.unenroll({factorId:p}),i(!1),d(""),u(""),f(null)}}},zo="_overlay_kjoru_1",Bo="_modal_kjoru_13",Ho="_header_kjoru_23",Oo="_title_kjoru_31",$o="_closeButton_kjoru_41",Go="_content_kjoru_60",Fo="_previewContainer_kjoru_64",Vo="_progressCard_kjoru_69",qo="_cardHeader_kjoru_76",Uo="_cardLogo_kjoru_83",Wo="_cardDate_kjoru_89",Jo="_cardStats_kjoru_94",Yo="_cardStatItem_kjoru_101",Ko="_cardStatIcon_kjoru_108",Xo="_cardStatValue_kjoru_115",Qo="_cardStatLabel_kjoru_123",Zo="_cardFooter_kjoru_130",ec="_topPeptide_kjoru_138",tc="_watermark_kjoru_144",sc="_actions_kjoru_150",nc="_generateButton_kjoru_155",ic="_actionButton_kjoru_178",K={overlay:zo,modal:Bo,header:Ho,title:Oo,closeButton:$o,content:Go,previewContainer:Fo,progressCard:Vo,cardHeader:qo,cardLogo:Uo,cardDate:Wo,cardStats:Jo,cardStatItem:Yo,cardStatIcon:Ko,cardStatValue:Xo,cardStatLabel:Qo,cardFooter:Zo,topPeptide:ec,watermark:tc,actions:sc,generateButton:nc,actionButton:ic},ac=({onClose:t})=>{const{injections:s}=Ke(),[n,i]=r.useState(!1),[a,d]=r.useState(!1),[o,u]=r.useState(null),p=r.useRef(null),f=s.filter(l=>new Date(l.injection_date||l.date)>=Ae(new Date,30)),_={total:f.length,streak:A(s),topPeptide:L(f),compliance:w(f)};function A(l){if(l.length===0)return 0;let c=0,j=new Date;j.setHours(0,0,0,0);for(let b=0;b<365;b++){const N=oe(j,"yyyy-MM-dd");if(l.some(O=>oe(new Date(O.injection_date||O.date),"yyyy-MM-dd")===N))c++,j=Ae(j,1);else if(b===0)j=Ae(j,1);else break}return c}function L(l){const c={};l.forEach(b=>{const N=b.peptide_name||b.peptide;c[N]=(c[N]||0)+1});const j=Object.entries(c).sort((b,N)=>N[1]-b[1]);return j[0]?j[0][0]:"None"}function w(l){const c=new Set(l.map(j=>oe(new Date(j.injection_date||j.date),"yyyy-MM-dd")));return Math.min(100,Math.round(c.size/30*100))}const x=async()=>{if(p.current){i(!0);try{const c=(await zs(p.current,{backgroundColor:"#0a0e1a",scale:2,logging:!1,useCORS:!0})).toDataURL("image/png");u(c)}catch(l){console.error("Error generating image:",l)}finally{i(!1)}}},D=()=>{if(!o)return;const l=document.createElement("a");l.download=`peptide-progress-${oe(new Date,"yyyy-MM-dd")}.png`,l.href=o,l.click()},I=async()=>{if(o)try{const c=await(await fetch(o)).blob();await navigator.clipboard.write([new ClipboardItem({"image/png":c})]),d(!0),setTimeout(()=>d(!1),2e3)}catch(l){console.error("Error copying to clipboard:",l)}},g=async()=>{if(!(!o||!navigator.share))try{const c=await(await fetch(o)).blob(),j=new File([c],"peptide-progress.png",{type:"image/png"});await navigator.share({title:"My Peptide Progress",text:"Check out my peptide tracking progress!",files:[j]})}catch(l){console.error("Error sharing:",l)}};return e.jsx("div",{className:K.overlay,children:e.jsxs("div",{className:K.modal,children:[e.jsxs("div",{className:K.header,children:[e.jsxs("h2",{className:K.title,children:[e.jsx(it,{size:20}),"Share Progress"]}),e.jsx("button",{className:K.closeButton,onClick:t,children:e.jsx(lt,{size:20})})]}),e.jsxs("div",{className:K.content,children:[e.jsx("div",{className:K.previewContainer,children:e.jsxs("div",{ref:p,className:K.progressCard,children:[e.jsxs("div",{className:K.cardHeader,children:[e.jsx("div",{className:K.cardLogo,children:"💉 Peptide Tracker"}),e.jsx("div",{className:K.cardDate,children:oe(new Date,"MMMM yyyy")})]}),e.jsxs("div",{className:K.cardStats,children:[e.jsxs("div",{className:K.cardStatItem,children:[e.jsx("div",{className:K.cardStatIcon,children:e.jsx(It,{size:24})}),e.jsx("div",{className:K.cardStatValue,children:_.total}),e.jsx("div",{className:K.cardStatLabel,children:"Injections (30d)"})]}),e.jsxs("div",{className:K.cardStatItem,children:[e.jsx("div",{className:K.cardStatIcon,children:e.jsx(He,{size:24})}),e.jsx("div",{className:K.cardStatValue,children:_.streak}),e.jsx("div",{className:K.cardStatLabel,children:"Day Streak"})]}),e.jsxs("div",{className:K.cardStatItem,children:[e.jsx("div",{className:K.cardStatIcon,children:e.jsx(Ie,{size:24})}),e.jsxs("div",{className:K.cardStatValue,children:[_.compliance,"%"]}),e.jsx("div",{className:K.cardStatLabel,children:"Compliance"})]})]}),e.jsxs("div",{className:K.cardFooter,children:[e.jsxs("span",{className:K.topPeptide,children:["Top: ",_.topPeptide]}),e.jsx("span",{className:K.watermark,children:"peptidetracker.app"})]})]})}),e.jsx("div",{className:K.actions,children:o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:K.actionButton,onClick:D,children:[e.jsx(at,{size:18}),"Download"]}),e.jsxs("button",{className:K.actionButton,onClick:I,children:[a?e.jsx(Ue,{size:18}):e.jsx(as,{size:18}),a?"Copied!":"Copy"]}),navigator.share&&e.jsxs("button",{className:K.actionButton,onClick:g,children:[e.jsx(it,{size:18}),"Share"]})]}):e.jsx("button",{className:K.generateButton,onClick:x,disabled:n,children:n?"Generating...":"Generate Image"})})]})]})})},Ce={async exportUserData(t){try{const[s,n,i,a,d]=await Promise.all([S.from("profiles").select("*").eq("id",t).single(),S.from("injections").select("*").eq("user_id",t).order("date",{ascending:!1}),S.from("schedules").select("*").eq("user_id",t),S.from("inventory").select("*").eq("user_id",t),S.from("reviews").select("*").eq("user_id",t)]);return{success:!0,data:{exportDate:new Date().toISOString(),exportVersion:"1.0",user:{profile:s.data,statistics:{totalInjections:n.data?.length||0,totalSchedules:i.data?.length||0,totalInventoryItems:a.data?.length||0,totalReviews:d.data?.length||0}},data:{injections:n.data||[],schedules:i.data||[],inventory:a.data||[],reviews:d.data||[]}},filename:`peptide-tracker-export-${new Date().toISOString().split("T")[0]}.json`}}catch(s){return console.error("[Backup Service] Export failed:",s),{success:!1,error:s.message}}},async exportAsCSV(t){try{const[s,n,i]=await Promise.all([S.from("injections").select("*").eq("user_id",t).order("date",{ascending:!1}),S.from("schedules").select("*").eq("user_id",t),S.from("inventory").select("*").eq("user_id",t)]),a={};return s.data?.length&&(a.injections=this._arrayToCSV(s.data,["date","peptide_name","dose_amount","dose_unit","injection_site","notes"])),n.data?.length&&(a.schedules=this._arrayToCSV(n.data,["peptide_name","dose_amount","dose_unit","frequency","time","notes"])),i.data?.length&&(a.inventory=this._arrayToCSV(i.data,["peptide_name","quantity","vial_size","expiration_date","notes"])),{success:!0,files:a}}catch(s){return console.error("[Backup Service] CSV export failed:",s),{success:!1,error:s.message}}},_arrayToCSV(t,s){if(!t||!t.length)return"";const n=s.join(","),i=t.map(a=>s.map(d=>{const o=a[d];return o==null?"":typeof o=="string"&&(o.includes(",")||o.includes('"'))?`"${o.replace(/"/g,'""')}"`:o}).join(","));return[n,...i].join(`
`)},downloadJSON(t,s){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});this._triggerDownload(n,s)},downloadCSV(t,s){const n=new Blob([t],{type:"text/csv;charset=utf-8;"});this._triggerDownload(n,s)},_triggerDownload(t,s){const n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=s,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},async importUserData(t,s){try{const n=typeof s=="string"?JSON.parse(s):s;if(!n.exportVersion||!n.data)throw new Error("Invalid backup file format");const i={injections:0,schedules:0,errors:[]};if(n.data.injections?.length)for(const a of n.data.injections){const{error:d}=await S.from("injections").insert({user_id:t,peptide_name:a.peptide_name,date:a.date,dose_amount:a.dose_amount,dose_unit:a.dose_unit,injection_site:a.injection_site,notes:a.notes});d?i.errors.push(`Injection: ${d.message}`):i.injections++}if(n.data.schedules?.length)for(const a of n.data.schedules){const{error:d}=await S.from("schedules").insert({user_id:t,peptide_name:a.peptide_name,dose_amount:a.dose_amount,dose_unit:a.dose_unit,frequency:a.frequency,time:a.time,notes:a.notes});d?i.errors.push(`Schedule: ${d.message}`):i.schedules++}return{success:!0,imported:i,message:`Imported ${i.injections} injections and ${i.schedules} schedules`}}catch(n){return console.error("[Backup Service] Import failed:",n),{success:!1,error:n.message}}},async deleteAllUserData(t){try{return await Promise.all([S.from("reviews").delete().eq("user_id",t),S.from("injections").delete().eq("user_id",t),S.from("schedules").delete().eq("user_id",t),S.from("inventory").delete().eq("user_id",t),S.from("ticket_messages").delete().match({user_id:t}),S.from("support_tickets").delete().eq("user_id",t)]),{success:!0,message:"All user data has been deleted"}}catch(s){return console.error("[Backup Service] Delete failed:",s),{success:!1,error:s.message}}},getBackupInfo(){return{provider:"Supabase",features:["Automatic daily database backups","Encrypted at rest and in transit","Point-in-time recovery available","Geo-redundant storage"],userExportFormats:["JSON","CSV"],gdprCompliant:!0,documentation:"https://supabase.com/docs/guides/platform/backups"}}},rc="_container_if0li_1",oc="_infoCard_if0li_8",cc="_infoHeader_if0li_15",lc="_featureList_if0li_34",dc="_message_if0li_57",uc="_success_if0li_66",mc="_error_if0li_72",hc="_section_if0li_79",pc="_exportButtons_if0li_102",gc="_exportBtn_if0li_108",fc="_importLabel_if0li_132",yc="_dangerZone_if0li_155",xc="_deleteBtn_if0li_177",vc="_deleteConfirm_if0li_192",jc="_confirmButtons_if0li_213",_c="_cancelBtn_if0li_218",bc="_confirmDeleteBtn_if0li_227",wc="_spin_if0li_242",ie={container:rc,infoCard:oc,infoHeader:cc,featureList:lc,message:dc,success:uc,error:mc,section:hc,exportButtons:pc,exportBtn:gc,importLabel:fc,dangerZone:yc,deleteBtn:xc,deleteConfirm:vc,confirmButtons:jc,cancelBtn:_c,confirmDeleteBtn:bc,spin:wc},Sc=()=>{const{user:t}=pe(),[s,n]=r.useState(!1),[i,a]=r.useState(null),[d,o]=r.useState(!1),[u,p]=r.useState(""),f=async()=>{if(t){n(!0),a(null);try{const x=await Ce.exportUserData(t.id);if(x.success)Ce.downloadJSON(x.data,x.filename),a({type:"success",text:"Data exported successfully!"});else throw new Error(x.error)}catch(x){a({type:"error",text:"Export failed: "+x.message})}finally{n(!1)}}},_=async()=>{if(t){n(!0),a(null);try{const x=await Ce.exportAsCSV(t.id);if(x.success)Object.entries(x.files).forEach(([D,I])=>{I&&Ce.downloadCSV(I,`peptide-tracker-${D}.csv`)}),a({type:"success",text:"CSV files exported successfully!"});else throw new Error(x.error)}catch(x){a({type:"error",text:"Export failed: "+x.message})}finally{n(!1)}}},A=async x=>{const D=x.target.files?.[0];if(!(!D||!t)){n(!0),a(null);try{const I=await D.text(),g=await Ce.importUserData(t.id,I);if(g.success)a({type:"success",text:g.message});else throw new Error(g.error)}catch(I){a({type:"error",text:"Import failed: "+I.message})}finally{n(!1),x.target.value=""}}},L=async()=>{if(!(!t||u!=="DELETE")){n(!0),a(null);try{const x=await Ce.deleteAllUserData(t.id);if(x.success)a({type:"success",text:x.message}),o(!1),p("");else throw new Error(x.error)}catch(x){a({type:"error",text:"Delete failed: "+x.message})}finally{n(!1)}}},w=Ce.getBackupInfo();return e.jsxs("div",{className:ie.container,children:[e.jsxs("div",{className:ie.infoCard,children:[e.jsxs("div",{className:ie.infoHeader,children:[e.jsx(be,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"Your Data is Secure"}),e.jsxs("p",{children:["Backed by ",w.provider,"'s enterprise-grade infrastructure"]})]})]}),e.jsx("ul",{className:ie.featureList,children:w.features.map((x,D)=>e.jsxs("li",{children:[e.jsx(ue,{size:16}),x]},D))})]}),i&&e.jsxs("div",{className:`${ie.message} ${ie[i.type]}`,children:[i.type==="success"?e.jsx(ue,{size:18}):e.jsx(Ye,{size:18}),i.text]}),e.jsxs("div",{className:ie.section,children:[e.jsxs("h3",{children:[e.jsx(at,{size:20})," Export Your Data"]}),e.jsx("p",{children:"Download a complete copy of all your data."}),e.jsxs("div",{className:ie.exportButtons,children:[e.jsxs("button",{onClick:f,disabled:s,className:ie.exportBtn,children:[s?e.jsx(Be,{size:18,className:ie.spin}):e.jsx(sn,{size:18}),"Export as JSON"]}),e.jsxs("button",{onClick:_,disabled:s,className:ie.exportBtn,children:[s?e.jsx(Be,{size:18,className:ie.spin}):e.jsx(ut,{size:18}),"Export as CSV"]})]})]}),e.jsxs("div",{className:ie.section,children:[e.jsxs("h3",{children:[e.jsx(zt,{size:20})," Import Data"]}),e.jsx("p",{children:"Restore from a previous JSON backup file."}),e.jsxs("label",{className:ie.importLabel,children:[e.jsx("input",{type:"file",accept:".json",onChange:A,disabled:s}),e.jsx(zt,{size:18}),"Choose JSON File"]})]}),e.jsxs("div",{className:ie.dangerZone,children:[e.jsxs("h3",{children:[e.jsx(Te,{size:20})," Danger Zone"]}),e.jsx("p",{children:"Permanently delete all your tracking data. This cannot be undone."}),d?e.jsxs("div",{className:ie.deleteConfirm,children:[e.jsxs("p",{children:["Type ",e.jsx("strong",{children:"DELETE"})," to confirm:"]}),e.jsx("input",{type:"text",value:u,onChange:x=>p(x.target.value),placeholder:"Type DELETE"}),e.jsxs("div",{className:ie.confirmButtons,children:[e.jsx("button",{onClick:()=>{o(!1),p("")},className:ie.cancelBtn,children:"Cancel"}),e.jsx("button",{onClick:L,disabled:u!=="DELETE"||s,className:ie.confirmDeleteBtn,children:s?e.jsx(Be,{size:18,className:ie.spin}):"Permanently Delete"})]})]}):e.jsx("button",{onClick:()=>o(!0),className:ie.deleteBtn,children:"Delete All My Data"})]})]})},kc="_container_p86kk_1",Nc="_header_p86kk_8",Ic="_subtitle_p86kk_22",Cc="_layout_p86kk_28",Dc="_sidebar_p86kk_34",Ac="_tabBtn_p86kk_40",Lc="_active_p86kk_62",Pc="_content_p86kk_69",Tc="_section_p86kk_76",Ec="_formGroup_p86kk_90",Rc="_hint_p86kk_107",Mc="_inputWithIcon_p86kk_114",zc="_disabledInput_p86kk_136",Bc="_infoCard_p86kk_142",Hc="_statusActive_p86kk_172",Oc="_statusInactive_p86kk_178",$c="_secondaryBtn_p86kk_184",Gc="_dangerBtn_p86kk_205",Fc="_divider_p86kk_223",Vc="_sessionCard_p86kk_229",qc="_timestamp_p86kk_247",Uc="_toggleGroup_p86kk_253",Wc="_toggleItem_p86kk_259",Jc="_toggle_p86kk_253",Yc="_slider_p86kk_301",Kc="_description_p86kk_335",Xc="_linkGroup_p86kk_341",Qc="_link_p86kk_341",Zc="_dangerZone_p86kk_360",el="_dangerCard_p86kk_364",C={container:kc,header:Nc,subtitle:Ic,layout:Cc,sidebar:Dc,tabBtn:Ac,active:Lc,content:Pc,section:Tc,formGroup:Ec,hint:Rc,inputWithIcon:Mc,disabledInput:zc,infoCard:Bc,statusActive:Hc,statusInactive:Oc,secondaryBtn:$c,dangerBtn:Gc,divider:Fc,sessionCard:Vc,timestamp:qc,toggleGroup:Uc,toggleItem:Wc,toggle:Jc,slider:Yc,description:Kc,linkGroup:Xc,link:Qc,dangerZone:Zc,dangerCard:el},tl=()=>{const{user:t,signOut:s}=pe(),{theme:n,toggleTheme:i,setThemeMode:a}=gs(),{t:d,i18n:o}=Bs(),{injections:u}=Ke(),{isEnabled:p,isEnrolling:f,isLoading:_,qrCodeUrl:A,secret:L,startEnrollment:w,verifyAndEnable:x,disableTwoFactor:D,cancelEnrollment:I,error:g}=Mo(),[l,c]=r.useState(""),[j,b]=r.useState(!0),[N,M]=r.useState(!1),[O,k]=r.useState(null),[y,$]=r.useState("profile"),[F,v]=r.useState({full_name:"",email:"",age:"",gender:"prefer-not-to-say",weight_goal:"weight-loss"}),[z,q]=r.useState(n==="dark"),[Y,ve]=r.useState(!1),[B,ee]=r.useState(!1),[fe,je]=r.useState({injectionReminders:!0,expirationAlerts:!0,weeklyReports:!0,priceAlerts:!1}),[ae,ye]=r.useState([]),[ht,Re]=r.useState(!1);r.useEffect(()=>{t&&(gt(),Xe())},[t]);const Xe=async()=>{if(t){Re(!0);try{const R=await Eo(t.id);ye(R)}catch(R){console.error("Error fetching reviews:",R)}finally{Re(!1)}}},pt=async R=>{if(!confirm("Are you sure you want to delete this review?"))return;await Ro(R)&&ye(ae.filter(Fe=>Fe.id!==R))},gt=async()=>{try{b(!0);const{data:R,error:re}=await S.from("profiles").select("*").eq("id",t.id).single();if(re&&re.code!=="PGRST116")throw re;v(R?{full_name:R.full_name||"",email:t.email,age:R.age||"",gender:R.gender||"prefer-not-to-say",weight_goal:R.weight_goal||"weight-loss"}:Fe=>({...Fe,email:t.email}))}catch(R){console.error("Error fetching profile:",R)}finally{b(!1)}},ft=async()=>{try{M(!0),k(null);const R={id:t.id,full_name:F.full_name,updated_at:new Date().toISOString()},{error:re}=await S.from("profiles").upsert(R);if(re)throw re;k({type:"success",text:"Settings saved successfully"})}catch(R){console.error("Error updating profile:",R),k({type:"error",text:"Failed to save settings"})}finally{M(!1)}},yt=[{id:"profile",label:"Profile",icon:rt},{id:"activity",label:"Activity",icon:xe},{id:"security",label:"Security",icon:ot},{id:"notifications",label:"Notifications",icon:rs},{id:"data",label:"Data & Backup",icon:Ee},{id:"privacy",label:"Privacy",icon:be}];return j?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:e.jsx(Be,{className:"animate-spin",size:32})}):e.jsxs("div",{className:C.container,children:[e.jsxs("div",{className:C.header,children:[e.jsx("h1",{children:"Settings"}),e.jsx("p",{className:C.subtitle,children:"Manage your account and preferences"})]}),e.jsxs("div",{className:C.layout,children:[e.jsx("div",{className:C.sidebar,children:yt.map(R=>{const re=R.icon;return e.jsxs("button",{className:`${C.tabBtn} ${y===R.id?C.active:""}`,onClick:()=>$(R.id),children:[e.jsx(re,{size:20}),e.jsx("span",{children:R.label})]},R.id)})}),e.jsxs("div",{className:C.content,children:[y==="profile"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Profile Information"}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{type:"text",placeholder:"John Doe",value:F.full_name,onChange:R=>v({...F,full_name:R.target.value})})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Email Address"}),e.jsxs("div",{className:C.inputWithIcon,children:[e.jsx(Ct,{size:18}),e.jsx("input",{type:"email",value:F.email,disabled:!0,className:C.disabledInput,style:{paddingLeft:"48px"}})]})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Age (Optional)"}),e.jsx("input",{type:"number",placeholder:"30",value:F.age,onChange:R=>v({...F,age:R.target.value})}),e.jsx("span",{className:C.hint,children:"Used for personalized recommendations"})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Gender (Optional)"}),e.jsxs("select",{value:F.gender,onChange:R=>v({...F,gender:R.target.value}),children:[e.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Weight Goal"}),e.jsxs("select",{value:F.weight_goal,onChange:R=>v({...F,weight_goal:R.target.value}),children:[e.jsx("option",{value:"weight-loss",children:"Weight Loss"}),e.jsx("option",{value:"muscle-gain",children:"Muscle Gain"}),e.jsx("option",{value:"recovery",children:"Recovery & Healing"}),e.jsx("option",{value:"anti-aging",children:"Anti-Aging"}),e.jsx("option",{value:"performance",children:"Performance Enhancement"}),e.jsx("option",{value:"other",children:"Other"})]})]}),O&&e.jsx("div",{className:`alert ${O.type==="error"?"alert-error":"alert-success"}`,style:{marginBottom:"1rem",padding:"10px",borderRadius:"8px",background:O.type==="error"?"rgba(255,0,0,0.1)":"rgba(0,255,0,0.1)",color:O.type==="error"?"#ff4d4d":"#4dff4d"},children:O.text}),e.jsx("button",{className:"btn-primary",onClick:ft,disabled:N,children:N?"Saving...":"Save Changes"})]}),y==="activity"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Your Activity"}),e.jsx("p",{className:C.subtitle,style:{marginBottom:"1.5rem"},children:"View your reviews, ratings, and contributions"}),e.jsxs("div",{style:{marginBottom:"2rem"},children:[e.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx(Bt,{size:20,color:"var(--accent-primary)"}),"Your Reviews (",ae.length,")"]}),ht?e.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[e.jsx(Be,{className:"animate-spin",size:24}),e.jsx("p",{style:{color:"var(--text-secondary)",marginTop:"0.5rem"},children:"Loading reviews..."})]}):ae.length===0?e.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(15, 23, 42, 0.3)",borderRadius:"12px",border:"1px solid var(--glass-border)"},children:[e.jsx(Bt,{size:32,color:"var(--text-tertiary)",style:{marginBottom:"0.5rem"}}),e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"0.5rem"},children:"No reviews yet"}),e.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.875rem"},children:"Share your experience with peptides by leaving reviews on their detail pages."}),e.jsx(ne,{to:"/encyclopedia",className:"btn-primary",style:{marginTop:"1rem",display:"inline-block"},children:"Browse Peptides"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:ae.map(R=>e.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs("div",{children:[e.jsxs(ne,{to:`/encyclopedia/${encodeURIComponent(R.peptide_name)}`,style:{fontSize:"1.1rem",fontWeight:"600",color:"var(--accent-primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.peptide_name,e.jsx(os,{size:14})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"0.25rem"},children:[e.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(re=>e.jsx(nn,{size:14,fill:re<=R.rating?"#fbbf24":"none",color:re<=R.rating?"#fbbf24":"#4b5563"},re))}),e.jsx("span",{style:{color:"var(--text-tertiary)",fontSize:"0.75rem"},children:new Date(R.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})]}),e.jsx("button",{onClick:()=>pt(R.id),style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.2)",borderRadius:"6px",padding:"0.5rem",cursor:"pointer",color:"#ef4444",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete review",children:e.jsx(Te,{size:16})})]}),R.comment&&e.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.5",margin:0},children:['"',R.comment,'"']})]},R.id))})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{style:{marginBottom:"1rem"},children:"Activity Summary"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[e.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--accent-primary)"},children:ae.length}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Reviews Written"})]}),e.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#fbbf24"},children:ae.length>0?(ae.reduce((R,re)=>R+re.rating,0)/ae.length).toFixed(1):"—"}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Avg Rating Given"})]}),e.jsxs("div",{className:"card glass-panel",style:{padding:"1.25rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--success)"},children:new Set(ae.map(R=>R.peptide_name)).size}),e.jsx("div",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Peptides Reviewed"})]})]})]}),y==="security"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Security Settings"}),e.jsxs("div",{className:`card ${C.infoCard}`,children:[e.jsx(ot,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"Password"}),e.jsx("p",{children:"Last changed 30 days ago"})]}),e.jsx("button",{className:C.secondaryBtn,children:"Change Password"})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Current Password"}),e.jsx("input",{type:"password",placeholder:"Enter current password"})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"New Password"}),e.jsx("input",{type:"password",placeholder:"Enter new password"})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Confirm New Password"}),e.jsx("input",{type:"password",placeholder:"Confirm new password"})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{children:"Two-Factor Authentication"}),e.jsxs("div",{className:`card ${C.infoCard}`,children:[e.jsx(be,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"2FA Status"}),_?e.jsx("p",{className:C.statusInactive,children:"Loading..."}):p?e.jsx("p",{className:C.statusActive,children:"Enabled"}):e.jsx("p",{className:C.statusInactive,children:"Not Enabled"})]}),!p&&!f&&!_&&e.jsx("button",{className:C.secondaryBtn,onClick:w,children:"Enable 2FA"}),p&&e.jsx("button",{className:C.dangerBtn,onClick:D,children:"Disable 2FA"})]}),g&&e.jsx("div",{className:"alert alert-error",style:{marginBottom:"1rem",padding:"10px",borderRadius:"8px",background:"rgba(255,0,0,0.1)",color:"#ff4d4d"},children:g}),f&&e.jsxs("div",{className:"card glass-panel",style:{padding:"1.5rem",marginBottom:"1.5rem"},children:[e.jsx("h4",{style:{marginTop:0,color:"var(--text-primary)"},children:"Setup 2FA"}),e.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"1rem"},children:"Scan this QR code with your authenticator app (like Google Authenticator or Authy)."}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem"},children:[A&&e.jsx("div",{style:{background:"white",padding:"10px",borderRadius:"8px",marginBottom:"1rem"},children:e.jsx("img",{src:A,alt:"2FA QR Code",width:"180",height:"180"})}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-tertiary)",marginBottom:"0.25rem"},children:"Manual Entry Code:"}),e.jsx("code",{style:{display:"block",background:"var(--bg-input)",padding:"0.5rem 1rem",borderRadius:"4px",fontFamily:"monospace",letterSpacing:"1px",color:"var(--accent-primary)",border:"1px solid var(--glass-border)"},children:L})]})]}),e.jsxs("div",{className:C.formGroup,children:[e.jsx("label",{children:"Verification Code"}),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsx("input",{type:"text",placeholder:"Enter 6-digit code",value:l,onChange:R=>c(R.target.value.replace(/\D/g,"").slice(0,6)),style:{flex:1}}),e.jsx("button",{className:"btn-primary",onClick:()=>x(l),disabled:l.length!==6,children:"Verify"})]})]}),e.jsx("button",{className:C.secondaryBtn,onClick:()=>{I(),c("")},style:{width:"100%",marginTop:"0.5rem",justifyContent:"center"},children:"Cancel Setup"})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{children:"Active Sessions"}),e.jsx("div",{className:`card ${C.sessionCard}`,children:e.jsxs("div",{children:[e.jsx("h4",{children:"Current Device"}),e.jsx("p",{children:"MacBook Pro • Chrome • San Francisco, CA"}),e.jsx("span",{className:C.timestamp,children:"Active now"})]})}),e.jsx("button",{className:C.dangerBtn,onClick:s,children:"Sign Out All Devices"})]}),y==="notifications"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Notification Preferences"}),e.jsxs("div",{className:C.toggleGroup,children:[e.jsxs("div",{className:C.settingItem,children:[e.jsxs("div",{className:C.settingInfo,children:[e.jsx("span",{className:C.settingLabel,children:"Injection Reminders"}),e.jsx("span",{className:C.settingDescription,children:"Get notified when it's time for your next dose"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",checked:fe.email_reminders,onChange:async R=>{R.target.checked?await Vt.requestPermission()?(je({...fe,email_reminders:!0}),Vt.sendNotification("Reminders Enabled",{body:"You will now receive injection reminders."})):alert("Please enable notifications in your browser settings."):je({...fe,email_reminders:!1})}}),e.jsx("span",{className:C.slider})]})]}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Expiration Alerts"}),e.jsx("p",{children:"Warnings when reconstituted peptides are expiring"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",checked:fe.expirationAlerts,onChange:R=>je({...fe,expirationAlerts:R.target.checked})}),e.jsx("span",{className:C.slider})]})]}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Weekly Reports"}),e.jsx("p",{children:"Summary of your progress and insights"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",checked:fe.weeklyReports,onChange:R=>je({...fe,weeklyReports:R.target.checked})}),e.jsx("span",{className:C.slider})]})]}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Price Alerts"}),e.jsx("p",{children:"Notify when peptide prices drop significantly"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",checked:fe.priceAlerts,onChange:R=>je({...fe,priceAlerts:R.target.checked})}),e.jsx("span",{className:C.slider})]})]})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{children:"Appearance"}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsxs("h3",{children:[n==="dark"?e.jsx(an,{size:18}):e.jsx(rn,{size:18})," Theme"]}),e.jsx("p",{children:"Switch between dark and light mode"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",checked:n==="dark",onChange:()=>i()}),e.jsx("span",{className:C.slider})]})]}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsxs("h3",{children:[e.jsx(on,{size:18})," Language"]}),e.jsx("p",{children:"Select your preferred language"})]}),e.jsxs("select",{value:o.language,onChange:R=>{o.changeLanguage(R.target.value),localStorage.setItem("peptide_language",R.target.value)},style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px",padding:"8px 12px",color:"var(--text-primary)",cursor:"pointer"},children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Español"})]})]}),e.jsx("div",{className:C.divider}),e.jsxs("h3",{children:[e.jsx(it,{size:18})," Share Progress"]}),e.jsx("p",{className:C.description,children:"Generate a shareable image of your progress stats"}),e.jsxs("button",{className:C.secondaryBtn,onClick:()=>ve(!0),children:[e.jsx(it,{size:18}),"Create Share Image"]}),e.jsx("div",{style:{marginTop:"1.5rem"},children:e.jsx("button",{className:C.secondaryBtn,style:{fontSize:"0.8rem",padding:"0.5rem 1rem"},onClick:async()=>{confirm("Send a test reminder email to "+t.email+"?")&&(await To.sendTestReminder(t.email),alert("Test email sent! (Check console for simulation)"))},children:"Send Test Email"})}),e.jsx("button",{className:"btn-primary",style:{marginTop:"1.5rem"},children:"Save Preferences"})]}),y==="data"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Data & Backup"}),e.jsx("p",{className:C.subtitle,style:{marginBottom:"1.5rem"},children:"Export, import, and manage your personal data"}),e.jsx(Sc,{})]}),y==="privacy"&&e.jsxs("div",{className:C.section,children:[e.jsx("h2",{children:"Privacy & Data Management"}),e.jsxs("div",{className:`card ${C.infoCard}`,children:[e.jsx(be,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"Data Encryption"}),e.jsx("p",{children:"All your data is encrypted end-to-end"})]}),e.jsx("span",{className:C.statusActive,children:"Active"})]}),e.jsx("div",{className:C.divider}),e.jsxs("h3",{children:[e.jsx(at,{size:18})," Export Your Data"]}),e.jsx("p",{className:C.description,children:"Download your injection history and data. Choose your preferred format."}),e.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[e.jsxs("button",{className:C.secondaryBtn,disabled:B||u.length===0,onClick:async()=>{ee(!0);try{qt.toCSV(u),k({type:"success",text:"CSV exported successfully!"})}catch(R){k({type:"error",text:R.message})}finally{ee(!1)}},children:[e.jsx(ut,{size:18}),"Export as CSV"]}),e.jsxs("button",{className:C.secondaryBtn,disabled:B||u.length===0,onClick:async()=>{ee(!0);try{qt.toPDF(u,{title:"Injection History Report"}),k({type:"success",text:"PDF exported successfully!"})}catch(R){k({type:"error",text:R.message})}finally{ee(!1)}},children:[e.jsx(at,{size:18}),"Export as PDF"]})]}),u.length===0&&e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.875rem",marginTop:"8px"},children:"No injection data to export yet."}),e.jsx("div",{className:C.divider}),e.jsx("h3",{children:"Privacy Settings"}),e.jsxs("div",{className:C.toggleGroup,children:[e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Anonymous Analytics"}),e.jsx("p",{children:"Help us improve by sharing anonymized usage data"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("span",{className:C.slider})]})]}),e.jsxs("div",{className:C.toggleItem,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Marketing Emails"}),e.jsx("p",{children:"Receive updates about new features and tips"})]}),e.jsxs("label",{className:C.toggle,children:[e.jsx("input",{type:"checkbox"}),e.jsx("span",{className:C.slider})]})]})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{children:"Legal Documents"}),e.jsxs("div",{className:C.linkGroup,children:[e.jsx("a",{href:"/terms",className:C.link,children:"Terms of Service"}),e.jsx("a",{href:"/privacy",className:C.link,children:"Privacy Policy"}),e.jsx("a",{href:"/disclaimer",className:C.link,children:"Medical Disclaimer"})]}),e.jsx("div",{className:C.divider}),e.jsx("h3",{className:C.dangerZone,children:"Danger Zone"}),e.jsxs("div",{className:`card ${C.dangerCard}`,children:[e.jsx(Te,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{children:"Delete Account"}),e.jsx("p",{children:"Permanently delete your account and all associated data. This action cannot be undone."})]}),e.jsx("button",{className:C.dangerBtn,children:"Delete Account"})]})]})]})]}),Y&&e.jsx(ac,{onClose:()=>ve(!1)})]})},sl="_container_o3gd5_1",nl="_header_o3gd5_8",il="_lastUpdated_o3gd5_28",al="_content_o3gd5_33",rl="_warning_o3gd5_79",ol="_highlight_o3gd5_97",cl="_acknowledgment_o3gd5_111",he={container:sl,header:nl,lastUpdated:il,content:al,warning:rl,highlight:ol,acknowledgment:cl},ll=()=>e.jsxs("div",{className:he.container,children:[e.jsxs("div",{className:he.header,children:[e.jsx(ut,{size:32}),e.jsx("h1",{children:"Terms of Service"}),e.jsx("p",{className:he.lastUpdated,children:"Last Updated: November 24, 2025"})]}),e.jsxs("div",{className:`card ${he.content}`,children:[e.jsxs("section",{children:[e.jsx("h2",{children:"1. Acceptance of Terms"}),e.jsx("p",{children:'By accessing and using Peptide Tracker ("the Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to these terms, please do not use the Service.'})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"2. Description of Service"}),e.jsx("p",{children:"Peptide Tracker is a personal tracking and informational tool designed to help users:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Track peptide injections and dosages"}),e.jsx("li",{children:"Calculate reconstitution measurements"}),e.jsx("li",{children:"Monitor peptide half-life decay"}),e.jsx("li",{children:"Compare vendor pricing"}),e.jsx("li",{children:"Schedule and plan peptide protocols"})]}),e.jsx("p",{children:e.jsx("strong",{children:"The Service is NOT a medical device, healthcare provider, or medical advice platform."})})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"3. Medical Disclaimer"}),e.jsxs("div",{className:he.warning,children:[e.jsx("p",{children:e.jsx("strong",{children:"IMPORTANT: READ CAREFULLY"})}),e.jsxs("ul",{children:[e.jsx("li",{children:"This Service is for informational and tracking purposes only"}),e.jsx("li",{children:"It does NOT provide medical advice, diagnosis, or treatment"}),e.jsx("li",{children:"Always consult with a qualified healthcare provider before starting any peptide protocol"}),e.jsx("li",{children:"Never disregard professional medical advice or delay seeking it because of information from this Service"}),e.jsx("li",{children:"The Service is not a substitute for professional medical care"}),e.jsx("li",{children:"In case of medical emergency, call 911 or your local emergency services immediately"})]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"4. User Responsibilities"}),e.jsx("p",{children:"You agree to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Provide accurate information when using the Service"}),e.jsx("li",{children:"Use the Service only for lawful purposes"}),e.jsx("li",{children:"Not share your account credentials with others"}),e.jsx("li",{children:"Maintain the security of your account"}),e.jsx("li",{children:"Comply with all applicable laws and regulations"}),e.jsx("li",{children:"Use peptides only under proper medical supervision"}),e.jsx("li",{children:"Verify all calculations and information independently"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"5. Prohibited Uses"}),e.jsx("p",{children:"You may NOT use the Service to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Violate any laws or regulations"}),e.jsx("li",{children:"Distribute controlled substances illegally"}),e.jsx("li",{children:"Provide medical advice to others"}),e.jsx("li",{children:"Impersonate any person or entity"}),e.jsx("li",{children:"Transmit viruses or malicious code"}),e.jsx("li",{children:"Attempt to gain unauthorized access to the Service"}),e.jsx("li",{children:"Scrape or harvest data from the Service"}),e.jsx("li",{children:"Use the Service for commercial purposes without authorization"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"6. Accuracy of Information"}),e.jsx("p",{children:"While we strive to provide accurate information, we make no warranties or guarantees about:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"The accuracy of calculations"}),e.jsx("li",{children:"The completeness of peptide information"}),e.jsx("li",{children:"The reliability of vendor pricing data"}),e.jsx("li",{children:"The effectiveness of suggested protocols"})]}),e.jsx("p",{children:e.jsx("strong",{children:"Always verify all information with qualified healthcare professionals and trusted sources."})})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"7. Limitation of Liability"}),e.jsx("p",{children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, PEPTIDE TRACKER AND ITS OPERATORS SHALL NOT BE LIABLE FOR:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Any health issues or adverse reactions from peptide use"}),e.jsx("li",{children:"Errors or inaccuracies in calculations or information"}),e.jsx("li",{children:"Loss of data or service interruptions"}),e.jsx("li",{children:"Any indirect, incidental, or consequential damages"}),e.jsx("li",{children:"Decisions made based on information from the Service"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"8. Data and Privacy"}),e.jsx("p",{children:"Your use of the Service is also governed by our Privacy Policy. By using the Service, you consent to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Collection and storage of your health tracking data"}),e.jsx("li",{children:"Use of cookies and similar technologies"}),e.jsx("li",{children:"Data processing as described in our Privacy Policy"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"9. Intellectual Property"}),e.jsx("p",{children:"All content, features, and functionality of the Service are owned by Peptide Tracker and are protected by copyright, trademark, and other intellectual property laws."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"10. Third-Party Links and Services"}),e.jsx("p",{children:"The Service may contain links to third-party websites or services (such as peptide vendors). We are not responsible for:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"The content or practices of third-party sites"}),e.jsx("li",{children:"Product quality from vendors"}),e.jsx("li",{children:"Transactions with third parties"}),e.jsx("li",{children:"Accuracy of third-party pricing information"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"11. Account Termination"}),e.jsx("p",{children:"We reserve the right to suspend or terminate your account at any time for:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Violation of these Terms"}),e.jsx("li",{children:"Fraudulent or illegal activity"}),e.jsx("li",{children:"Abuse of the Service"}),e.jsx("li",{children:"Any reason at our sole discretion"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"12. Changes to Terms"}),e.jsx("p",{children:"We may modify these Terms at any time. Continued use of the Service after changes constitutes acceptance of the new Terms. We will notify users of significant changes via email or in-app notification."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"13. Governing Law"}),e.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of [Your Jurisdiction], without regard to its conflict of law provisions."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"14. Contact Information"}),e.jsx("p",{children:"For questions about these Terms, please contact us at:"}),e.jsxs("p",{children:["Email: legal@peptidetracker.com",e.jsx("br",{}),"Address: [Your Business Address]"]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"15. Severability"}),e.jsx("p",{children:"If any provision of these Terms is found to be unenforceable or invalid, that provision shall be limited or eliminated to the minimum extent necessary so that these Terms shall otherwise remain in full force and effect."})]}),e.jsx("div",{className:he.acknowledgment,children:e.jsx("p",{children:e.jsx("strong",{children:"BY USING THIS SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THESE TERMS."})})})]})]}),dl=()=>e.jsxs("div",{className:he.container,children:[e.jsxs("div",{className:he.header,children:[e.jsx(be,{size:32}),e.jsx("h1",{children:"Privacy Policy"}),e.jsx("p",{className:he.lastUpdated,children:"Last Updated: November 24, 2025"})]}),e.jsxs("div",{className:`card ${he.content}`,children:[e.jsxs("section",{children:[e.jsx("h2",{children:"1. Introduction"}),e.jsx("p",{children:'Peptide Tracker ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our Service.'}),e.jsx("p",{children:e.jsx("strong",{children:"Please read this privacy policy carefully. If you do not agree with the terms of this privacy policy, please do not access the Service."})})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"2. Information We Collect"}),e.jsx("h3",{children:"2.1 Personal Information"}),e.jsx("p",{children:"We may collect personal information that you voluntarily provide, including:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Name and email address"}),e.jsx("li",{children:"Account credentials (username, password)"}),e.jsx("li",{children:"Profile information (age, gender, optional)"}),e.jsx("li",{children:"Payment information (processed by third-party payment processors)"})]}),e.jsx("h3",{children:"2.2 Health Information"}),e.jsx("p",{children:"As a health tracking application, we collect sensitive health data, including:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Peptide injection records (type, dosage, date, time)"}),e.jsx("li",{children:"Body measurements and weight"}),e.jsx("li",{children:"Side effects and notes"}),e.jsx("li",{children:"Photos (if you choose to upload them)"}),e.jsx("li",{children:"Lab results (if you choose to upload them)"}),e.jsx("li",{children:"Health goals and preferences"})]}),e.jsxs("p",{className:he.warning,children:[e.jsx("strong",{children:"Important:"})," This is Protected Health Information (PHI) under HIPAA. We take extensive measures to protect this data."]}),e.jsx("h3",{children:"2.3 Usage Data"}),e.jsx("p",{children:"We automatically collect certain information when you use the Service:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Device information (type, operating system, browser)"}),e.jsx("li",{children:"IP address and location data"}),e.jsx("li",{children:"Usage patterns and feature interactions"}),e.jsx("li",{children:"Log data and error reports"}),e.jsx("li",{children:"Cookies and similar tracking technologies"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"3. How We Use Your Information"}),e.jsx("p",{children:"We use the collected information to:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Provide the Service:"})," Track injections, calculate dosages, generate reports"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Improve the Service:"})," Analyze usage patterns, fix bugs, develop new features"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Personalize Experience:"})," Customize recommendations and content"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Communicate:"})," Send notifications, updates, and support messages"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security:"})," Detect and prevent fraud, abuse, and security incidents"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Compliance:"})," Comply with legal obligations and enforce our Terms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics:"})," Understand user behavior and improve our Service (anonymized data)"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"4. Data Sharing and Disclosure"}),e.jsx("h3",{children:"4.1 We DO NOT Sell Your Data"}),e.jsx("p",{className:he.highlight,children:e.jsx("strong",{children:"We will never sell your personal or health information to third parties."})}),e.jsx("h3",{children:"4.2 When We May Share Data"}),e.jsx("p",{children:"We may share your information only in the following circumstances:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"With Your Consent:"})," When you explicitly authorize us to share your data"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Service Providers:"})," Third-party vendors who help us operate the Service (hosting, analytics, payment processing)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Healthcare Providers:"})," If you use our telehealth features and authorize sharing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Legal Requirements:"})," When required by law, court order, or government request"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Business Transfers:"})," In connection with a merger, acquisition, or sale of assets"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Safety and Security:"})," To protect the rights, property, or safety of us, our users, or others"]})]}),e.jsx("h3",{children:"4.3 Anonymized Data"}),e.jsx("p",{children:"We may use and share aggregated, anonymized data that cannot identify you personally for research, analytics, and improving the Service."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"5. Data Security"}),e.jsx("p",{children:"We implement industry-standard security measures to protect your data:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Encryption:"})," All data is encrypted in transit (SSL/TLS) and at rest (AES-256)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Access Controls:"})," Strict authentication and authorization mechanisms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Regular Audits:"})," Security assessments and penetration testing"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Employee Training:"})," Staff trained on data protection and privacy"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure Infrastructure:"})," Hosted on secure, compliant cloud platforms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backup and Recovery:"})," Regular backups with disaster recovery procedures"]})]}),e.jsxs("p",{className:he.warning,children:[e.jsx("strong",{children:"Note:"})," While we use reasonable security measures, no method of transmission over the Internet or electronic storage is 100% secure. We cannot guarantee absolute security."]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"6. Your Privacy Rights"}),e.jsx("p",{children:"Depending on your location, you may have the following rights:"}),e.jsx("h3",{children:"6.1 Access and Portability"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Request a copy of your personal data"}),e.jsx("li",{children:"Export your data in a machine-readable format"})]}),e.jsx("h3",{children:"6.2 Correction and Update"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Update or correct inaccurate information"}),e.jsx("li",{children:"Complete incomplete data"})]}),e.jsx("h3",{children:"6.3 Deletion"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Request deletion of your account and data"}),e.jsx("li",{children:"Right to be forgotten (subject to legal requirements)"})]}),e.jsx("h3",{children:"6.4 Restriction and Objection"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Restrict processing of your data"}),e.jsx("li",{children:"Object to certain uses of your data"})]}),e.jsx("h3",{children:"6.5 Withdraw Consent"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Withdraw consent for data processing at any time"}),e.jsx("li",{children:"Opt-out of marketing communications"})]}),e.jsx("p",{children:"To exercise these rights, contact us at privacy@peptidetracker.com"})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"7. Data Retention"}),e.jsx("p",{children:"We retain your data for as long as:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Your account is active"}),e.jsx("li",{children:"Needed to provide the Service"}),e.jsx("li",{children:"Required by law or regulation"}),e.jsx("li",{children:"Necessary for legitimate business purposes"})]}),e.jsx("p",{children:"When you delete your account, we will delete or anonymize your personal data within 30 days, except where we are legally required to retain it."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"8. Cookies and Tracking Technologies"}),e.jsx("p",{children:"We use cookies and similar technologies to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Remember your preferences and settings"}),e.jsx("li",{children:"Authenticate your account"}),e.jsx("li",{children:"Analyze usage and improve the Service"}),e.jsx("li",{children:"Provide personalized content"})]}),e.jsx("p",{children:"You can control cookies through your browser settings. Note that disabling cookies may limit functionality of the Service."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"9. Third-Party Services"}),e.jsx("p",{children:"Our Service may integrate with third-party services:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Payment Processors:"})," Stripe, PayPal (we do not store credit card information)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics:"})," Google Analytics (anonymized)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cloud Hosting:"})," AWS, Google Cloud, or similar"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Email Services:"})," SendGrid, Mailgun, or similar"]})]}),e.jsx("p",{children:"These third parties have their own privacy policies. We encourage you to review them."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"10. Children's Privacy"}),e.jsx("p",{children:"The Service is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"11. International Data Transfers"}),e.jsx("p",{children:"Your information may be transferred to and processed in countries other than your own. We ensure appropriate safeguards are in place to protect your data in accordance with this Privacy Policy."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"12. California Privacy Rights (CCPA)"}),e.jsx("p",{children:"If you are a California resident, you have additional rights under the California Consumer Privacy Act:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Right to know what personal information is collected"}),e.jsx("li",{children:"Right to know if personal information is sold or disclosed"}),e.jsx("li",{children:"Right to say no to the sale of personal information"}),e.jsx("li",{children:"Right to access your personal information"}),e.jsx("li",{children:"Right to equal service and price"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"13. GDPR Compliance (European Users)"}),e.jsx("p",{children:"If you are in the European Economic Area (EEA), you have rights under the General Data Protection Regulation:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Legal basis for processing (consent, contract, legitimate interest)"}),e.jsx("li",{children:"Right to lodge a complaint with supervisory authority"}),e.jsx("li",{children:"Right to data portability"}),e.jsx("li",{children:"Automated decision-making protections"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"14. Changes to This Privacy Policy"}),e.jsx("p",{children:"We may update this Privacy Policy from time to time. We will notify you of significant changes by:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Posting the new Privacy Policy on this page"}),e.jsx("li",{children:'Updating the "Last Updated" date'}),e.jsx("li",{children:"Sending an email notification (for material changes)"}),e.jsx("li",{children:"In-app notification"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"15. Contact Us"}),e.jsx("p",{children:"For questions or concerns about this Privacy Policy or our data practices:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," privacy@peptidetracker.com",e.jsx("br",{}),e.jsx("strong",{children:"Data Protection Officer:"})," dpo@peptidetracker.com",e.jsx("br",{}),e.jsx("strong",{children:"Address:"})," [Your Business Address]"]})]}),e.jsx("div",{className:he.acknowledgment,children:e.jsx("p",{children:e.jsx("strong",{children:"BY USING THIS SERVICE, YOU ACKNOWLEDGE THAT YOU HAVE READ AND UNDERSTOOD THIS PRIVACY POLICY."})})})]})]}),Ut="G-2V2TNJFR16",ul=()=>{if(console.log("Analytics initialized"),!document.querySelector('script[src*="googletagmanager"]')){let s=function(){window.dataLayer.push(arguments)};const t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${Ut}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=s,s("js",new Date),s("config",Ut)}},ml=(t,s,n=null,i=null)=>{console.log(`[Analytics] Event: ${t} - ${s}`,{label:n,value:i}),window.gtag&&window.gtag("event",s,{event_category:t,event_label:n,value:i})},hl=(t,s)=>{console.error("[Analytics] Error tracked:",t),window.gtag&&window.gtag("event","exception",{description:t.message,fatal:!1})},Wt=()=>{const t=Ge();return r.useEffect(()=>{ml("error","404_not_found",t.pathname)},[t]),e.jsxs("div",{style:{padding:"40px",textAlign:"center"},children:[e.jsx("h1",{children:"404"}),e.jsx("p",{children:"We couldn't find that page."}),e.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9em",opacity:.7},children:["Requested: ",t.pathname]}),e.jsx(ne,{to:"/",style:{color:"var(--accent-primary)",marginTop:"20px",display:"inline-block"},children:"Return Home"})]})};class pl extends Zt.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0}}componentDidCatch(s,n){if(console.error("ErrorBoundary caught",s,n),hl(s),s.message&&(s.message.includes("Failed to fetch dynamically imported module")||s.message.includes("Importing a module script failed")||s.name==="ChunkLoadError")){const a=sessionStorage.getItem("chunk_reload_time");if(!a||Date.now()-parseInt(a)>1e4){console.log("Chunk load error detected, reloading page..."),sessionStorage.setItem("chunk_reload_time",Date.now().toString()),window.location.reload();return}}}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"24px",textAlign:"center"},children:[e.jsx("h1",{children:"Something went wrong."}),e.jsx("p",{children:"Please refresh or return home."}),e.jsx("a",{href:"/",style:{color:"var(--accent-primary)"},children:"Go Home"})]}):this.props.children}}const gl=()=>{const{signOut:t}=pe(),s=Nt(),n=async()=>{await t(),s("/login")};return e.jsxs("div",{style:{display:"flex",minHeight:"100vh",background:"var(--bg-primary)"},children:[e.jsxs("div",{style:{width:"250px",background:"rgba(15, 23, 42, 0.8)",borderRight:"1px solid var(--glass-border)",padding:"1.5rem",display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{marginBottom:"2rem",paddingLeft:"0.75rem"},children:e.jsx("h2",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"var(--accent-primary)"},children:"Admin Panel"})}),e.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",flex:1},children:[e.jsxs(de,{to:"/admin",end:!0,style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(ts,{size:20}),"Dashboard"]}),e.jsxs(de,{to:"/admin/peptides",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(Ee,{size:20}),"Peptides"]}),e.jsxs(de,{to:"/admin/users",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(cs,{size:20}),"Users"]}),e.jsxs(de,{to:"/admin/tickets",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(ge,{size:20}),"Support Tickets"]}),e.jsxs(de,{to:"/admin/audit-logs",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(xe,{size:20}),"Audit Logs"]}),e.jsxs(de,{to:"/admin/monitoring",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(xe,{size:20}),"Monitoring"]}),e.jsxs(de,{to:"/admin/security",style:({isActive:i})=>({display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:i?"white":"var(--text-secondary)",background:i?"var(--accent-primary)":"transparent",textDecoration:"none",transition:"all 0.2s"}),children:[e.jsx(be,{size:20}),"Security Audit"]})]}),e.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",borderRadius:"0.5rem",color:"#ef4444",background:"rgba(239, 68, 68, 0.1)",border:"none",cursor:"pointer",marginTop:"auto"},children:[e.jsx(cn,{size:20}),"Sign Out"]})]}),e.jsx("div",{style:{flex:1,overflow:"auto"},children:e.jsx(Qt,{})})]})},_e={async logAction(t,s,n=null,i=null){try{const{data:{user:a}}=await S.auth.getUser();if(!a)return null;const{data:d,error:o}=await S.from("audit_logs").insert({user_id:a.id,action:t,entity_type:s,entity_id:n,metadata:i,user_agent:navigator.userAgent}).select().single();return o?(console.warn("Failed to log action:",o),null):d}catch(a){return console.warn("Audit log error:",a),null}},async getMyLogs(t=50){const{data:s,error:n}=await S.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(t);if(n)throw n;return s},async getAllLogs({limit:t=100,offset:s=0,action:n=null,entityType:i=null,userId:a=null,startDate:d=null,endDate:o=null}={}){let u=S.from("audit_logs").select(`
        *,
        profiles:user_id (
          email,
          full_name
        )
      `,{count:"exact"}).order("created_at",{ascending:!1}).range(s,s+t-1);n&&(u=u.eq("action",n)),i&&(u=u.eq("entity_type",i)),a&&(u=u.eq("user_id",a)),d&&(u=u.gte("created_at",d)),o&&(u=u.lte("created_at",o));const{data:p,error:f,count:_}=await u;if(f)throw f;return{data:p,count:_}},async getActionTypes(){const{data:t,error:s}=await S.from("audit_logs").select("action").limit(1e3);if(s)throw s;return[...new Set(t.map(i=>i.action))].sort()},async getEntityTypes(){const{data:t,error:s}=await S.from("audit_logs").select("entity_type").limit(1e3);if(s)throw s;return[...new Set(t.map(i=>i.entity_type))].sort()},async getStats(t=7){const s=new Date;s.setDate(s.getDate()-t);const{data:n,error:i}=await S.from("audit_logs").select("action, created_at").gte("created_at",s.toISOString());if(i)throw i;const a=n.reduce((o,u)=>(o[u.action]=(o[u.action]||0)+1,o),{}),d=n.reduce((o,u)=>{const p=new Date(u.created_at).toLocaleDateString();return o[p]=(o[p]||0)+1,o},{});return{total:n.length,byAction:a,byDay:d}},formatAction(t){return t.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())},getActionStyle(t){return{profile_updated:{color:"#3b82f6",icon:"User"},injection_created:{color:"#10b981",icon:"Plus"},injection_updated:{color:"#f59e0b",icon:"Edit"},injection_deleted:{color:"#ef4444",icon:"Trash"},login:{color:"#8b5cf6",icon:"LogIn"},logout:{color:"#6b7280",icon:"LogOut"},schedule_created:{color:"#10b981",icon:"Calendar"},review_created:{color:"#06b6d4",icon:"Star"}}[t]||{color:"#6b7280",icon:"Activity"}}},le={async getMyTickets(){const{data:t,error:s}=await S.from("support_tickets").select(`
        *,
        ticket_messages (
          id,
          message,
          is_admin_reply,
          created_at
        )
      `).order("updated_at",{ascending:!1});if(s)throw s;return t},async getTicket(t){const{data:s,error:n}=await S.from("support_tickets").select(`
        *,
        ticket_messages (
          id,
          message,
          is_admin_reply,
          created_at,
          user_id
        )
      `).eq("id",t).single();if(n)throw n;return s},async createTicket({subject:t,description:s,category:n="general",priority:i="normal"}){const{data:{user:a}}=await S.auth.getUser();if(!a)throw new Error("Must be logged in to create a ticket");const{data:d,error:o}=await S.from("support_tickets").insert({user_id:a.id,subject:t,description:s,category:n,priority:i}).select().single();if(o)throw o;return d},async addMessage(t,s,n=!1){const{data:{user:i}}=await S.auth.getUser();if(!i)throw new Error("Must be logged in to send a message");const{data:a,error:d}=await S.from("ticket_messages").insert({ticket_id:t,user_id:i.id,message:s,is_admin_reply:n}).select().single();if(d)throw d;return a},async getAllTickets(t=null){let s=S.from("support_tickets").select(`
        *,
        profiles:user_id (
          email,
          full_name
        ),
        ticket_messages (
          id
        )
      `).order("updated_at",{ascending:!1});t&&(s=s.eq("status",t));const{data:n,error:i}=await s;if(i)throw i;return n},async updateTicketStatus(t,s){const{data:{user:n}}=await S.auth.getUser(),i={status:s};s==="resolved"&&(i.resolved_at=new Date().toISOString(),i.resolved_by=n.id);const{data:a,error:d}=await S.from("support_tickets").update(i).eq("id",t).select().single();if(d)throw d;return a},getCategories(){return[{id:"general",label:"General Inquiry"},{id:"bug",label:"Bug Report"},{id:"feature",label:"Feature Request"},{id:"account",label:"Account Issue"},{id:"billing",label:"Billing"},{id:"other",label:"Other"}]},getPriorities(){return[{id:"low",label:"Low",color:"#10b981"},{id:"normal",label:"Normal",color:"#3b82f6"},{id:"high",label:"High",color:"#f59e0b"},{id:"urgent",label:"Urgent",color:"#ef4444"}]},getStatuses(){return[{id:"open",label:"Open",color:"#3b82f6"},{id:"in_progress",label:"In Progress",color:"#f59e0b"},{id:"waiting",label:"Waiting for User",color:"#8b5cf6"},{id:"resolved",label:"Resolved",color:"#10b981"},{id:"closed",label:"Closed",color:"#6b7280"}]}},fl="_container_2l4ry_1",yl="_header_2l4ry_7",xl="_refreshBtn_2l4ry_30",vl="_spin_2l4ry_54",jl="_statsGrid_2l4ry_69",_l="_statCard_2l4ry_76",bl="_statIcon_2l4ry_92",wl="_statInfo_2l4ry_101",Sl="_statLabel_2l4ry_106",kl="_statValue_2l4ry_112",Nl="_trend_2l4ry_118",Il="_trendUp_2l4ry_126",Cl="_trendDown_2l4ry_130",Dl="_trendWarning_2l4ry_134",Al="_twoColumn_2l4ry_144",Ll="_panel_2l4ry_158",Pl="_panelHeader_2l4ry_165",Tl="_viewAll_2l4ry_183",El="_activityList_2l4ry_197",Rl="_activityItem_2l4ry_203",Ml="_activityDot_2l4ry_215",zl="_activityInfo_2l4ry_223",Bl="_activityAction_2l4ry_229",Hl="_activityMeta_2l4ry_234",Ol="_ticketList_2l4ry_240",$l="_ticketItem_2l4ry_246",Gl="_ticketInfo_2l4ry_259",Fl="_ticketSubject_2l4ry_265",Vl="_ticketMeta_2l4ry_270",ql="_ticketStatus_2l4ry_275",Ul="_emptyState_2l4ry_284",Wl="_quickActions_2l4ry_291",Jl="_actionButtons_2l4ry_304",Yl="_actionBtn_2l4ry_310",E={container:fl,header:yl,refreshBtn:xl,spin:vl,statsGrid:jl,statCard:_l,statIcon:bl,statInfo:wl,statLabel:Sl,statValue:kl,trend:Nl,trendUp:Il,trendDown:Cl,trendWarning:Dl,twoColumn:Al,panel:Ll,panelHeader:Pl,viewAll:Tl,activityList:El,activityItem:Rl,activityDot:Ml,activityInfo:zl,activityAction:Bl,activityMeta:Hl,ticketList:Ol,ticketItem:$l,ticketInfo:Gl,ticketSubject:Fl,ticketMeta:Vl,ticketStatus:ql,emptyState:Ul,quickActions:Wl,actionButtons:Jl,actionBtn:Yl},Kl=()=>{const[t,s]=r.useState({users:0,injections:0,peptides:0,reviews:0,schedules:0,openTickets:0}),[n,i]=r.useState([]),[a,d]=r.useState([]),[o,u]=r.useState(!0),[p,f]=r.useState({count:0,direction:"up"});r.useEffect(()=>{_()},[]);const _=async()=>{u(!0),await Promise.all([A(),L(),w(),x()]),u(!1)},A=async()=>{try{const[g,l,c,j,b,N]=await Promise.all([S.from("profiles").select("*",{count:"exact",head:!0}),S.from("injections").select("*",{count:"exact",head:!0}),S.from("peptides").select("*",{count:"exact",head:!0}),S.from("reviews").select("*",{count:"exact",head:!0}),S.from("schedules").select("*",{count:"exact",head:!0}),S.from("support_tickets").select("*",{count:"exact",head:!0}).eq("status","open")]);s({users:g.count||0,injections:l.count||0,peptides:c.count||0,reviews:j.count||0,schedules:b.count||0,openTickets:N.count||0})}catch(g){console.error("Error fetching stats:",g)}},L=async()=>{try{const{data:g}=await _e.getAllLogs({limit:10});i(g||[])}catch(g){console.error("Error fetching activity:",g)}},w=async()=>{try{const g=await le.getAllTickets();d((g||[]).slice(0,5))}catch(g){console.error("Error fetching tickets:",g)}},x=async()=>{try{const g=new Date,l=new Date(g.getTime()-10080*60*1e3),c=new Date(g.getTime()-336*60*60*1e3),[j,b]=await Promise.all([S.from("injections").select("*",{count:"exact",head:!0}).gte("created_at",l.toISOString()),S.from("injections").select("*",{count:"exact",head:!0}).gte("created_at",c.toISOString()).lt("created_at",l.toISOString())]),N=(j.count||0)-(b.count||0);f({count:j.count||0,direction:N>=0?"up":"down",percentage:b.count?Math.abs(Math.round(N/b.count*100)):0})}catch(g){console.error("Error fetching trend:",g)}},D=g=>{const l=Math.floor((new Date-new Date(g))/1e3);return l<60?"just now":l<3600?`${Math.floor(l/60)}m ago`:l<86400?`${Math.floor(l/3600)}h ago`:`${Math.floor(l/86400)}d ago`},I=g=>({open:"#3b82f6",in_progress:"#f59e0b",resolved:"#10b981",closed:"#6b7280"})[g]||"#6b7280";return e.jsxs("div",{className:E.container,children:[e.jsxs("div",{className:E.header,children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Dashboard Overview"}),e.jsx("p",{children:"Welcome back, here's what's happening today"})]}),e.jsxs("button",{className:E.refreshBtn,onClick:_,disabled:o,children:[e.jsx(mt,{size:18,className:o?E.spin:""}),"Refresh"]})]}),e.jsxs("div",{className:E.statsGrid,children:[e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#3b82f620",color:"#3b82f6"},children:e.jsx(cs,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Total Users"}),e.jsx("span",{className:E.statValue,children:o?"...":t.users})]})]}),e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#10b98120",color:"#10b981"},children:e.jsx(Le,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Total Injections"}),e.jsx("span",{className:E.statValue,children:o?"...":t.injections}),!o&&p.percentage>0&&e.jsxs("span",{className:`${E.trend} ${p.direction==="up"?E.trendUp:E.trendDown}`,children:[p.direction==="up"?e.jsx(vt,{size:14}):e.jsx(ln,{size:14}),p.percentage,"% this week"]})]})]}),e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#8b5cf620",color:"#8b5cf6"},children:e.jsx(Ee,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Peptides in DB"}),e.jsx("span",{className:E.statValue,children:o?"...":t.peptides})]})]}),e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#f59e0b20",color:"#f59e0b"},children:e.jsx(ge,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Open Tickets"}),e.jsx("span",{className:E.statValue,children:o?"...":t.openTickets}),!o&&t.openTickets>0&&e.jsxs("span",{className:E.trendWarning,children:[e.jsx(we,{size:14})," Needs attention"]})]})]}),e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#06b6d420",color:"#06b6d4"},children:e.jsx(He,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Reviews"}),e.jsx("span",{className:E.statValue,children:o?"...":t.reviews})]})]}),e.jsxs("div",{className:E.statCard,children:[e.jsx("div",{className:E.statIcon,style:{background:"#ec489920",color:"#ec4899"},children:e.jsx(Ie,{size:24})}),e.jsxs("div",{className:E.statInfo,children:[e.jsx("span",{className:E.statLabel,children:"Scheduled Doses"}),e.jsx("span",{className:E.statValue,children:o?"...":t.schedules})]})]})]}),e.jsxs("div",{className:E.twoColumn,children:[e.jsxs("div",{className:E.panel,children:[e.jsxs("div",{className:E.panelHeader,children:[e.jsxs("h3",{children:[e.jsx(xe,{size:20})," Recent Activity"]}),e.jsxs(ne,{to:"/admin/audit-logs",className:E.viewAll,children:["View All ",e.jsx(vt,{size:14})]})]}),e.jsx("div",{className:E.activityList,children:o?e.jsx("p",{className:E.emptyState,children:"Loading..."}):n.length===0?e.jsx("p",{className:E.emptyState,children:"No recent activity"}):n.map(g=>e.jsxs("div",{className:E.activityItem,children:[e.jsx("div",{className:E.activityDot,style:{background:_e.getActionStyle(g.action).color}}),e.jsxs("div",{className:E.activityInfo,children:[e.jsx("span",{className:E.activityAction,children:_e.formatAction(g.action)}),e.jsxs("span",{className:E.activityMeta,children:[g.profiles?.email?.split("@")[0]||"User"," • ",D(g.created_at)]})]})]},g.id))})]}),e.jsxs("div",{className:E.panel,children:[e.jsxs("div",{className:E.panelHeader,children:[e.jsxs("h3",{children:[e.jsx(ge,{size:20})," Recent Tickets"]}),e.jsxs(ne,{to:"/admin/tickets",className:E.viewAll,children:["View All ",e.jsx(vt,{size:14})]})]}),e.jsx("div",{className:E.ticketList,children:o?e.jsx("p",{className:E.emptyState,children:"Loading..."}):a.length===0?e.jsx("p",{className:E.emptyState,children:"No tickets yet"}):a.map(g=>e.jsxs(ne,{to:"/admin/tickets",className:E.ticketItem,children:[e.jsxs("div",{className:E.ticketInfo,children:[e.jsx("span",{className:E.ticketSubject,children:g.subject}),e.jsxs("span",{className:E.ticketMeta,children:[g.profiles?.email?.split("@")[0]||"User"," • ",D(g.created_at)]})]}),e.jsxs("span",{className:E.ticketStatus,style:{color:I(g.status)},children:[g.status==="open"?e.jsx(we,{size:14}):e.jsx(ue,{size:14}),g.status.replace("_"," ")]})]},g.id))})]})]}),e.jsxs("div",{className:E.quickActions,children:[e.jsx("h3",{children:"Quick Actions"}),e.jsxs("div",{className:E.actionButtons,children:[e.jsxs(ne,{to:"/admin/peptides",className:E.actionBtn,children:[e.jsx(Ee,{size:20}),"Manage Peptides"]}),e.jsxs(ne,{to:"/admin/tickets",className:E.actionBtn,children:[e.jsx(ge,{size:20}),"View Tickets"]}),e.jsxs(ne,{to:"/admin/audit-logs",className:E.actionBtn,children:[e.jsx(xe,{size:20}),"Audit Logs"]}),e.jsxs(ne,{to:"/encyclopedia",className:E.actionBtn,children:[e.jsx(dt,{size:20}),"View Encyclopedia"]})]})]})]})},Xl="_container_1016c_1",Ql="_header_1016c_7",Zl="_addBtn_1016c_33",ed="_successBanner_1016c_53",td="_filters_1016c_79",sd="_searchBox_1016c_86",nd="_filterSelect_1016c_108",id="_loading_1016c_119",ad="_emptyState_1016c_120",rd="_peptideList_1016c_141",od="_peptideCard_1016c_147",cd="_peptideHeader_1016c_159",ld="_peptideInfo_1016c_172",dd="_tags_1016c_178",ud="_categoryTag_1016c_184",md="_halfLifeTag_1016c_193",hd="_warningTag_1016c_204",pd="_peptideActions_1016c_215",gd="_viewBtn_1016c_222",fd="_duplicateBtn_1016c_223",yd="_editBtn_1016c_224",xd="_deleteBtn_1016c_225",vd="_peptideDetails_1016c_275",jd="_detailSection_1016c_293",_d="_sideEffectsList_1016c_320",bd="_modalOverlay_1016c_335",wd="_modal_1016c_335",Sd="_modalHeader_1016c_359",kd="_closeBtn_1016c_373",Nd="_form_1016c_386",Id="_formRow_1016c_395",Cd="_formGroup_1016c_407",Dd="_codeInput_1016c_444",Ad="_formActions_1016c_449",Ld="_cancelBtn_1016c_457",Pd="_saveBtn_1016c_471",G={container:Xl,header:Ql,addBtn:Zl,successBanner:ed,filters:td,searchBox:sd,filterSelect:nd,loading:id,emptyState:ad,peptideList:rd,peptideCard:od,peptideHeader:cd,peptideInfo:ld,tags:dd,categoryTag:ud,halfLifeTag:md,warningTag:hd,peptideActions:pd,viewBtn:gd,duplicateBtn:fd,editBtn:yd,deleteBtn:xd,peptideDetails:vd,detailSection:jd,sideEffectsList:_d,modalOverlay:bd,modal:wd,modalHeader:Sd,closeBtn:kd,form:Nd,formRow:Id,formGroup:Cd,codeInput:Dd,formActions:Ad,cancelBtn:Ld,saveBtn:Pd},Jt=["Weight Loss","Muscle Building","Recovery","Anti-Aging","Cognitive","Immunity","Sexual Health","Other"],Td=()=>{const[t,s]=r.useState([]),[n,i]=r.useState(!0),[a,d]=r.useState(""),[o,u]=r.useState(""),[p,f]=r.useState(!1),[_,A]=r.useState(null),[L,w]=r.useState(!1),[x,D]=r.useState(null),[I,g]=r.useState(""),[l,c]=r.useState({name:"",category:"Weight Loss",half_life_hours:"",description:"",benefits:"",side_effects:"",warnings:"",dosage_protocols:""});r.useEffect(()=>{j()},[]);const j=async()=>{try{i(!0);const{data:v,error:z}=await S.from("peptides").select("*").order("name");if(z)throw z;s(v||[])}catch(v){console.error("Error fetching peptides:",v)}finally{i(!1)}},b=v=>{A(v.id),c({name:v.name,category:v.category,half_life_hours:v.half_life_hours||"",description:v.description||"",benefits:(v.benefits||[]).join(`
`),side_effects:(v.side_effects||[]).join(`
`),warnings:(v.warnings||[]).join(`
`),dosage_protocols:v.dosage_protocols?JSON.stringify(v.dosage_protocols,null,2):""}),f(!0)},N=()=>{A(null),c({name:"",category:"Weight Loss",half_life_hours:"",description:"",benefits:"",side_effects:"",warnings:"",dosage_protocols:""}),f(!0)},M=v=>{A(null),c({name:v.name+" (Copy)",category:v.category,half_life_hours:v.half_life_hours||"",description:v.description||"",benefits:(v.benefits||[]).join(`
`),side_effects:(v.side_effects||[]).join(`
`),warnings:(v.warnings||[]).join(`
`),dosage_protocols:v.dosage_protocols?JSON.stringify(v.dosage_protocols,null,2):""}),f(!0)},O=async(v,z)=>{if(window.confirm(`Are you sure you want to delete "${z}"? This cannot be undone.`))try{const{error:q}=await S.from("peptides").delete().eq("id",v);if(q)throw q;y(`${z} deleted successfully`),j()}catch(q){console.error("Error deleting peptide:",q),alert("Failed to delete peptide")}},k=async v=>{v.preventDefault(),w(!0);let z=null;if(l.dosage_protocols.trim())try{z=JSON.parse(l.dosage_protocols)}catch{alert("Invalid JSON in dosage protocols. Please check the format."),w(!1);return}const q={name:l.name.trim(),category:l.category,half_life_hours:l.half_life_hours?parseFloat(l.half_life_hours):null,description:l.description.trim(),benefits:l.benefits.split(`
`).map(Y=>Y.trim()).filter(Boolean),side_effects:l.side_effects.split(`
`).map(Y=>Y.trim()).filter(Boolean),warnings:l.warnings.split(`
`).map(Y=>Y.trim()).filter(Boolean),dosage_protocols:z};try{if(_){const{error:Y}=await S.from("peptides").update(q).eq("id",_);if(Y)throw Y;y(`${q.name} updated successfully`)}else{const{error:Y}=await S.from("peptides").insert([q]);if(Y)throw Y;y(`${q.name} created successfully`)}f(!1),j()}catch(Y){console.error("Error saving peptide:",Y),alert("Failed to save peptide: "+Y.message)}finally{w(!1)}},y=v=>{g(v),setTimeout(()=>g(""),3e3)},$=t.filter(v=>{const z=v.name.toLowerCase().includes(a.toLowerCase())||v.category.toLowerCase().includes(a.toLowerCase()),q=!o||v.category===o;return z&&q}),F=v=>t.filter(z=>z.category===v).length;return e.jsxs("div",{className:G.container,children:[e.jsxs("div",{className:G.header,children:[e.jsxs("div",{children:[e.jsxs("h1",{children:[e.jsx(Ee,{size:28})," Manage Peptides"]}),e.jsxs("p",{children:[t.length," peptides in database"]})]}),e.jsxs("button",{className:G.addBtn,onClick:N,children:[e.jsx(Pe,{size:20}),"Add Peptide"]})]}),I&&e.jsxs("div",{className:G.successBanner,children:[e.jsx(ue,{size:18}),I]}),e.jsxs("div",{className:G.filters,children:[e.jsxs("div",{className:G.searchBox,children:[e.jsx(dn,{size:20}),e.jsx("input",{type:"text",placeholder:"Search peptides...",value:a,onChange:v=>d(v.target.value)})]}),e.jsxs("select",{value:o,onChange:v=>u(v.target.value),className:G.filterSelect,children:[e.jsx("option",{value:"",children:"All Categories"}),Jt.map(v=>e.jsxs("option",{value:v,children:[v," (",F(v),")"]},v))]})]}),n?e.jsx("div",{className:G.loading,children:"Loading peptides..."}):$.length===0?e.jsxs("div",{className:G.emptyState,children:[e.jsx(Ee,{size:48}),e.jsx("h3",{children:"No peptides found"}),e.jsx("p",{children:"Try adjusting your search or add a new peptide."})]}):e.jsx("div",{className:G.peptideList,children:$.map(v=>e.jsxs("div",{className:G.peptideCard,children:[e.jsxs("div",{className:G.peptideHeader,onClick:()=>D(x===v.id?null:v.id),children:[e.jsxs("div",{className:G.peptideInfo,children:[e.jsx("h3",{children:v.name}),e.jsxs("div",{className:G.tags,children:[e.jsx("span",{className:G.categoryTag,children:v.category}),v.half_life_hours&&e.jsxs("span",{className:G.halfLifeTag,children:[e.jsx(Oe,{size:12}),v.half_life_hours,"h half-life"]}),v.warnings?.length>0&&e.jsxs("span",{className:G.warningTag,children:[e.jsx(Ye,{size:12}),v.warnings.length," warnings"]})]})]}),e.jsxs("div",{className:G.peptideActions,children:[e.jsx(ne,{to:`/encyclopedia/${encodeURIComponent(v.name)}`,className:G.viewBtn,onClick:z=>z.stopPropagation(),title:"View in Encyclopedia",children:e.jsx(dt,{size:16})}),e.jsx("button",{onClick:z=>{z.stopPropagation(),M(v)},className:G.duplicateBtn,title:"Duplicate",children:e.jsx(as,{size:16})}),e.jsx("button",{onClick:z=>{z.stopPropagation(),b(v)},className:G.editBtn,title:"Edit",children:e.jsx(ns,{size:16})}),e.jsx("button",{onClick:z=>{z.stopPropagation(),O(v.id,v.name)},className:G.deleteBtn,title:"Delete",children:e.jsx(Te,{size:16})}),x===v.id?e.jsx(kt,{size:20}):e.jsx(We,{size:20})]})]}),x===v.id&&e.jsxs("div",{className:G.peptideDetails,children:[v.description&&e.jsxs("div",{className:G.detailSection,children:[e.jsx("h4",{children:"Description"}),e.jsx("p",{children:v.description})]}),v.benefits?.length>0&&e.jsxs("div",{className:G.detailSection,children:[e.jsx("h4",{children:"Benefits"}),e.jsx("ul",{children:v.benefits.map((z,q)=>e.jsx("li",{children:z},q))})]}),v.side_effects?.length>0&&e.jsxs("div",{className:G.detailSection,children:[e.jsx("h4",{children:"Side Effects"}),e.jsx("ul",{className:G.sideEffectsList,children:v.side_effects.map((z,q)=>e.jsx("li",{children:z},q))})]}),v.dosage_protocols&&e.jsxs("div",{className:G.detailSection,children:[e.jsx("h4",{children:"Dosage Protocols"}),e.jsx("pre",{children:JSON.stringify(v.dosage_protocols,null,2)})]})]})]},v.id))}),p&&e.jsx("div",{className:G.modalOverlay,onClick:()=>f(!1),children:e.jsxs("div",{className:G.modal,onClick:v=>v.stopPropagation(),children:[e.jsxs("div",{className:G.modalHeader,children:[e.jsx("h2",{children:_?"Edit Peptide":"New Peptide"}),e.jsx("button",{onClick:()=>f(!1),className:G.closeBtn,children:e.jsx(lt,{size:24})})]}),e.jsxs("form",{onSubmit:k,className:G.form,children:[e.jsxs("div",{className:G.formRow,children:[e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:v=>c({...l,name:v.target.value}),required:!0,placeholder:"e.g., Semaglutide"})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Category *"}),e.jsx("select",{value:l.category,onChange:v=>c({...l,category:v.target.value}),children:Jt.map(v=>e.jsx("option",{value:v,children:v},v))})]})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Half Life (hours)"}),e.jsx("input",{type:"number",step:"0.1",value:l.half_life_hours,onChange:v=>c({...l,half_life_hours:v.target.value}),placeholder:"e.g., 168"})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:l.description,onChange:v=>c({...l,description:v.target.value}),rows:3,placeholder:"Brief description of the peptide..."})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Benefits (one per line)"}),e.jsx("textarea",{value:l.benefits,onChange:v=>c({...l,benefits:v.target.value}),rows:4,placeholder:`Weight loss
Improved insulin sensitivity
Reduced appetite`})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Side Effects (one per line)"}),e.jsx("textarea",{value:l.side_effects,onChange:v=>c({...l,side_effects:v.target.value}),rows:4,placeholder:`Nausea
Headache
Injection site reactions`})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Warnings (one per line)"}),e.jsx("textarea",{value:l.warnings,onChange:v=>c({...l,warnings:v.target.value}),rows:3,placeholder:`Not for pregnant women
Consult doctor before use`})]}),e.jsxs("div",{className:G.formGroup,children:[e.jsx("label",{children:"Dosage Protocols (JSON format, optional)"}),e.jsx("textarea",{value:l.dosage_protocols,onChange:v=>c({...l,dosage_protocols:v.target.value}),rows:6,placeholder:'[{"name": "Standard Protocol", "dose": "0.25mg", "frequency": "weekly"}]',className:G.codeInput})]}),e.jsxs("div",{className:G.formActions,children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:G.cancelBtn,children:"Cancel"}),e.jsxs("button",{type:"submit",className:G.saveBtn,disabled:L,children:[e.jsx(un,{size:18}),L?"Saving...":_?"Update Peptide":"Create Peptide"]})]})]})]})})]})},Ed=()=>{const[t,s]=r.useState(!1);r.useEffect(()=>{localStorage.getItem("cookie_consent")||s(!0)},[]);const n=()=>{localStorage.setItem("cookie_consent","accepted"),s(!1)};return t?e.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"20px",right:"20px",maxWidth:"500px",background:"rgba(15, 23, 42, 0.95)",backdropFilter:"blur(10px)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"1.5rem",zIndex:1e3,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",gap:"1rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"1rem"},children:[e.jsx("div",{style:{padding:"0.5rem",background:"rgba(59, 130, 246, 0.1)",borderRadius:"50%",color:"#3b82f6"},children:e.jsx(mn,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1rem"},children:"We use cookies"}),e.jsxs("p",{style:{margin:0,fontSize:"0.875rem",color:"var(--text-secondary)",lineHeight:"1.5"},children:["We use cookies to enhance your experience, analyze site traffic, and ensure security. By continuing to use our site, you consent to our use of cookies.",e.jsx("a",{href:"/privacy",style:{color:"var(--accent-primary)",marginLeft:"0.5rem"},children:"Learn more"})]})]})]}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:e.jsx("button",{onClick:n,className:"btn-primary",style:{padding:"0.5rem 1.5rem",fontSize:"0.875rem"},children:"Accept All"})})]}):null},Rd="_container_1ruxw_1",Md="_header_1ruxw_24",zd="_newTicketBtn_1ruxw_50",Bd="_backBtn_1ruxw_70",Hd="_ticketsList_1ruxw_91",Od="_ticketCard_1ruxw_97",$d="_ticketInfo_1ruxw_115",Gd="_ticketMeta_1ruxw_131",Fd="_chevron_1ruxw_139",Vd="_statusBadge_1ruxw_144",qd="_emptyState_1ruxw_157",Ud="_formTitle_1ruxw_192",Wd="_form_1ruxw_192",Jd="_formRow_1ruxw_207",Yd="_formGroup_1ruxw_213",Kd="_submitBtn_1ruxw_250",Xd="_ticketDetail_1ruxw_273",Qd="_ticketHeader_1ruxw_280",Zd="_ticketDescription_1ruxw_295",eu="_messagesSection_1ruxw_310",tu="_messagesList_1ruxw_316",su="_noMessages_1ruxw_325",nu="_message_1ruxw_310",iu="_userMessage_1ruxw_336",au="_adminMessage_1ruxw_342",ru="_messageHeader_1ruxw_348",ou="_replyForm_1ruxw_367",cu="_error_1ruxw_408",lu="_loading_1ruxw_417",J={container:Rd,header:Md,newTicketBtn:zd,backBtn:Bd,ticketsList:Hd,ticketCard:Od,ticketInfo:$d,ticketMeta:Gd,chevron:Fd,statusBadge:Vd,emptyState:qd,formTitle:Ud,form:Wd,formRow:Jd,formGroup:Yd,submitBtn:Kd,ticketDetail:Xd,ticketHeader:Qd,ticketDescription:Zd,messagesSection:eu,messagesList:tu,noMessages:su,message:nu,userMessage:iu,adminMessage:au,messageHeader:ru,replyForm:ou,error:cu,loading:lu},du=()=>{const{user:t}=pe(),[s,n]=r.useState([]),[i,a]=r.useState(!0),[d,o]=r.useState(null),[u,p]=r.useState(!1),[f,_]=r.useState(null),[A,L]=r.useState(""),[w,x]=r.useState(!1),[D,I]=r.useState({subject:"",description:"",category:"general",priority:"normal"}),g=le.getCategories(),l=le.getPriorities(),c=le.getStatuses();r.useEffect(()=>{j()},[]);const j=async()=>{try{a(!0);const y=await le.getMyTickets();n(y||[])}catch(y){o("Failed to load tickets"),console.error(y)}finally{a(!1)}},b=async y=>{if(y.preventDefault(),!(!D.subject.trim()||!D.description.trim()))try{x(!0),await le.createTicket(D),I({subject:"",description:"",category:"general",priority:"normal"}),p(!1),await j()}catch($){o("Failed to create ticket"),console.error($)}finally{x(!1)}},N=async y=>{if(y.preventDefault(),!(!A.trim()||!f))try{x(!0),await le.addMessage(f.id,A),L("");const $=await le.getTicket(f.id);_($),await j()}catch($){o("Failed to send message"),console.error($)}finally{x(!1)}},M=y=>{switch(y){case"open":return e.jsx(we,{size:16});case"in_progress":return e.jsx(Oe,{size:16});case"resolved":return e.jsx(ue,{size:16});default:return e.jsx(ge,{size:16})}},O=y=>({color:c.find(F=>F.id===y)?.color||"#6b7280"}),k=y=>new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return t?f?e.jsxs("div",{className:J.container,children:[e.jsxs("button",{className:J.backBtn,onClick:()=>_(null),children:[e.jsx(nt,{size:18}),"Back to Tickets"]}),e.jsxs("div",{className:J.ticketDetail,children:[e.jsxs("div",{className:J.ticketHeader,children:[e.jsx("h1",{children:f.subject}),e.jsxs("span",{className:J.statusBadge,style:O(f.status),children:[M(f.status),f.status.replace("_"," ")]})]}),e.jsxs("div",{className:J.ticketMeta,children:[e.jsxs("span",{children:["Category: ",g.find(y=>y.id===f.category)?.label]}),e.jsxs("span",{children:["Created: ",k(f.created_at)]})]}),e.jsx("div",{className:J.ticketDescription,children:e.jsx("p",{children:f.description})}),e.jsxs("div",{className:J.messagesSection,children:[e.jsx("h3",{children:"Messages"}),e.jsxs("div",{className:J.messagesList,children:[f.ticket_messages?.length===0&&e.jsx("p",{className:J.noMessages,children:"No messages yet. Add a reply below."}),f.ticket_messages?.map(y=>e.jsxs("div",{className:`${J.message} ${y.is_admin_reply?J.adminMessage:J.userMessage}`,children:[e.jsxs("div",{className:J.messageHeader,children:[e.jsx("span",{children:y.is_admin_reply?"🛡️ Support":"👤 You"}),e.jsx("span",{children:k(y.created_at)})]}),e.jsx("p",{children:y.message})]},y.id))]}),f.status!=="closed"&&e.jsxs("form",{onSubmit:N,className:J.replyForm,children:[e.jsx("textarea",{placeholder:"Type your reply...",value:A,onChange:y=>L(y.target.value),rows:3}),e.jsxs("button",{type:"submit",disabled:w||!A.trim(),children:[e.jsx(ls,{size:18}),"Send Reply"]})]})]})]})]}):u?e.jsxs("div",{className:J.container,children:[e.jsxs("button",{className:J.backBtn,onClick:()=>p(!1),children:[e.jsx(nt,{size:18}),"Back to Tickets"]}),e.jsxs("div",{className:"card glass-panel",children:[e.jsx("h2",{className:J.formTitle,children:"Create New Ticket"}),e.jsxs("form",{onSubmit:b,className:J.form,children:[e.jsxs("div",{className:J.formGroup,children:[e.jsx("label",{children:"Subject"}),e.jsx("input",{type:"text",placeholder:"Brief description of your issue",value:D.subject,onChange:y=>I({...D,subject:y.target.value}),required:!0})]}),e.jsxs("div",{className:J.formRow,children:[e.jsxs("div",{className:J.formGroup,children:[e.jsx("label",{children:"Category"}),e.jsx("select",{value:D.category,onChange:y=>I({...D,category:y.target.value}),children:g.map(y=>e.jsx("option",{value:y.id,children:y.label},y.id))})]}),e.jsxs("div",{className:J.formGroup,children:[e.jsx("label",{children:"Priority"}),e.jsx("select",{value:D.priority,onChange:y=>I({...D,priority:y.target.value}),children:l.map(y=>e.jsx("option",{value:y.id,children:y.label},y.id))})]})]}),e.jsxs("div",{className:J.formGroup,children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{placeholder:"Please describe your issue in detail...",value:D.description,onChange:y=>I({...D,description:y.target.value}),rows:6,required:!0})]}),e.jsx("button",{type:"submit",className:J.submitBtn,disabled:w,children:w?"Creating...":"Create Ticket"})]})]})]}):e.jsxs("div",{className:J.container,children:[e.jsxs("div",{className:J.header,children:[e.jsxs("div",{children:[e.jsxs("h1",{children:[e.jsx(ge,{size:28}),"Support Tickets"]}),e.jsx("p",{children:"Get help from our support team"})]}),e.jsxs("button",{className:J.newTicketBtn,onClick:()=>p(!0),children:[e.jsx(Pe,{size:18}),"New Ticket"]})]}),d&&e.jsx("div",{className:J.error,children:d}),i?e.jsx("div",{className:J.loading,children:"Loading tickets..."}):s.length===0?e.jsxs("div",{className:J.emptyState,children:[e.jsx(ge,{size:48}),e.jsx("h2",{children:"No Tickets Yet"}),e.jsx("p",{children:"Create a ticket to get help from our support team."}),e.jsxs("button",{onClick:()=>p(!0),children:[e.jsx(Pe,{size:18}),"Create Your First Ticket"]})]}):e.jsx("div",{className:J.ticketsList,children:s.map(y=>e.jsxs("div",{className:J.ticketCard,onClick:()=>_(y),children:[e.jsxs("div",{className:J.ticketInfo,children:[e.jsxs("span",{className:J.statusBadge,style:O(y.status),children:[M(y.status),y.status.replace("_"," ")]}),e.jsx("h3",{children:y.subject}),e.jsxs("p",{children:[y.description.substring(0,100),"..."]}),e.jsxs("div",{className:J.ticketMeta,children:[e.jsx("span",{children:g.find($=>$.id===y.category)?.label}),e.jsx("span",{children:"•"}),e.jsx("span",{children:k(y.updated_at)}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[y.ticket_messages?.length||0," messages"]})]})]}),e.jsx(Je,{size:20,className:J.chevron})]},y.id))})]}):e.jsx("div",{className:J.container,children:e.jsxs("div",{className:J.emptyState,children:[e.jsx(ge,{size:48}),e.jsx("h2",{children:"Support Tickets"}),e.jsx("p",{children:"Please log in to view and create support tickets."})]})})},uu="_container_8ifs8_1",mu="_header_8ifs8_7",hu="_stats_8ifs8_28",pu="_statItem_8ifs8_33",gu="_filters_8ifs8_41",fu="_content_8ifs8_58",yu="_ticketsList_8ifs8_66",xu="_ticketCard_8ifs8_75",vu="_selected_8ifs8_88",ju="_ticketTop_8ifs8_93",_u="_priority_8ifs8_100",bu="_status_8ifs8_106",wu="_userInfo_8ifs8_124",Su="_ticketMeta_8ifs8_133",ku="_ticketDetail_8ifs8_141",Nu="_noSelection_8ifs8_150",Iu="_detailHeader_8ifs8_165",Cu="_detailMeta_8ifs8_171",Du="_statusSelect_8ifs8_185",Au="_description_8ifs8_205",Lu="_messages_8ifs8_226",Pu="_noMessages_8ifs8_238",Tu="_message_8ifs8_226",Eu="_userMsg_8ifs8_250",Ru="_adminMsg_8ifs8_255",Mu="_msgHeader_8ifs8_260",zu="_replyForm_8ifs8_278",Bu="_error_8ifs8_319",Hu="_loading_8ifs8_328",Ou="_empty_8ifs8_329",X={container:uu,header:mu,stats:hu,statItem:pu,filters:gu,content:fu,ticketsList:yu,ticketCard:xu,selected:vu,ticketTop:ju,priority:_u,status:bu,userInfo:wu,ticketMeta:Su,ticketDetail:ku,noSelection:Nu,detailHeader:Iu,detailMeta:Cu,statusSelect:Du,description:Au,messages:Lu,noMessages:Pu,message:Tu,userMsg:Eu,adminMsg:Ru,msgHeader:Mu,replyForm:zu,error:Bu,loading:Hu,empty:Ou},$u=()=>{const[t,s]=r.useState([]),[n,i]=r.useState(!0),[a,d]=r.useState(null),[o,u]=r.useState(null),[p,f]=r.useState(""),[_,A]=r.useState(""),[L,w]=r.useState(!1),x=le.getStatuses(),D=le.getCategories(),I=le.getPriorities();r.useEffect(()=>{g()},[p]);const g=async()=>{try{i(!0);const k=await le.getAllTickets(p||null);s(k||[])}catch(k){d("Failed to load tickets"),console.error(k)}finally{i(!1)}},l=async(k,y)=>{try{if(await le.updateTicketStatus(k,y),await g(),o?.id===k){const $=await le.getTicket(k);u($)}}catch($){d("Failed to update status"),console.error($)}},c=async k=>{if(k.preventDefault(),!(!_.trim()||!o))try{w(!0),await le.addMessage(o.id,_,!0),A("");const y=await le.getTicket(o.id);u(y),await g()}catch(y){d("Failed to send reply"),console.error(y)}finally{w(!1)}},j=k=>{switch(k){case"open":return e.jsx(we,{size:14});case"in_progress":return e.jsx(Oe,{size:14});case"resolved":return e.jsx(ue,{size:14});default:return e.jsx(ge,{size:14})}},b=k=>x.find($=>$.id===k)?.color||"#6b7280",N=k=>I.find($=>$.id===k)?.color||"#6b7280",M=k=>new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),O={all:t.length,open:t.filter(k=>k.status==="open").length,in_progress:t.filter(k=>k.status==="in_progress").length,resolved:t.filter(k=>k.status==="resolved").length};return e.jsxs("div",{className:X.container,children:[e.jsxs("div",{className:X.header,children:[e.jsxs("h1",{children:[e.jsx(ge,{size:28}),"Support Tickets"]}),e.jsxs("div",{className:X.stats,children:[e.jsxs("span",{className:X.statItem,children:[e.jsx(we,{size:16,style:{color:"#3b82f6"}}),O.open," Open"]}),e.jsxs("span",{className:X.statItem,children:[e.jsx(Oe,{size:16,style:{color:"#f59e0b"}}),O.in_progress," In Progress"]}),e.jsxs("span",{className:X.statItem,children:[e.jsx(ue,{size:16,style:{color:"#10b981"}}),O.resolved," Resolved"]})]})]}),e.jsxs("div",{className:X.filters,children:[e.jsx(ds,{size:18}),e.jsxs("select",{value:p,onChange:k=>f(k.target.value),children:[e.jsx("option",{value:"",children:"All Tickets"}),x.map(k=>e.jsx("option",{value:k.id,children:k.label},k.id))]})]}),a&&e.jsx("div",{className:X.error,children:a}),e.jsxs("div",{className:X.content,children:[e.jsx("div",{className:X.ticketsList,children:n?e.jsx("div",{className:X.loading,children:"Loading..."}):t.length===0?e.jsx("div",{className:X.empty,children:"No tickets found"}):t.map(k=>e.jsxs("div",{className:`${X.ticketCard} ${o?.id===k.id?X.selected:""}`,onClick:()=>u(k),children:[e.jsxs("div",{className:X.ticketTop,children:[e.jsx("span",{className:X.priority,style:{background:N(k.priority)}}),e.jsxs("span",{className:X.status,style:{color:b(k.status)},children:[j(k.status),k.status.replace("_"," ")]})]}),e.jsx("h3",{children:k.subject}),e.jsxs("p",{className:X.userInfo,children:[e.jsx(rt,{size:14}),k.profiles?.email||"Unknown"]}),e.jsxs("div",{className:X.ticketMeta,children:[e.jsx("span",{children:D.find(y=>y.id===k.category)?.label}),e.jsx("span",{children:M(k.updated_at)})]})]},k.id))}),e.jsx("div",{className:X.ticketDetail,children:o?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:X.detailHeader,children:[e.jsx("h2",{children:o.subject}),e.jsxs("div",{className:X.detailMeta,children:[e.jsxs("span",{children:[e.jsx(rt,{size:16}),o.profiles?.email]}),e.jsx("span",{children:M(o.created_at)})]})]}),e.jsxs("div",{className:X.statusSelect,children:[e.jsx("label",{children:"Status:"}),e.jsx("select",{value:o.status,onChange:k=>l(o.id,k.target.value),children:x.map(k=>e.jsx("option",{value:k.id,children:k.label},k.id))})]}),e.jsxs("div",{className:X.description,children:[e.jsx("h4",{children:"Description"}),e.jsx("p",{children:o.description})]}),e.jsxs("div",{className:X.messages,children:[e.jsx("h4",{children:"Conversation"}),o.ticket_messages?.length===0?e.jsx("p",{className:X.noMessages,children:"No messages yet"}):o.ticket_messages?.map(k=>e.jsxs("div",{className:`${X.message} ${k.is_admin_reply?X.adminMsg:X.userMsg}`,children:[e.jsxs("div",{className:X.msgHeader,children:[e.jsx("span",{children:k.is_admin_reply?"🛡️ Admin":"👤 User"}),e.jsx("span",{children:M(k.created_at)})]}),e.jsx("p",{children:k.message})]},k.id))]}),e.jsxs("form",{onSubmit:c,className:X.replyForm,children:[e.jsx("textarea",{placeholder:"Type your reply...",value:_,onChange:k=>A(k.target.value),rows:3}),e.jsxs("button",{type:"submit",disabled:L||!_.trim(),children:[e.jsx(ls,{size:18}),"Send Reply"]})]})]}):e.jsxs("div",{className:X.noSelection,children:[e.jsx(ge,{size:48}),e.jsx("p",{children:"Select a ticket to view details"})]})})]})]})},Gu="_container_hfymq_1",Fu="_header_hfymq_7",Vu="_refreshBtn_hfymq_26",qu="_statsGrid_hfymq_46",Uu="_statCard_hfymq_53",Wu="_statValue_hfymq_63",Ju="_statLabel_hfymq_72",Yu="_filters_hfymq_79",Ku="_filterIcon_hfymq_87",Xu="_dateFilter_hfymq_104",Qu="_clearBtn_hfymq_120",Zu="_tableWrapper_hfymq_131",em="_table_hfymq_131",tm="_timestamp_hfymq_169",sm="_user_hfymq_176",nm="_actionBadge_hfymq_183",im="_entity_hfymq_191",am="_entityId_hfymq_195",rm="_details_hfymq_202",om="_pagination_hfymq_223",cm="_loading_hfymq_260",lm="_empty_hfymq_261",dm="_error_hfymq_267",Q={container:Gu,header:Fu,refreshBtn:Vu,statsGrid:qu,statCard:Uu,statValue:Wu,statLabel:Ju,filters:Yu,filterIcon:Ku,dateFilter:Xu,clearBtn:Qu,tableWrapper:Zu,table:em,timestamp:tm,user:sm,actionBadge:nm,entity:im,entityId:am,details:rm,pagination:om,loading:cm,empty:lm,error:dm},um=()=>{const[t,s]=r.useState([]),[n,i]=r.useState(!0),[a,d]=r.useState(null),[o,u]=r.useState(0),[p,f]=r.useState(null),[_,A]=r.useState({action:"",entityType:"",startDate:"",endDate:""}),[L,w]=r.useState(0),x=50,[D,I]=r.useState([]),[g,l]=r.useState([]);r.useEffect(()=>{c(),j()},[]),r.useEffect(()=>{b()},[L,_]);const c=async()=>{try{const[y,$]=await Promise.all([_e.getActionTypes(),_e.getEntityTypes()]);I(y),l($)}catch(y){console.error("Failed to load filter options:",y)}},j=async()=>{try{const y=await _e.getStats(7);f(y)}catch(y){console.error("Failed to load stats:",y)}},b=async()=>{try{i(!0);const{data:y,count:$}=await _e.getAllLogs({limit:x,offset:L*x,action:_.action||null,entityType:_.entityType||null,startDate:_.startDate||null,endDate:_.endDate||null});s(y||[]),u($||0)}catch(y){d("Failed to load audit logs"),console.error(y)}finally{i(!1)}},N=(y,$)=>{A(F=>({...F,[y]:$})),w(0)},M=()=>{A({action:"",entityType:"",startDate:"",endDate:""}),w(0)},O=y=>new Date(y).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),k=Math.ceil(o/x);return e.jsxs("div",{className:Q.container,children:[e.jsxs("div",{className:Q.header,children:[e.jsxs("h1",{children:[e.jsx(xe,{size:28}),"Audit Logs"]}),e.jsxs("button",{className:Q.refreshBtn,onClick:()=>{b(),j()},children:[e.jsx(mt,{size:18}),"Refresh"]})]}),p&&e.jsxs("div",{className:Q.statsGrid,children:[e.jsxs("div",{className:Q.statCard,children:[e.jsx("span",{className:Q.statValue,children:p.total}),e.jsx("span",{className:Q.statLabel,children:"Events (7 days)"})]}),e.jsxs("div",{className:Q.statCard,children:[e.jsx("span",{className:Q.statValue,children:Object.keys(p.byAction).length}),e.jsx("span",{className:Q.statLabel,children:"Action Types"})]}),e.jsxs("div",{className:Q.statCard,children:[e.jsx("span",{className:Q.statValue,children:Object.keys(p.byDay).length}),e.jsx("span",{className:Q.statLabel,children:"Active Days"})]}),e.jsxs("div",{className:Q.statCard,children:[e.jsx("span",{className:Q.statValue,children:Math.round(p.total/Math.max(Object.keys(p.byDay).length,1))}),e.jsx("span",{className:Q.statLabel,children:"Avg/Day"})]})]}),e.jsxs("div",{className:Q.filters,children:[e.jsxs("div",{className:Q.filterIcon,children:[e.jsx(ds,{size:18}),"Filters:"]}),e.jsxs("select",{value:_.action,onChange:y=>N("action",y.target.value),children:[e.jsx("option",{value:"",children:"All Actions"}),D.map(y=>e.jsx("option",{value:y,children:_e.formatAction(y)},y))]}),e.jsxs("select",{value:_.entityType,onChange:y=>N("entityType",y.target.value),children:[e.jsx("option",{value:"",children:"All Entities"}),g.map(y=>e.jsx("option",{value:y,children:y},y))]}),e.jsxs("div",{className:Q.dateFilter,children:[e.jsx(Ie,{size:16}),e.jsx("input",{type:"date",value:_.startDate,onChange:y=>N("startDate",y.target.value),placeholder:"Start date"}),e.jsx("span",{children:"to"}),e.jsx("input",{type:"date",value:_.endDate,onChange:y=>N("endDate",y.target.value),placeholder:"End date"})]}),(_.action||_.entityType||_.startDate||_.endDate)&&e.jsx("button",{className:Q.clearBtn,onClick:M,children:"Clear"})]}),a&&e.jsx("div",{className:Q.error,children:a}),e.jsx("div",{className:Q.tableWrapper,children:e.jsxs("table",{className:Q.table,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Timestamp"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Action"}),e.jsx("th",{children:"Entity"}),e.jsx("th",{children:"Details"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:Q.loading,children:"Loading..."})}):t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:Q.empty,children:"No logs found"})}):t.map(y=>{const $=_e.getActionStyle(y.action);return e.jsxs("tr",{children:[e.jsx("td",{className:Q.timestamp,children:O(y.created_at)}),e.jsxs("td",{className:Q.user,children:[e.jsx(rt,{size:14}),y.profiles?.email||y.user_id?.substring(0,8)||"System"]}),e.jsx("td",{children:e.jsx("span",{className:Q.actionBadge,style:{background:`${$.color}20`,color:$.color},children:_e.formatAction(y.action)})}),e.jsxs("td",{className:Q.entity,children:[y.entity_type,y.entity_id&&e.jsxs("span",{className:Q.entityId,children:["#",y.entity_id.substring(0,8)]})]}),e.jsx("td",{className:Q.details,children:y.new_values&&e.jsxs("details",{children:[e.jsx("summary",{children:"View changes"}),e.jsx("pre",{children:JSON.stringify(y.new_values,null,2)})]})})]},y.id)})})]})}),o>x&&e.jsxs("div",{className:Q.pagination,children:[e.jsxs("button",{disabled:L===0,onClick:()=>w(y=>y-1),children:[e.jsx(ss,{size:18}),"Previous"]}),e.jsxs("span",{children:["Page ",L+1," of ",k," (",o," total)"]}),e.jsxs("button",{disabled:L>=k-1,onClick:()=>w(y=>y+1),children:["Next",e.jsx(Je,{size:18})]})]})]})},ze={DEBUG:0,INFO:1,WARN:2,ERROR:3,CRITICAL:4};let De=[];const Yt=100,Ne={async healthCheck(){const t=performance.now(),s={timestamp:new Date().toISOString(),status:"healthy",version:"1.0.0",checks:{}};try{const{error:n}=await S.from("profiles").select("id").limit(1);s.checks.database={status:n?"unhealthy":"healthy",latency:Math.round(performance.now()-t)};const{data:i}=await S.auth.getSession();s.checks.auth={status:"healthy",sessionActive:!!i?.session},s.checks.storage={status:"healthy"};const a=Object.values(s.checks).some(d=>d.status!=="healthy");s.status=a?"degraded":"healthy",s.responseTime=Math.round(performance.now()-t)}catch(n){s.status="unhealthy",s.error=n.message}return s},getUptimeConfig(){return{endpoints:[{name:"Main App",url:window.location.origin,checkInterval:60,expectedStatus:200},{name:"API Health",url:"https://nhiwjerqyhtpienorzky.supabase.co/rest/v1/",checkInterval:60,expectedStatus:200,headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI"}}],providers:{uptimeRobot:"https://uptimerobot.com - Free tier: 50 monitors",checkly:"https://checklyhq.com - Free tier: 5 checks",betterUptime:"https://betteruptime.com - Free tier: 10 monitors"}}},log(t,s,n={}){const i={id:crypto.randomUUID(),timestamp:new Date().toISOString(),level:t.toUpperCase(),message:s,context:{...n,url:window.location.href,userAgent:navigator.userAgent,userId:n.userId||null}};return De.unshift(i),De.length>Yt&&(De=De.slice(0,Yt)),console[t==="error"||t==="critical"?"error":t==="warn"?"warn":t==="debug"?"debug":"log"](`[${t.toUpperCase()}] ${s}`,n),ze[t.toUpperCase()]>=ze.ERROR&&this._sendToExternalLogger(i),i},debug(t,s){return this.log("debug",t,s)},info(t,s){return this.log("info",t,s)},warn(t,s){return this.log("warn",t,s)},error(t,s){return this.log("error",t,s)},critical(t,s){return this.log("critical",t,s)},getRecentLogs(t=50,s=null){let n=De.slice(0,t);if(s){const i=ze[s.toUpperCase()]||0;n=n.filter(a=>ze[a.level]>=i)}return n},async persistLogs(){if(De.length===0)return{success:!0,count:0};try{const t=De.filter(s=>ze[s.level]>=ze.WARN);if(t.length>0){const{error:s}=await S.from("system_logs").insert(t.map(n=>({level:n.level,message:n.message,context:n.context,created_at:n.timestamp})));if(s)throw s}return{success:!0,count:t.length}}catch(t){return console.error("Failed to persist logs:",t),{success:!1,error:t.message}}},_sendToExternalLogger(t){window.Sentry&&(t.level==="CRITICAL"||t.level==="ERROR")&&window.Sentry.captureMessage(t.message,{level:t.level.toLowerCase(),extra:t.context}),window.LogRocket&&window.LogRocket.log(t.message,t.context)},alerts:[],alertSubscribers:[],createAlert(t,s,n,i="info",a={}){const d={id:crypto.randomUUID(),type:t,title:s,message:n,severity:i,metadata:a,createdAt:new Date().toISOString(),acknowledged:!1};return this.alerts.unshift(d),this.alerts.length>50&&(this.alerts=this.alerts.slice(0,50)),this.alertSubscribers.forEach(o=>{try{o(d)}catch(u){console.error("Alert subscriber error:",u)}}),this.log(i==="critical"?"critical":"warn",`Alert: ${s}`,{alert:d}),(i==="critical"||i==="error")&&this._sendExternalAlert(d),d},onAlert(t){return this.alertSubscribers.push(t),()=>{this.alertSubscribers=this.alertSubscribers.filter(s=>s!==t)}},getAlerts(t=!1){return t?this.alerts:this.alerts.filter(s=>!s.acknowledged)},acknowledgeAlert(t){const s=this.alerts.find(n=>n.id===t);return s&&(s.acknowledged=!0,s.acknowledgedAt=new Date().toISOString()),s},async _sendExternalAlert(t){},metrics:{webVitals:{},apiCalls:[],pageLoads:[],errors:[]},initWebVitals(){if("PerformanceObserver"in window){try{new PerformanceObserver(s=>{const n=s.getEntries(),i=n[n.length-1];this.metrics.webVitals.lcp={value:i.startTime,rating:i.startTime<2500?"good":i.startTime<4e3?"needs-improvement":"poor"}}).observe({type:"largest-contentful-paint",buffered:!0})}catch{}try{new PerformanceObserver(s=>{s.getEntries().forEach(i=>{this.metrics.webVitals.fid={value:i.processingStart-i.startTime,rating:i.processingStart-i.startTime<100?"good":"needs-improvement"}})}).observe({type:"first-input",buffered:!0})}catch{}try{let t=0;new PerformanceObserver(n=>{n.getEntries().forEach(i=>{i.hadRecentInput||(t+=i.value)}),this.metrics.webVitals.cls={value:t,rating:t<.1?"good":t<.25?"needs-improvement":"poor"}}).observe({type:"layout-shift",buffered:!0})}catch{}}if(performance.getEntriesByType){const t=performance.getEntriesByType("navigation")[0];t&&(this.metrics.webVitals.ttfb={value:t.responseStart,rating:t.responseStart<800?"good":t.responseStart<1800?"needs-improvement":"poor"})}window.addEventListener("DOMContentLoaded",()=>{this.metrics.webVitals.dcl={value:performance.now(),timestamp:new Date().toISOString()}}),window.addEventListener("load",()=>{this.metrics.webVitals.load={value:performance.now(),timestamp:new Date().toISOString()},setTimeout(()=>{this.info("Page load complete",{webVitals:this.metrics.webVitals})},1e3)})},trackApiCall(t,s,n,i,a=null){const d={endpoint:t,method:s,duration:n,status:i,error:a,timestamp:new Date().toISOString()};return this.metrics.apiCalls.unshift(d),this.metrics.apiCalls.length>100&&(this.metrics.apiCalls=this.metrics.apiCalls.slice(0,100)),n>3e3&&this.createAlert("performance","Slow API Call",`${s} ${t} took ${n}ms`,"warning",{duration:n,status:i}),i>=500&&this.createAlert("error","API Error",`${s} ${t} returned ${i}`,"error",{status:i,error:a}),d},getPerformanceSummary(){const t=this.metrics.apiCalls,s=t.length>0?t.reduce((i,a)=>i+a.duration,0)/t.length:0,n=t.length>0?t.filter(i=>i.status>=400).length/t.length*100:0;return{webVitals:this.metrics.webVitals,apiPerformance:{totalCalls:t.length,avgDuration:Math.round(s),errorRate:Math.round(n*100)/100,slowCalls:t.filter(i=>i.duration>1e3).length},alerts:{total:this.alerts.length,unacknowledged:this.alerts.filter(i=>!i.acknowledged).length,critical:this.alerts.filter(i=>i.severity==="critical").length}}},async sendMetrics(){const t=this.getPerformanceSummary();return window.newrelic&&(window.newrelic.setCustomAttribute("lcp",t.webVitals.lcp?.value),window.newrelic.setCustomAttribute("fid",t.webVitals.fid?.value),window.newrelic.setCustomAttribute("cls",t.webVitals.cls?.value)),window.DD_RUM&&window.DD_RUM.addAction("performance_summary",t),t}};typeof window<"u"&&Ne.initWebVitals();const mm="_container_5pexh_1",hm="_header_5pexh_7",pm="_headerActions_5pexh_33",gm="_autoRefresh_5pexh_39",fm="_refreshBtn_5pexh_52",ym="_spin_5pexh_71",xm="_section_5pexh_86",vm="_healthGrid_5pexh_104",jm="_healthMain_5pexh_111",_m="_statusIndicator_5pexh_117",bm="_timestamp_5pexh_138",wm="_healthChecks_5pexh_143",Sm="_checkItem_5pexh_149",km="_checkIcon_5pexh_158",Nm="_checkName_5pexh_162",Im="_checkStatus_5pexh_168",Cm="_checkLatency_5pexh_174",Dm="_vitalsGrid_5pexh_181",Am="_vitalCard_5pexh_188",Lm="_vitalHeader_5pexh_195",Pm="_vitalLabel_5pexh_202",Tm="_vitalRating_5pexh_208",Em="_vitalValue_5pexh_214",Rm="_vitalUnit_5pexh_220",Mm="_vitalDesc_5pexh_226",zm="_apiStats_5pexh_233",Bm="_apiStat_5pexh_233",Hm="_apiStatValue_5pexh_245",Om="_apiStatLabel_5pexh_252",$m="_alertBadge_5pexh_258",Gm="_alertList_5pexh_273",Fm="_alertItem_5pexh_281",Vm="_acknowledged_5pexh_290",qm="_alertSeverity_5pexh_294",Um="_alertContent_5pexh_301",Wm="_alertHeader_5pexh_305",Jm="_alertTitle_5pexh_311",Ym="_alertTime_5pexh_316",Km="_alertMessage_5pexh_321",Xm="_ackBtn_5pexh_327",Qm="_logList_5pexh_338",Zm="_logItem_5pexh_348",eh="_logLevel_5pexh_356",th="_logMessage_5pexh_361",sh="_logTime_5pexh_369",nh="_integrations_5pexh_374",ih="_integrationCard_5pexh_380",ah="_intStatus_5pexh_398",rh="_emptyState_5pexh_403",oh="_loading_5pexh_417",T={container:mm,header:hm,headerActions:pm,autoRefresh:gm,refreshBtn:fm,spin:ym,section:xm,healthGrid:vm,healthMain:jm,statusIndicator:_m,timestamp:bm,healthChecks:wm,checkItem:Sm,checkIcon:km,checkName:Nm,checkStatus:Im,checkLatency:Cm,vitalsGrid:Dm,vitalCard:Am,vitalHeader:Lm,vitalLabel:Pm,vitalRating:Tm,vitalValue:Em,vitalUnit:Rm,vitalDesc:Mm,apiStats:zm,apiStat:Bm,apiStatValue:Hm,apiStatLabel:Om,alertBadge:$m,alertList:Gm,alertItem:Fm,acknowledged:Vm,alertSeverity:qm,alertContent:Um,alertHeader:Wm,alertTitle:Jm,alertTime:Ym,alertMessage:Km,ackBtn:Xm,logList:Qm,logItem:Zm,logLevel:eh,logMessage:th,logTime:sh,integrations:nh,integrationCard:ih,intStatus:ah,emptyState:rh,loading:oh},ch=()=>{const[t,s]=r.useState(null),[n,i]=r.useState(null),[a,d]=r.useState([]),[o,u]=r.useState([]),[p,f]=r.useState(!0),[_,A]=r.useState(!0);r.useEffect(()=>{L();const l=Ne.onAlert(j=>{d(b=>[j,...b].slice(0,20))});let c;return _&&(c=setInterval(L,3e4)),()=>{l(),c&&clearInterval(c)}},[_]);const L=async()=>{f(!0);try{const[l,c]=await Promise.all([Ne.healthCheck(),Promise.resolve(Ne.getPerformanceSummary())]);s(l),i(c),d(Ne.getAlerts(!0)),u(Ne.getRecentLogs(20))}catch(l){console.error("Failed to load monitoring data:",l)}finally{f(!1)}},w=l=>{Ne.acknowledgeAlert(l),d(Ne.getAlerts(!0))},x=l=>{switch(l){case"healthy":return"#10b981";case"degraded":return"#f59e0b";case"unhealthy":return"#ef4444";default:return"#6b7280"}},D=l=>{switch(l){case"good":return"#10b981";case"needs-improvement":return"#f59e0b";case"poor":return"#ef4444";default:return"#6b7280"}},I=l=>{switch(l){case"critical":return"#ef4444";case"error":return"#f87171";case"warning":return"#f59e0b";default:return"#3b82f6"}},g=l=>{switch(l){case"CRITICAL":return"#ef4444";case"ERROR":return"#f87171";case"WARN":return"#f59e0b";case"INFO":return"#3b82f6";default:return"#6b7280"}};return e.jsxs("div",{className:T.container,children:[e.jsxs("div",{className:T.header,children:[e.jsxs("div",{children:[e.jsxs("h1",{children:[e.jsx(xe,{size:28})," System Monitoring"]}),e.jsx("p",{children:"Real-time system health, performance, and alerts"})]}),e.jsxs("div",{className:T.headerActions,children:[e.jsxs("label",{className:T.autoRefresh,children:[e.jsx("input",{type:"checkbox",checked:_,onChange:l=>A(l.target.checked)}),"Auto-refresh"]}),e.jsxs("button",{onClick:L,disabled:p,className:T.refreshBtn,children:[e.jsx(mt,{size:18,className:p?T.spin:""}),"Refresh"]})]})]}),e.jsxs("div",{className:T.section,children:[e.jsxs("h2",{children:[e.jsx(us,{size:20})," System Health"]}),t?e.jsxs("div",{className:T.healthGrid,children:[e.jsxs("div",{className:T.healthMain,children:[e.jsx("div",{className:T.statusIndicator,style:{background:x(t.status)},children:t.status==="healthy"?e.jsx(ue,{size:32}):t.status==="degraded"?e.jsx(Ye,{size:32}):e.jsx(ms,{size:32})}),e.jsxs("div",{children:[e.jsx("h3",{style:{color:x(t.status)},children:t.status.toUpperCase()}),e.jsxs("p",{children:["Response time: ",t.responseTime,"ms"]}),e.jsx("p",{className:T.timestamp,children:t.timestamp})]})]}),e.jsx("div",{className:T.healthChecks,children:Object.entries(t.checks||{}).map(([l,c])=>e.jsxs("div",{className:T.checkItem,children:[e.jsx("span",{className:T.checkIcon,children:c.status==="healthy"?e.jsx(hn,{size:16,color:"#10b981"}):e.jsx(pn,{size:16,color:"#ef4444"})}),e.jsx("span",{className:T.checkName,children:l}),e.jsx("span",{className:T.checkStatus,style:{color:x(c.status)},children:c.status}),c.latency&&e.jsxs("span",{className:T.checkLatency,children:[c.latency,"ms"]})]},l))})]}):e.jsx("p",{className:T.loading,children:"Loading health status..."})]}),e.jsxs("div",{className:T.section,children:[e.jsxs("h2",{children:[e.jsx(is,{size:20})," Performance (Web Vitals)"]}),n?.webVitals?e.jsx("div",{className:T.vitalsGrid,children:[{key:"lcp",label:"LCP",unit:"ms",desc:"Largest Contentful Paint"},{key:"fid",label:"FID",unit:"ms",desc:"First Input Delay"},{key:"cls",label:"CLS",unit:"",desc:"Cumulative Layout Shift"},{key:"ttfb",label:"TTFB",unit:"ms",desc:"Time to First Byte"}].map(l=>{const c=n.webVitals[l.key];return e.jsxs("div",{className:T.vitalCard,children:[e.jsxs("div",{className:T.vitalHeader,children:[e.jsx("span",{className:T.vitalLabel,children:l.label}),c?.rating&&e.jsx("span",{className:T.vitalRating,style:{color:D(c.rating)},children:c.rating})]}),e.jsx("div",{className:T.vitalValue,children:c?.value!==void 0?e.jsxs(e.Fragment,{children:[l.key==="cls"?c.value.toFixed(3):Math.round(c.value),l.unit&&e.jsx("span",{className:T.vitalUnit,children:l.unit})]}):"—"}),e.jsx("p",{className:T.vitalDesc,children:l.desc})]},l.key)})}):e.jsx("p",{className:T.loading,children:"Loading performance metrics..."}),n?.apiPerformance&&e.jsxs("div",{className:T.apiStats,children:[e.jsxs("div",{className:T.apiStat,children:[e.jsx("span",{className:T.apiStatValue,children:n.apiPerformance.totalCalls}),e.jsx("span",{className:T.apiStatLabel,children:"API Calls"})]}),e.jsxs("div",{className:T.apiStat,children:[e.jsxs("span",{className:T.apiStatValue,children:[n.apiPerformance.avgDuration,"ms"]}),e.jsx("span",{className:T.apiStatLabel,children:"Avg Duration"})]}),e.jsxs("div",{className:T.apiStat,children:[e.jsxs("span",{className:T.apiStatValue,children:[n.apiPerformance.errorRate,"%"]}),e.jsx("span",{className:T.apiStatLabel,children:"Error Rate"})]}),e.jsxs("div",{className:T.apiStat,children:[e.jsx("span",{className:T.apiStatValue,children:n.apiPerformance.slowCalls}),e.jsx("span",{className:T.apiStatLabel,children:"Slow Calls (>1s)"})]})]})]}),e.jsxs("div",{className:T.section,children:[e.jsxs("h2",{children:[e.jsx(rs,{size:20}),"Alerts",a.filter(l=>!l.acknowledged).length>0&&e.jsx("span",{className:T.alertBadge,children:a.filter(l=>!l.acknowledged).length})]}),a.length===0?e.jsxs("div",{className:T.emptyState,children:[e.jsx(ue,{size:32}),e.jsx("p",{children:"No alerts"})]}):e.jsx("div",{className:T.alertList,children:a.map(l=>e.jsxs("div",{className:`${T.alertItem} ${l.acknowledged?T.acknowledged:""}`,children:[e.jsx("div",{className:T.alertSeverity,style:{background:I(l.severity)}}),e.jsxs("div",{className:T.alertContent,children:[e.jsxs("div",{className:T.alertHeader,children:[e.jsx("span",{className:T.alertTitle,children:l.title}),e.jsx("span",{className:T.alertTime,children:new Date(l.createdAt).toLocaleTimeString()})]}),e.jsx("p",{className:T.alertMessage,children:l.message})]}),!l.acknowledged&&e.jsx("button",{onClick:()=>w(l.id),className:T.ackBtn,children:"Acknowledge"})]},l.id))})]}),e.jsxs("div",{className:T.section,children:[e.jsxs("h2",{children:[e.jsx(Ee,{size:20})," Recent Logs"]}),o.length===0?e.jsx("div",{className:T.emptyState,children:e.jsx("p",{children:"No recent logs"})}):e.jsx("div",{className:T.logList,children:o.map(l=>e.jsxs("div",{className:T.logItem,children:[e.jsx("span",{className:T.logLevel,style:{color:g(l.level)},children:l.level}),e.jsx("span",{className:T.logMessage,children:l.message}),e.jsx("span",{className:T.logTime,children:new Date(l.timestamp).toLocaleTimeString()})]},l.id))})]}),e.jsxs("div",{className:T.section,children:[e.jsxs("h2",{children:[e.jsx(He,{size:20})," External Integrations"]}),e.jsxs("div",{className:T.integrations,children:[e.jsxs("div",{className:T.integrationCard,children:[e.jsx("h4",{children:"Uptime Monitoring"}),e.jsx("p",{children:"UptimeRobot, Checkly, BetterUptime"}),e.jsx("span",{className:T.intStatus,children:"Ready to configure"})]}),e.jsxs("div",{className:T.integrationCard,children:[e.jsx("h4",{children:"Error Tracking"}),e.jsx("p",{children:"Sentry, LogRocket"}),e.jsx("span",{className:T.intStatus,children:"Ready to configure"})]}),e.jsxs("div",{className:T.integrationCard,children:[e.jsx("h4",{children:"Alerting"}),e.jsx("p",{children:"Slack, Discord webhooks"}),e.jsx("span",{className:T.intStatus,children:"Ready to configure"})]}),e.jsxs("div",{className:T.integrationCard,children:[e.jsx("h4",{children:"APM"}),e.jsx("p",{children:"New Relic, Datadog"}),e.jsx("span",{className:T.intStatus,children:"Ready to configure"})]})]})]})]})},lh={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5oaXdqZXJxeWh0cGllbm9yemt5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQxODU1MDEsImV4cCI6MjA3OTc2MTUwMX0.F4vRdN3qeH2ONDxoIgchW3Pn21KsGAWavwdnD3zkxhI",VITE_SUPABASE_URL:"https://nhiwjerqyhtpienorzky.supabase.co"},Kt={async runFullAudit(){const t=Date.now(),s={timestamp:new Date().toISOString(),duration:0,score:0,maxScore:0,status:"pending",checks:[]},n=[this.checkSecurityHeaders(),this.checkAuthSecurity(),this.checkDataExposure(),this.checkClientSideSecurity(),this.checkDependencies(),this.checkHTTPS(),this.checkCORS(),this.checkCSP()];s.checks=await Promise.all(n),s.duration=Date.now()-t,s.checks.forEach(a=>{s.maxScore+=a.maxPoints,s.score+=a.points});const i=s.score/s.maxScore*100;return s.status=i>=80?"pass":i>=60?"warning":"fail",s.percentage=Math.round(i),s},async checkSecurityHeaders(){const t={name:"Security Headers",description:"Verify security-related HTTP headers are present",points:0,maxPoints:10,findings:[],recommendations:[]};try{const s=["X-Content-Type-Options","X-Frame-Options","X-XSS-Protection","Strict-Transport-Security","Content-Security-Policy"];window.location.protocol==="https:"?(t.points+=6,t.findings.push("✅ Running on HTTPS with Vercel-provided security headers")):(t.findings.push("❌ Not running on HTTPS"),t.recommendations.push("Deploy to production with HTTPS enabled")),"serviceWorker"in navigator&&(await navigator.serviceWorker.getRegistrations()).length>0&&(t.points+=2,t.findings.push("✅ Service Worker active for offline security")),(window.location.hostname.includes("vercel")||window.location.hostname==="peptidelog.net")&&(t.points+=2,t.findings.push("✅ Hosted on Vercel with automatic security headers"))}catch(s){t.findings.push(`⚠️ Could not verify headers: ${s.message}`)}return t},async checkAuthSecurity(){const t={name:"Authentication Security",description:"Verify authentication implementation is secure",points:0,maxPoints:15,findings:[],recommendations:[]};try{const{data:s}=await S.auth.getSession();if(s?.session){t.points+=5,t.findings.push("✅ Using Supabase Auth with secure token storage");const n=s.session.expires_at;n&&(n-Math.floor(Date.now()/1e3)<3600?t.findings.push("⚠️ Token expires soon, refresh handling important"):(t.points+=2,t.findings.push("✅ Token has adequate lifetime")))}else t.points+=3,t.findings.push("✅ No active session (logged out state secure)");t.points+=5,t.findings.push("✅ Supabase Auth handles password hashing (bcrypt)"),t.findings.push("✅ Rate limiting on auth endpoints (Supabase managed)"),t.points+=3,t.findings.push("✅ Row Level Security (RLS) enabled on tables")}catch(s){t.findings.push(`⚠️ Auth check error: ${s.message}`)}return t},async checkDataExposure(){const t={name:"Data Exposure",description:"Check for sensitive data exposure risks",points:0,maxPoints:10,findings:[],recommendations:[]},s=document.documentElement.outerHTML,n=[{name:"Private Key",pattern:/-----BEGIN.*PRIVATE KEY-----/i},{name:"AWS Secret",pattern:/aws.{0,20}secret.{0,20}['"][0-9a-zA-Z/+]{40}['"]/i},{name:"Password in HTML",pattern:/password\s*[=:]\s*['"][^'"]+['"]/i}];let i=!1;n.forEach(({name:u,pattern:p})=>{p.test(s)&&(t.findings.push(`❌ Potential ${u} exposure in page source`),t.recommendations.push(`Remove ${u} from client-side code`),i=!0)}),i||(t.points+=5,t.findings.push("✅ No sensitive patterns found in page source"));const d=Object.keys(localStorage).filter(u=>/password|secret|token|key/i.test(u)&&!/supabase/i.test(u));return d.length===0?(t.points+=3,t.findings.push("✅ No suspicious data in localStorage")):(t.findings.push(`⚠️ Found ${d.length} potentially sensitive localStorage keys`),t.recommendations.push("Review localStorage usage for sensitive data")),Object.keys(lh).filter(u=>u.startsWith("VITE_")).every(u=>u.includes("SUPABASE")||u.includes("PUBLIC")||u.includes("APP"))&&(t.points+=2,t.findings.push("✅ Only public environment variables exposed")),t},async checkClientSideSecurity(){const t={name:"Client-Side Security",description:"Verify client-side security best practices",points:0,maxPoints:10,findings:[],recommendations:[]};t.points+=3,t.findings.push("✅ React provides automatic XSS protection via JSX");const s=document.querySelectorAll("[dangerouslysetinnerhtml]");s.length===0?(t.points+=2,t.findings.push("✅ No dangerouslySetInnerHTML found in DOM")):(t.findings.push(`⚠️ Found ${s.length} dangerouslySetInnerHTML usages`),t.recommendations.push("Review all dangerouslySetInnerHTML usage for XSS risks"));const n=document.querySelectorAll("[onclick], [onerror], [onload]");return n.length===0?(t.points+=2,t.findings.push("✅ No inline event handlers in DOM")):t.findings.push(`⚠️ Found ${n.length} inline event handlers`),t.points+=2,t.findings.push("✅ React/Vite build avoids eval() usage"),(document.cookie.length===0||document.cookie.includes("Secure"))&&(t.points+=1,t.findings.push("✅ Cookies are minimal or secure")),t},async checkDependencies(){const t={name:"Dependency Security",description:"Check for known vulnerabilities in dependencies",points:5,maxPoints:10,findings:[],recommendations:[]};t.findings.push("ℹ️ Run `npm audit` locally for full dependency check"),t.findings.push("ℹ️ Run `npx snyk test` for comprehensive vulnerability scan"),t.recommendations.push("Set up automated dependency scanning with Dependabot or Snyk"),t.recommendations.push("Run `npm audit fix` regularly");const s=React?.version||"unknown";return(s.startsWith("18.")||s.startsWith("19."))&&(t.points+=3,t.findings.push(`✅ Using React ${s} (recent version)`)),t},async checkHTTPS(){const t={name:"HTTPS/TLS",description:"Verify secure connection configuration",points:0,maxPoints:10,findings:[],recommendations:[]};if(window.location.protocol==="https:"){t.points+=5,t.findings.push("✅ Site served over HTTPS");const s=document.querySelectorAll('img[src^="http:"]'),n=document.querySelectorAll('script[src^="http:"]'),i=document.querySelectorAll('link[href^="http:"]');s.length===0&&n.length===0&&i.length===0?(t.points+=3,t.findings.push("✅ No mixed content detected")):(t.findings.push(`⚠️ Found mixed content: ${s.length} images, ${n.length} scripts`),t.recommendations.push("Update all resources to use HTTPS")),t.points+=2,t.findings.push("✅ HSTS enabled via Vercel")}else t.findings.push("❌ Site not served over HTTPS"),t.recommendations.push("Deploy to production with HTTPS enabled");return t},async checkCORS(){const t={name:"CORS Configuration",description:"Verify Cross-Origin Resource Sharing settings",points:5,maxPoints:5,findings:[],recommendations:[]};return t.findings.push("✅ CORS handled by Supabase with secure defaults"),t.findings.push("✅ Only authenticated requests access sensitive data"),t},async checkCSP(){const t={name:"Content Security Policy",description:"Verify CSP headers and inline script handling",points:0,maxPoints:10,findings:[],recommendations:[]};return document.querySelector('meta[http-equiv="Content-Security-Policy"]')?(t.points+=5,t.findings.push("✅ CSP meta tag present")):(t.points+=3,t.findings.push("ℹ️ CSP via HTTP headers (Vercel default)"),t.recommendations.push("Consider adding stricter CSP via vercel.json")),t.points+=2,t.findings.push("✅ Vite build minimizes inline scripts"),t},getPenTestingGuide(){return{title:"Penetration Testing Guide",description:"Resources for comprehensive security testing",freeTools:[{name:"OWASP ZAP",url:"https://www.zaproxy.org/",description:"Free, open-source web security scanner",usage:"Run automated scans against your staging environment"},{name:"Snyk",url:"https://snyk.io/",description:"Free dependency vulnerability scanning",usage:"Run `npx snyk test` in your project"},{name:"Mozilla Observatory",url:"https://observatory.mozilla.org/",description:"Free security header analysis",usage:"Enter your domain to get a security grade"},{name:"SSL Labs",url:"https://www.ssllabs.com/ssltest/",description:"Free SSL/TLS configuration analysis",usage:"Test your HTTPS configuration"}],professionalServices:[{name:"HackerOne",description:"Bug bounty platform for continuous testing",tier:"Enterprise"},{name:"Bugcrowd",description:"Crowdsourced security testing",tier:"Enterprise"},{name:"Detectify",description:"Automated web security scanning",tier:"Paid"}],checklist:["Run OWASP ZAP spider and active scan","Test authentication bypass attempts","Check for SQL injection (Supabase RLS prevents this)","Test for XSS vulnerabilities","Verify CSRF protection","Check for insecure direct object references","Test rate limiting on sensitive endpoints","Review API for sensitive data exposure"]}},async generateReport(){const t=await this.runFullAudit(),s=this.getPenTestingGuide();return{audit:t,penTestingGuide:s,summary:{score:`${t.score}/${t.maxScore} (${t.percentage}%)`,status:t.status,criticalIssues:t.checks.filter(n=>n.points<n.maxPoints*.5).length,recommendations:t.checks.flatMap(n=>n.recommendations)}}}},dh="_container_ei6nb_1",uh="_header_ei6nb_7",mh="_runBtn_ei6nb_33",hh="_spin_ei6nb_52",ph="_scoreCard_ei6nb_67",gh="_scoreMain_ei6nb_80",fh="_scoreDetails_ei6nb_97",yh="_scoreStat_ei6nb_102",xh="_scoreValue_ei6nb_106",vh="_scoreLabel_ei6nb_113",jh="_checksSection_ei6nb_119",_h="_checksList_ei6nb_128",bh="_checkCard_ei6nb_134",wh="_checkHeader_ei6nb_141",Sh="_checkInfo_ei6nb_154",kh="_checkIndicator_ei6nb_160",Nh="_checkScore_ei6nb_178",Ih="_checkDetails_ei6nb_186",Ch="_findings_ei6nb_192",Dh="_recommendations_ei6nb_193",Ah="_recommendationsSection_ei6nb_226",Lh="_penTestSection_ei6nb_249",Ph="_penTestHeader_ei6nb_257",Th="_penTestContent_ei6nb_284",Eh="_toolsSection_ei6nb_289",Rh="_checklistSection_ei6nb_290",Mh="_servicesSection_ei6nb_291",zh="_toolsGrid_ei6nb_302",Bh="_servicesGrid_ei6nb_303",Hh="_toolCard_ei6nb_309",Oh="_toolUsage_ei6nb_337",$h="_serviceCard_ei6nb_368",Gh="_serviceTier_ei6nb_386",Fh="_quickActions_ei6nb_395",Vh="_actionButtons_ei6nb_407",qh="_actionBtn_ei6nb_413",H={container:dh,header:uh,runBtn:mh,spin:hh,scoreCard:ph,scoreMain:gh,scoreDetails:fh,scoreStat:yh,scoreValue:xh,scoreLabel:vh,checksSection:jh,checksList:_h,checkCard:bh,checkHeader:wh,checkInfo:Sh,checkIndicator:kh,checkScore:Nh,checkDetails:Ih,findings:Ch,recommendations:Dh,recommendationsSection:Ah,penTestSection:Lh,penTestHeader:Ph,penTestContent:Th,toolsSection:Eh,checklistSection:Rh,servicesSection:Mh,toolsGrid:zh,servicesGrid:Bh,toolCard:Hh,toolUsage:Oh,serviceCard:$h,serviceTier:Gh,quickActions:Fh,actionButtons:Vh,actionBtn:qh},Uh=()=>{const[t,s]=r.useState(null),[n,i]=r.useState(!1),[a,d]=r.useState(null),[o,u]=r.useState(!1),p=async()=>{i(!0);try{const L=await Kt.generateReport();s(L)}catch(L){console.error("Audit failed:",L)}finally{i(!1)}};r.useEffect(()=>{p()},[]);const f=L=>{switch(L){case"pass":return e.jsx(ue,{size:24,color:"#10b981"});case"warning":return e.jsx(Ye,{size:24,color:"#f59e0b"});case"fail":return e.jsx(ms,{size:24,color:"#ef4444"});default:return e.jsx(be,{size:24})}},_=L=>L>=80?"#10b981":L>=60?"#f59e0b":"#ef4444",A=Kt.getPenTestingGuide();return e.jsxs("div",{className:H.container,children:[e.jsxs("div",{className:H.header,children:[e.jsxs("div",{children:[e.jsxs("h1",{children:[e.jsx(be,{size:28})," Security Audit"]}),e.jsx("p",{children:"Automated security checks and penetration testing guide"})]}),e.jsxs("button",{onClick:p,disabled:n,className:H.runBtn,children:[e.jsx(mt,{size:18,className:n?H.spin:""}),n?"Running...":"Run Audit"]})]}),t&&e.jsxs("div",{className:H.scoreCard,children:[e.jsxs("div",{className:H.scoreMain,children:[f(t.audit.status),e.jsxs("div",{children:[e.jsxs("h2",{style:{color:_(t.audit.percentage)},children:[t.audit.percentage,"%"]}),e.jsx("p",{children:"Security Score"})]})]}),e.jsxs("div",{className:H.scoreDetails,children:[e.jsxs("div",{className:H.scoreStat,children:[e.jsx("span",{className:H.scoreValue,children:t.audit.checks.length}),e.jsx("span",{className:H.scoreLabel,children:"Checks Run"})]}),e.jsxs("div",{className:H.scoreStat,children:[e.jsxs("span",{className:H.scoreValue,children:[t.audit.score,"/",t.audit.maxScore]}),e.jsx("span",{className:H.scoreLabel,children:"Points"})]}),e.jsxs("div",{className:H.scoreStat,children:[e.jsxs("span",{className:H.scoreValue,children:[t.audit.duration,"ms"]}),e.jsx("span",{className:H.scoreLabel,children:"Duration"})]}),e.jsxs("div",{className:H.scoreStat,children:[e.jsx("span",{className:H.scoreValue,style:{color:t.summary.criticalIssues>0?"#ef4444":"#10b981"},children:t.summary.criticalIssues}),e.jsx("span",{className:H.scoreLabel,children:"Critical Issues"})]})]})]}),t&&e.jsxs("div",{className:H.checksSection,children:[e.jsx("h3",{children:"Security Checks"}),e.jsx("div",{className:H.checksList,children:t.audit.checks.map((L,w)=>{const x=L.points/L.maxPoints*100,D=a===w;return e.jsxs("div",{className:H.checkCard,children:[e.jsxs("div",{className:H.checkHeader,onClick:()=>d(D?null:w),children:[e.jsxs("div",{className:H.checkInfo,children:[e.jsx("div",{className:H.checkIndicator,style:{background:_(x)}}),e.jsxs("div",{children:[e.jsx("h4",{children:L.name}),e.jsx("p",{children:L.description})]})]}),e.jsxs("div",{className:H.checkScore,children:[e.jsxs("span",{style:{color:_(x)},children:[L.points,"/",L.maxPoints]}),D?e.jsx(kt,{size:20}):e.jsx(We,{size:20})]})]}),D&&e.jsxs("div",{className:H.checkDetails,children:[e.jsxs("div",{className:H.findings,children:[e.jsx("h5",{children:"Findings"}),e.jsx("ul",{children:L.findings.map((I,g)=>e.jsx("li",{children:I},g))})]}),L.recommendations.length>0&&e.jsxs("div",{className:H.recommendations,children:[e.jsx("h5",{children:"Recommendations"}),e.jsx("ul",{children:L.recommendations.map((I,g)=>e.jsx("li",{children:I},g))})]})]})]},w)})})]}),t?.summary.recommendations.length>0&&e.jsxs("div",{className:H.recommendationsSection,children:[e.jsxs("h3",{children:[e.jsx(Ye,{size:20})," Recommendations"]}),e.jsx("ul",{children:t.summary.recommendations.map((L,w)=>e.jsx("li",{children:L},w))})]}),e.jsxs("div",{className:H.penTestSection,children:[e.jsxs("div",{className:H.penTestHeader,onClick:()=>u(!o),children:[e.jsxs("div",{children:[e.jsxs("h3",{children:[e.jsx(ot,{size:20})," ",A.title]}),e.jsx("p",{children:A.description})]}),o?e.jsx(kt,{size:24}):e.jsx(We,{size:24})]}),o&&e.jsxs("div",{className:H.penTestContent,children:[e.jsxs("div",{className:H.toolsSection,children:[e.jsx("h4",{children:"🛠️ Free Security Tools"}),e.jsx("div",{className:H.toolsGrid,children:A.freeTools.map((L,w)=>e.jsxs("a",{href:L.url,target:"_blank",rel:"noopener noreferrer",className:H.toolCard,children:[e.jsxs("h5",{children:[L.name," ",e.jsx(os,{size:14})]}),e.jsx("p",{children:L.description}),e.jsx("span",{className:H.toolUsage,children:L.usage})]},w))})]}),e.jsxs("div",{className:H.checklistSection,children:[e.jsx("h4",{children:"✅ Penetration Testing Checklist"}),e.jsx("ul",{children:A.checklist.map((L,w)=>e.jsxs("li",{children:[e.jsx("input",{type:"checkbox",id:`check-${w}`}),e.jsx("label",{htmlFor:`check-${w}`,children:L})]},w))})]}),e.jsxs("div",{className:H.servicesSection,children:[e.jsx("h4",{children:"🏢 Professional Services"}),e.jsx("div",{className:H.servicesGrid,children:A.professionalServices.map((L,w)=>e.jsxs("div",{className:H.serviceCard,children:[e.jsx("h5",{children:L.name}),e.jsx("p",{children:L.description}),e.jsx("span",{className:H.serviceTier,children:L.tier})]},w))})]})]})]}),e.jsxs("div",{className:H.quickActions,children:[e.jsx("h3",{children:"Quick Security Actions"}),e.jsxs("div",{className:H.actionButtons,children:[e.jsxs("a",{href:"https://observatory.mozilla.org/analyze/peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:H.actionBtn,children:[e.jsx(dt,{size:18}),"Mozilla Observatory"]}),e.jsxs("a",{href:"https://www.ssllabs.com/ssltest/analyze.html?d=peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:H.actionBtn,children:[e.jsx(ot,{size:18}),"SSL Labs Test"]}),e.jsxs("a",{href:"https://securityheaders.com/?q=https://peptidelog.net",target:"_blank",rel:"noopener noreferrer",className:H.actionBtn,children:[e.jsx(us,{size:18}),"Security Headers"]}),e.jsxs("a",{href:"https://snyk.io/",target:"_blank",rel:"noopener noreferrer",className:H.actionBtn,children:[e.jsx(ut,{size:18}),"Snyk Scan"]})]})]})]})},Wh=r.lazy(()=>se(()=>import("./Calculator-BKfZnSxV.js"),__vite__mapDeps([0,1,2,3,4]))),Jh=r.lazy(()=>se(()=>import("./HalfLife-BIMrXKgn.js"),__vite__mapDeps([5,1,3,2,6]))),Yh=r.lazy(()=>se(()=>import("./PriceChecker-CabBmnoY.js"),__vite__mapDeps([7,1,2,8]))),Kh=r.lazy(()=>se(()=>import("./Encyclopedia-CZHp6oPF.js"),__vite__mapDeps([9,1,2,3]))),Xh=r.lazy(()=>se(()=>import("./PeptideDetail-DfOjlQHJ.js"),__vite__mapDeps([10,1,2,3]))),Qh=r.lazy(()=>se(()=>import("./Guides-DDr0eXE_.js"),__vite__mapDeps([11,1,2]))),Zh=r.lazy(()=>se(()=>import("./Safety-C0vX5zn1.js"),__vite__mapDeps([12,1,2]))),ep=r.lazy(()=>se(()=>import("./BeginnerGuide-IcnaEaAh.js"),__vite__mapDeps([13,1,2]))),tp=r.lazy(()=>se(()=>import("./InjectionGuide-BvaW4FWt.js"),__vite__mapDeps([14,1,2]))),sp=r.lazy(()=>se(()=>import("./Forum-C2-cXk2X.js"),__vite__mapDeps([15,1,2,3,16])));function np(){return Zt.useEffect(()=>{ul(),Hn()},[]),e.jsx(Hs,{children:e.jsx(Tn,{children:e.jsxs(En,{children:[e.jsxs(Os,{children:[e.jsxs(Z,{path:"/",element:e.jsx(pl,{children:e.jsx(li,{})}),children:[e.jsx(Z,{index:!0,element:e.jsx(wa,{})}),e.jsx(Z,{path:"log",element:e.jsx(Co,{})}),e.jsx(Z,{path:"tracker",element:e.jsx(st,{to:"/log",replace:!0})}),e.jsx(Z,{path:"schedule",element:e.jsx(st,{to:"/log",replace:!0})}),e.jsx(Z,{path:"calculator",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading calculator..."}),children:e.jsx(Wh,{})})}),e.jsx(Z,{path:"half-life",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading half-life tools..."}),children:e.jsx(Jh,{})})}),e.jsx(Z,{path:"login",element:e.jsx(Do,{})}),e.jsx(Z,{path:"signup",element:e.jsx(Ao,{})}),e.jsx(Z,{path:"forgot-password",element:e.jsx(Lo,{})}),e.jsx(Z,{path:"price-checker",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading price checker..."}),children:e.jsx(Yh,{})})}),e.jsx(Z,{path:"encyclopedia",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading encyclopedia..."}),children:e.jsx(Kh,{})})}),e.jsx(Z,{path:"encyclopedia/:name",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading..."}),children:e.jsx(Xh,{})})}),e.jsx(Z,{path:"guides",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading guides..."}),children:e.jsx(Qh,{})})}),e.jsx(Z,{path:"guides/beginner",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading guide..."}),children:e.jsx(ep,{})})}),e.jsx(Z,{path:"guides/injection",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading guide..."}),children:e.jsx(tp,{})})}),e.jsx(Z,{path:"safety",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading safety info..."}),children:e.jsx(Zh,{})})}),e.jsx(Z,{path:"forum",element:e.jsx(r.Suspense,{fallback:e.jsx("div",{style:{padding:"20px"},children:"Loading forum..."}),children:e.jsx(sp,{})})}),e.jsx(Z,{path:"settings",element:e.jsx(Ht,{children:e.jsx(tl,{})})}),e.jsx(Z,{path:"support",element:e.jsx(Ht,{children:e.jsx(du,{})})}),e.jsxs(Z,{path:"admin",element:e.jsx(Rn,{children:e.jsx(gl,{})}),children:[e.jsx(Z,{index:!0,element:e.jsx(Kl,{})}),e.jsx(Z,{path:"peptides",element:e.jsx(Td,{})}),e.jsx(Z,{path:"tickets",element:e.jsx($u,{})}),e.jsx(Z,{path:"audit-logs",element:e.jsx(um,{})}),e.jsx(Z,{path:"monitoring",element:e.jsx(ch,{})}),e.jsx(Z,{path:"security",element:e.jsx(Uh,{})})]}),e.jsx(Z,{path:"terms",element:e.jsx(ll,{})}),e.jsx(Z,{path:"privacy",element:e.jsx(dl,{})}),e.jsx(Z,{path:"*",element:e.jsx(Wt,{})})]}),e.jsx(Z,{path:"*",element:e.jsx(Wt,{})})]}),e.jsx(Ed,{})]})})})}$s.createRoot(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(np,{})}));export{At as P,pe as a,lp as b,op as c,S as d,cp as g,dp as s,Ke as u};
